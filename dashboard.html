<!DOCTYPE html><html lang="de"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0"><title>RFQ-Dashboard 2020â€“2024</title><style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,sans-serif;background:#f5f7fa;color:#2c3e50;min-height:100vh}.container{max-width:1400px;margin:0 auto;padding:20px}h1{text-align:center;color:#2c3e50;margin-bottom:20px;font-size:1.8rem}.filter-bar{background:#fff;padding:15px 20px;border-radius:10px;box-shadow:0 2px 10px rgba(0,0,0,.08);display:flex;gap:15px;align-items:center;flex-wrap:wrap;margin-bottom:20px}.filter-group{display:flex;align-items:center;gap:8px}.filter-group label{font-weight:600;font-size:.9rem}select{padding:8px 12px;border:1px solid #ddd;border-radius:6px;font-size:.9rem;min-width:120px;cursor:pointer}select:disabled{background:#f0f0f0;cursor:not-allowed}.btn{padding:10px 20px;border:none;border-radius:6px;font-size:.9rem;font-weight:600;cursor:pointer;transition:all .2s}.btn-primary{background:#3498db;color:#fff}.btn-primary:hover{background:#2980b9}.btn-danger{background:#e74c3c;color:#fff}.btn-danger:hover{background:#c0392b}.kpi-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px;margin-bottom:20px}.kpi-card{background:#fff;border-radius:10px;padding:20px;box-shadow:0 2px 10px rgba(0,0,0,.08);border-left:4px solid}.kpi-card.blue{border-left-color:#3498db}.kpi-card.green{border-left-color:#2ecc71}.kpi-card.orange{border-left-color:#f39c12}.kpi-label{font-size:.85rem;color:#7f8c8d;margin-bottom:5px}.kpi-value{font-size:2rem;font-weight:700}.kpi-card.blue .kpi-value{color:#3498db}.kpi-card.green .kpi-value,.kpi-card.red .kpi-value{color:#2ecc71}.kpi-card.orange .kpi-value{color:#f39c12}.kpi-sub{font-size:.85rem;color:#95a5a6;margin-top:5px}.kpi-sub.positive{color:#2ecc71}.kpi-sub.negative{color:#e74c3c}.charts-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(400px,1fr));gap:20px;margin-bottom:20px}.chart-card{background:#fff;border-radius:10px;padding:20px;box-shadow:0 2px 10px rgba(0,0,0,.08)}.chart-title{font-size:1rem;font-weight:600;margin-bottom:15px;color:#2c3e50}.chart-container{width:100%;height:280px;position:relative}.chart-hint{display:flex;align-items:center;justify-content:center;height:100%;color:#95a5a6;font-style:italic}.table-card{background:#fff;border-radius:10px;padding:20px;box-shadow:0 2px 10px rgba(0,0,0,.08);margin-bottom:20px;overflow-x:auto}.table-title{font-size:1rem;font-weight:600;margin-bottom:15px;color:#2c3e50}table{width:100%;border-collapse:collapse}th,td{padding:12px;text-align:left;border-bottom:1px solid #eee}th{background:#f8f9fa;font-weight:600;color:#2c3e50}tr:hover{background:#f8f9fa}tr.highlight{background:#fff3cd}.diff-positive{color:#2ecc71;font-weight:600}.diff-negative{color:#e74c3c;font-weight:600}.status-bar{background:#fff;padding:15px 20px;border-radius:10px;box-shadow:0 2px 10px rgba(0,0,0,.08);text-align:center;color:#2c3e50;font-weight:500}.legend{display:flex;gap:20px;justify-content:center;margin-top:10px;flex-wrap:wrap}.legend-item{display:flex;align-items:center;gap:5px;font-size:.8rem}.legend-color{width:12px;height:12px;border-radius:2px}svg text{font-family:inherit}</style></head><body><div class="container"><h1>ðŸ“Š RFQ-Dashboard 2020â€“2024</h1><div class="filter-bar"><div class="filter-group"><label>Jahr:</label><select id="yearFilter"><option value="">Alle Jahre</option><option value="2020">2020</option><option value="2021">2021</option><option value="2022">2022</option><option value="2023">2023</option><option value="2024">2024</option></select></div><div class="filter-group"><label>Monat:</label><select id="monthFilter" disabled><option value="">Alle Monate</option><option value="1">Januar</option><option value="2">Februar</option><option value="3">MÃ¤rz</option><option value="4">April</option><option value="5">Mai</option><option value="6">Juni</option><option value="7">Juli</option><option value="8">August</option><option value="9">September</option><option value="10">Oktober</option><option value="11">November</option><option value="12">Dezember</option></select></div><button class="btn btn-primary" id="applyBtn">AusfÃ¼hren</button><button class="btn btn-danger" id="resetBtn">ZurÃ¼cksetzen</button></div><div class="kpi-grid"><div class="kpi-card blue"><div class="kpi-label">Gesamt RFQs</div><div class="kpi-value" id="kpiTotal">-</div><div class="kpi-sub" id="kpiTotalSub"></div></div><div class="kpi-card green" id="kpiCompareCard"><div class="kpi-label">Vergleich zum Vorjahr</div><div class="kpi-value" id="kpiCompare">-</div><div class="kpi-sub" id="kpiCompareSub"></div></div><div class="kpi-card orange"><div class="kpi-label">Lieferanten</div><div class="kpi-value">2.221</div><div class="kpi-sub">Registrierte Partner</div></div></div><div class="charts-grid"><div class="chart-card"><div class="chart-title" id="barTitle">RFQs nach Jahr</div><div class="chart-container" id="barChart"></div></div><div class="chart-card"><div class="chart-title" id="pieTitle">Anteile nach Jahr</div><div class="chart-container" id="pieChart"></div></div><div class="chart-card" style="grid-column:span 2"><div class="chart-title" id="comboTitle">Monatsverlauf</div><div class="chart-container" id="comboChart"></div></div></div><div class="table-card"><div class="table-title">Monatsvergleich</div><table><thead><tr><th>Monat</th><th>Aktuell</th><th>Vorjahr</th><th>Differenz</th></tr></thead><tbody id="tableBody"></tbody></table></div><div class="status-bar" id="statusBar">Alle Jahre â€“ 37.348 RFQs</div></div><script>const DATA={yearly:{2020:2340,2021:9820,2022:10979,2023:10945,2024:3264},monthly:{2020:{2:17,3:34,4:16,5:37,6:199,7:306,8:224,9:284,10:358,11:430,12:435},2021:{1:599,2:758,3:909,4:878,5:817,6:824,7:977,8:639,9:896,10:911,11:871,12:741},2022:{1:743,2:1115,3:1166,4:798,5:947,6:991,7:1074,8:629,9:894,10:951,11:897,12:774},2023:{1:799,2:817,3:1020,4:816,5:1027,6:1030,7:1072,8:694,9:947,10:962,11:1014,12:747},2024:{1:958,2:1068,3:1050,4:188}}};const MONTHS=['','Januar','Februar','MÃ¤rz','April','Mai','Juni','Juli','August','September','Oktober','November','Dezember'];const COLORS={blue:'#3498db',green:'#2ecc71',red:'#e74c3c',orange:'#f39c12',gray:'#95a5a6'};const yearFilter=document.getElementById('yearFilter');const monthFilter=document.getElementById('monthFilter');const applyBtn=document.getElementById('applyBtn');const resetBtn=document.getElementById('resetBtn');let currentYear='';let currentMonth='';yearFilter.addEventListener('change',()=>{if(yearFilter.value){monthFilter.disabled=false}else{monthFilter.disabled=true;monthFilter.value=''}});applyBtn.addEventListener('click',()=>{currentYear=yearFilter.value;currentMonth=monthFilter.value;updateDashboard()});resetBtn.addEventListener('click',()=>{yearFilter.value='';monthFilter.value='';monthFilter.disabled=true;currentYear='';currentMonth='';updateDashboard()});function formatNum(n){return n.toLocaleString('de-DE')}function getTotalRFQs(){return Object.values(DATA.yearly).reduce((a,b)=>a+b,0)}function getYearTotal(y){return DATA.yearly[y]||0}function getMonthTotal(y,m){return DATA.monthly[y]&&DATA.monthly[y][m]?DATA.monthly[y][m]:0}function getPrevYearMonthTotal(y,m){const py=parseInt(y)-1;return DATA.monthly[py]&&DATA.monthly[py][m]?DATA.monthly[py][m]:0}function updateKPIs(){const kpiTotal=document.getElementById('kpiTotal');const kpiTotalSub=document.getElementById('kpiTotalSub');const kpiCompare=document.getElementById('kpiCompare');const kpiCompareSub=document.getElementById('kpiCompareSub');const kpiCompareCard=document.getElementById('kpiCompareCard');let current=0,previous=0,label='';if(!currentYear){current=getTotalRFQs();label='Alle Jahre (2020-2024)';kpiTotal.textContent=formatNum(current);kpiTotalSub.textContent=label;kpiCompare.textContent='-';kpiCompareSub.textContent='Kein Vergleich mÃ¶glich';kpiCompareCard.className='kpi-card green';return}if(!currentMonth){current=getYearTotal(currentYear);previous=getYearTotal(parseInt(currentYear)-1);label=`Jahr ${currentYear}`}else{current=getMonthTotal(currentYear,currentMonth);previous=getPrevYearMonthTotal(currentYear,currentMonth);label=`${MONTHS[currentMonth]} ${currentYear}`}kpiTotal.textContent=formatNum(current);kpiTotalSub.textContent=label;const diff=current-previous;const pct=previous>0?((diff/previous)*100).toFixed(1):0;if(previous===0){kpiCompare.textContent='-';kpiCompareSub.textContent='Kein Vorjahr verfÃ¼gbar';kpiCompareCard.className='kpi-card green'}else{const sign=diff>=0?'+':'';kpiCompare.textContent=`${sign}${formatNum(diff)}`;kpiCompareSub.textContent=`${sign}${pct}% vs. Vorjahr`;kpiCompareSub.className=diff>=0?'kpi-sub positive':'kpi-sub negative';kpiCompareCard.style.borderLeftColor=diff>=0?COLORS.green:COLORS.red;kpiCompare.style.color=diff>=0?COLORS.green:COLORS.red}}function drawBarChart(){const container=document.getElementById('barChart');const title=document.getElementById('barTitle');let data=[];let labels=[];if(!currentYear){title.textContent='RFQs nach Jahr (2020-2024)';for(let y=2020;y<=2024;y++){data.push({label:y.toString(),value:DATA.yearly[y],color:COLORS.blue})}}else if(!currentMonth){title.textContent=`${currentYear} vs. ${parseInt(currentYear)-1}`;const py=parseInt(currentYear)-1;data.push({label:py.toString(),value:DATA.yearly[py]||0,color:COLORS.gray});data.push({label:currentYear,value:DATA.yearly[currentYear],color:COLORS.blue})}else{title.textContent=`${MONTHS[currentMonth]} ${currentYear} vs. ${parseInt(currentYear)-1}`;const py=parseInt(currentYear)-1;data.push({label:`${MONTHS[currentMonth].substring(0,3)} ${py}`,value:getPrevYearMonthTotal(currentYear,currentMonth),color:COLORS.gray});data.push({label:`${MONTHS[currentMonth].substring(0,3)} ${currentYear}`,value:getMonthTotal(currentYear,currentMonth),color:COLORS.blue})}const maxVal=Math.max(...data.map(d=>d.value));const w=container.clientWidth||400;const h=280;const padding={top:20,right:20,bottom:40,left:60};const chartW=w-padding.left-padding.right;const chartH=h-padding.top-padding.bottom;const barW=Math.min(60,chartW/data.length-20);let svg=`<svg width="${w}" height="${h}" viewBox="0 0 ${w} ${h}">`;for(let i=0;i<5;i++){const y=padding.top+chartH-chartH*(i/4);const val=Math.round(maxVal*(i/4));svg+=`<line x1="${padding.left}" y1="${y}" x2="${w-padding.right}" y2="${y}" stroke="#eee" stroke-width="1"/>`;svg+=`<text x="${padding.left-10}" y="${y+4}" text-anchor="end" font-size="11" fill="#7f8c8d">${formatNum(val)}</text>`}data.forEach((d,i)=>{const x=padding.left+(chartW/data.length)*(i+0.5)-barW/2;const barH=(d.value/maxVal)*chartH;const y=padding.top+chartH-barH;svg+=`<rect x="${x}" y="${y}" width="${barW}" height="${barH}" fill="${d.color}" rx="4"/>`;svg+=`<text x="${x+barW/2}" y="${h-10}" text-anchor="middle" font-size="11" fill="#2c3e50">${d.label}</text>`;svg+=`<text x="${x+barW/2}" y="${y-5}" text-anchor="middle" font-size="10" fill="#2c3e50" font-weight="600">${formatNum(d.value)}</text>`});svg+=`</svg>`;container.innerHTML=svg}function drawPieChart(){const container=document.getElementById('pieChart');const title=document.getElementById('pieTitle');let data=[];if(!currentYear){title.textContent='Anteile nach Jahr (2020-2024)';const colors=['#3498db','#2ecc71','#f39c12','#e74c3c','#9b59b6'];for(let i=0;i<=4;i++){data.push({label:(2020+i).toString(),value:DATA.yearly[2020+i],color:colors[i]})}}else if(!currentMonth){title.textContent=`${currentYear} vs. ${parseInt(currentYear)-1}`;const py=parseInt(currentYear)-1;data.push({label:py.toString(),value:DATA.yearly[py]||0,color:COLORS.gray});data.push({label:currentYear,value:DATA.yearly[currentYear],color:COLORS.blue})}else{title.textContent=`${MONTHS[currentMonth]} ${currentYear} vs. Vorjahr`;const py=parseInt(currentYear)-1;data.push({label:py.toString(),value:getPrevYearMonthTotal(currentYear,currentMonth),color:COLORS.gray});data.push({label:currentYear,value:getMonthTotal(currentYear,currentMonth),color:COLORS.blue})}const total=data.reduce((s,d)=>s+d.value,0);const w=container.clientWidth||400;const h=280;const cx=w/2-60;const cy=h/2;const r=Math.min(cx,cy)-20;let svg=`<svg width="${w}" height="${h}" viewBox="0 0 ${w} ${h}">`;let startAngle=-Math.PI/2;data.forEach(d=>{const pct=d.value/total;const angle=pct*Math.PI*2;const endAngle=startAngle+angle;const x1=cx+r*Math.cos(startAngle);const y1=cy+r*Math.sin(startAngle);const x2=cx+r*Math.cos(endAngle);const y2=cy+r*Math.sin(endAngle);const largeArc=angle>Math.PI?1:0;svg+=`<path d="M ${cx} ${cy} L ${x1} ${y1} A ${r} ${r} 0 ${largeArc} 1 ${x2} ${y2} Z" fill="${d.color}"/>`;startAngle=endAngle});let ly=30;data.forEach(d=>{const pct=((d.value/total)*100).toFixed(1);svg+=`<rect x="${w-130}" y="${ly-10}" width="15" height="15" fill="${d.color}" rx="2"/>`;svg+=`<text x="${w-110}" y="${ly+2}" font-size="11" fill="#2c3e50">${d.label}: ${pct}%</text>`;ly+=25});svg+=`</svg>`;container.innerHTML=svg}function drawComboChart(){const container=document.getElementById('comboChart');const title=document.getElementById('comboTitle');if(!currentYear){container.innerHTML='<div class="chart-hint">Bitte wÃ¤hlen Sie ein Jahr aus, um den Monatsverlauf anzuzeigen.</div>';title.textContent='Monatsverlauf';return}title.textContent=`Monatsverlauf ${currentYear} vs. ${parseInt(currentYear)-1}`;const w=container.clientWidth||800;const h=280;const padding={top:30,right:30,bottom:40,left:60};const chartW=w-padding.left-padding.right;const chartH=h-padding.top-padding.bottom;const currentData=DATA.monthly[currentYear]||{};const prevData=DATA.monthly[parseInt(currentYear)-1]||{};let allVals=[];for(let m=1;m<=12;m++){allVals.push(currentData[m]||0);allVals.push(prevData[m]||0)}const maxVal=Math.max(...allVals,1);let svg=`<svg width="${w}" height="${h}" viewBox="0 0 ${w} ${h}">`;for(let i=0;i<5;i++){const y=padding.top+chartH-chartH*(i/4);const val=Math.round(maxVal*(i/4));svg+=`<line x1="${padding.left}" y1="${y}" x2="${w-padding.right}" y2="${y}" stroke="#eee" stroke-width="1"/>`;svg+=`<text x="${padding.left-10}" y="${y+4}" text-anchor="end" font-size="10" fill="#7f8c8d">${formatNum(val)}</text>`}const barW=Math.min(25,chartW/12-10);for(let m=1;m<=12;m++){const x=padding.left+(chartW/12)*(m-0.5);const val=currentData[m]||0;const barH=(val/maxVal)*chartH;const y=padding.top+chartH-barH;const isHighlight=currentMonth&&parseInt(currentMonth)===m;svg+=`<rect x="${x-barW/2}" y="${y}" width="${barW}" height="${barH}" fill="${isHighlight?'#f39c12':COLORS.blue}" rx="3"/>`;svg+=`<text x="${x}" y="${h-10}" text-anchor="middle" font-size="9" fill="#2c3e50">${MONTHS[m].substring(0,3)}</text>`}let linePath='';for(let m=1;m<=12;m++){const x=padding.left+(chartW/12)*(m-0.5);const val=prevData[m]||0;const y=padding.top+chartH-(val/maxVal)*chartH;linePath+=m===1?`M ${x} ${y}`:`L ${x} ${y}`}svg+=`<path d="${linePath}" fill="none" stroke="${COLORS.gray}" stroke-width="2.5" stroke-dasharray="5,3"/>`;for(let m=1;m<=12;m++){const x=padding.left+(chartW/12)*(m-0.5);const val=prevData[m]||0;const y=padding.top+chartH-(val/maxVal)*chartH;svg+=`<circle cx="${x}" cy="${y}" r="4" fill="${COLORS.gray}"/>`}svg+=`<rect x="${w-150}" y="15" width="15" height="15" fill="${COLORS.blue}" rx="2"/>`;svg+=`<text x="${w-130}" y="27" font-size="11" fill="#2c3e50">${currentYear}</text>`;svg+=`<line x1="${w-150}" y1="50" x2="${w-135}" y2="50" stroke="${COLORS.gray}" stroke-width="2.5" stroke-dasharray="5,3"/>`;svg+=`<text x="${w-130}" y="54}" font-size="11" fill="#2c3e50">${parseInt(currentYear)-1}</text>`;svg+=`</svg>`;container.innerHTML=svg}function updateTable(){const tbody=document.getElementById('tableBody');let rows='';const year=currentYear||'2024';const prevYear=parseInt(year)-1;const currentData=DATA.monthly[year]||{};const prevData=DATA.monthly[prevYear]||{};for(let m=1;m<=12;m++){const curr=currentData[m]||0;const prev=prevData[m]||0;const diff=curr-prev;const diffClass=diff>=0?'diff-positive':'diff-negative';const diffStr=diff>=0?`+${formatNum(diff)}`:formatNum(diff);const highlight=currentMonth&&parseInt(currentMonth)===m?'highlight':'';rows+=`<tr class="${highlight}"><td>${MONTHS[m]}</td><td>${formatNum(curr)}</td><td>${formatNum(prev)}</td><td class="${diffClass}">${diffStr}</td></tr>`}tbody.innerHTML=rows}function updateStatus(){const status=document.getElementById('statusBar');let text='';let total=0;if(!currentYear){text='Alle Jahre (2020â€“2024)';total=getTotalRFQs()}else if(!currentMonth){text=`Jahr ${currentYear}`;total=getYearTotal(currentYear)}else{text=`${MONTHS[currentMonth]} ${currentYear}`;total=getMonthTotal(currentYear,currentMonth)}status.textContent=`${text} â€“ ${formatNum(total)} RFQs`}function updateDashboard(){updateKPIs();drawBarChart();drawPieChart();drawComboChart();updateTable();updateStatus()}window.addEventListener('resize',()=>{drawBarChart();drawPieChart();drawComboChart()});updateDashboard()</script></body></html>