<!DOCTYPE html><html lang="de"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>RFQ Dashboard</title><style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;background:#f5f7fa;color:#333}.container{max-width:1600px;margin:0 auto;padding:20px}.header{margin-bottom:30px}.title{font-size:32px;font-weight:bold;color:#2c3e50;margin-bottom:10px}.filters{display:flex;gap:15px;align-items:center;margin-bottom:20px;flex-wrap:wrap}.filter-group{display:flex;gap:8px;align-items:center}.filter-group label{font-weight:600;color:#555;min-width:80px}.filter-group select,.btn{padding:10px 16px;border:1px solid #ddd;border-radius:6px;font-size:14px;cursor:pointer;background:white;transition:all .2s}.filter-group select:focus{outline:none;border-color:#3498db;box-shadow:0 0 0 3px rgba(52,152,219,.1)}.btn{background:#3498db;color:white;border:none;font-weight:600}.btn:hover{background:#2980b9}.btn-reset{background:#95a5a6}.btn-reset:hover{background:#7f8c8d}.status-box{background:white;border-radius:8px;padding:15px 20px;margin-bottom:20px;border-left:4px solid #3498db;box-shadow:0 2px 4px rgba(0,0,0,.1)}.status-text{font-size:14px;color:#555}.status-value{font-weight:bold;color:#2c3e50}.kpi-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin-bottom:30px}.kpi-card{background:white;border-radius:8px;padding:25px;box-shadow:0 2px 8px rgba(0,0,0,.1);text-align:center;transition:transform .2s}.kpi-card:hover{transform:translateY(-2px)}.kpi-value{font-size:36px;font-weight:bold;margin:10px 0}.kpi-label{font-size:14px;color:#777;text-transform:uppercase;letter-spacing:.5px}.kpi-blue{border-top:4px solid #3498db}.kpi-green{border-top:4px solid #2ecc71}.kpi-red{border-top:4px solid #e74c3c}.kpi-orange{border-top:4px solid #f39c12}.comparison{display:flex;gap:10px;align-items:baseline;margin-top:10px;justify-content:center}.comp-value{font-size:18px;font-weight:bold}.comp-pct{font-size:14px}.charts-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(500px,1fr));gap:20px;margin-bottom:30px}@media(max-width:1200px){.charts-grid{grid-template-columns:1fr}}.chart-container{background:white;border-radius:8px;padding:20px;box-shadow:0 2px 8px rgba(0,0,0,.1)}.chart-title{font-size:16px;font-weight:bold;margin-bottom:15px;color:#2c3e50}.table-container{background:white;border-radius:8px;padding:20px;box-shadow:0 2px 8px rgba(0,0,0,.1);overflow-x:auto}.table-title{font-size:16px;font-weight:bold;margin-bottom:15px;color:#2c3e50}table{width:100%;border-collapse:collapse}th{background:#f8f9fa;padding:12px;text-align:left;font-weight:600;color:#555;border-bottom:2px solid #ddd}td{padding:12px;border-bottom:1px solid #eee}tr:hover{background:#f9f9f9}svg{display:block;margin:0 auto;width:100%;height:auto}</style></head><body><div class="container"><div class="header"><div class="title">ðŸ“Š RFQ Dashboard 2020-2024</div><div class="filters"><div class="filter-group"><label for="yearSelect">Jahr:</label> <select id="yearSelect"><option value="">Alle Jahre</option><option value="2020">2020</option><option value="2021">2021</option><option value="2022">2022</option><option value="2023">2023</option><option value="2024">2024</option></select></div><div class="filter-group"><label for="monthSelect">Monat:</label> <select id="monthSelect" disabled><option value="">Alle Monate</option><option value="1">Januar</option><option value="2">Februar</option><option value="3">MÃ¤rz</option><option value="4">April</option><option value="5">Mai</option><option value="6">Juni</option><option value="7">Juli</option><option value="8">August</option><option value="9">September</option><option value="10">Oktober</option><option value="11">November</option><option value="12">Dezember</option></select></div><button class="btn btn-reset" id="resetBtn">ZurÃ¼cksetzen</button></div><div class="status-box"><span class="status-text">Aktiver Filter: <span class="status-value" id="statusText">Alle Daten (2020-2024)</span></span></div></div><div class="kpi-grid"><div class="kpi-card kpi-blue"><div class="kpi-label">Gesamt RFQs</div><div class="kpi-value" id="kpiTotal">-</div></div><div class="kpi-card kpi-green"><div class="kpi-label">Aktuell vs Vorjahr</div><div class="comparison"><div class="comp-value" id="kpiCompare">-</div><div class="comp-pct" id="kpiPercent" style="color:#2ecc71">-</div></div></div><div class="kpi-card kpi-orange"><div class="kpi-label">Aktive Lieferanten (24M)</div><div class="kpi-value" id="kpiSuppliers">2.221</div></div></div><div class="charts-grid"><div class="chart-container"><div class="chart-title">Jahresvergleich</div><svg id="barChart" viewBox="0 0 600 350"></svg></div><div class="chart-container"><div class="chart-title">Anteile nach Jahr</div><svg id="pieChart" viewBox="0 0 400 350"></svg></div></div><div class="chart-container"><div class="chart-title">Monatstrend (12 Monate)</div><svg id="comboChart" viewBox="0 0 1200 350"></svg></div><div class="table-container"><div class="table-title">Monatswerte mit Differenz</div><table id="dataTable"><thead><tr><th>Monat</th><th>2024</th><th>2023</th><th>Diff.</th><th>%</th></tr></thead><tbody></tbody></table></div></div><script>const allData=[{y:2020,m:2,c:17},{y:2020,m:3,c:34},{y:2020,m:4,c:16},{y:2020,m:5,c:37},{y:2020,m:6,c:199},{y:2020,m:7,c:306},{y:2020,m:8,c:224},{y:2020,m:9,c:284},{y:2020,m:10,c:358},{y:2020,m:11,c:430},{y:2020,m:12,c:435},{y:2021,m:1,c:599},{y:2021,m:2,c:758},{y:2021,m:3,c:909},{y:2021,m:4,c:878},{y:2021,m:5,c:817},{y:2021,m:6,c:824},{y:2021,m:7,c:977},{y:2021,m:8,c:639},{y:2021,m:9,c:896},{y:2021,m:10,c:911},{y:2021,m:11,c:871},{y:2021,m:12,c:741},{y:2022,m:1,c:743},{y:2022,m:2,c:1115},{y:2022,m:3,c:1166},{y:2022,m:4,c:798},{y:2022,m:5,c:947},{y:2022,m:6,c:991},{y:2022,m:7,c:1074},{y:2022,m:8,c:629},{y:2022,m:9,c:894},{y:2022,m:10,c:951},{y:2022,m:11,c:897},{y:2022,m:12,c:774},{y:2023,m:1,c:799},{y:2023,m:2,c:817},{y:2023,m:3,c:1020},{y:2023,m:4,c:816},{y:2023,m:5,c:1027},{y:2023,m:6,c:1030},{y:2023,m:7,c:1072},{y:2023,m:8,c:694},{y:2023,m:9,c:947},{y:2023,m:10,c:962},{y:2023,m:11,c:1014},{y:2023,m:12,c:747},{y:2024,m:1,c:958},{y:2024,m:2,c:1068},{y:2024,m:3,c:1050},{y:2024,m:4,c:188}];let filteredData=allData;function updateFilters(){const y=document.getElementById('yearSelect').value;const m=document.getElementById('monthSelect').value;filteredData=allData.filter(d=>(y?d.y==y:true)&&(m?d.m==m:true));updateStatus();updateKPIs();updateCharts()}function updateStatus(){const y=document.getElementById('yearSelect').value;const m=document.getElementById('monthSelect').value;const monthNames=['','Januar','Februar','MÃ¤rz','April','Mai','Juni','Juli','August','September','Oktober','November','Dezember'];let text='Alle Daten (2020-2024)';if(y&&m)text=`${monthNames[parseInt(m)]} ${y}`;else if(y)text=`Jahr ${y}`;else if(m)text=`${monthNames[parseInt(m)]} (alle Jahre)`;document.getElementById('statusText').textContent=text}function updateKPIs(){const total=filteredData.reduce((s,d)=>s+d.c,0);document.getElementById('kpiTotal').textContent=total.toLocaleString('de-DE');const y=document.getElementById('yearSelect').value;let compare,percent;if(y==='2024'){const y2024=allData.filter(d=>d.y==2024).reduce((s,d)=>s+d.c,0);const y2023=allData.filter(d=>d.y==2023).reduce((s,d)=>s+d.c,0);compare=y2024-y2023;percent=((compare/y2023)*100).toFixed(1);document.getElementById('kpiCompare').textContent=compare.toLocaleString('de-DE');document.getElementById('kpiPercent').textContent=percent>0?`+${percent}%`:`${percent}%`;document.getElementById('kpiPercent').style.color=compare>0?'#2ecc71':'#e74c3c'}else{document.getElementById('kpiCompare').textContent='-';document.getElementById('kpiPercent').textContent='-'}}function updateCharts(){const y=document.getElementById('yearSelect').value;if(y){drawBarChart();drawComboChart()}else{drawYearlyBarChart();drawPieChart()}drawComboChart()}function drawYearlyBarChart(){const yearlyData={};allData.forEach(d=>{if(!yearlyData[d.y])yearlyData[d.y]=0;yearlyData[d.y]+=d.c});const years=Object.keys(yearlyData).sort();const maxVal=Math.max(...Object.values(yearlyData));const svg=document.getElementById('barChart');svg.innerHTML='';const margin={l:50,r:20,t:20,b:40};const width=600-margin.l-margin.r;const height=350-margin.t-margin.b;const barWidth=width/years.length*.6;const barGap=width/years.length;svg.innerHTML+=`<rect width="600" height="350" fill="white"/><g stroke="#ddd" stroke-width="1"><line x1="${margin.l}" y1="20" x2="${margin.l}" y2="${height+margin.t}"/><line x1="${margin.l}" y1="${height+margin.t}" x2="${width+margin.l}" y2="${height+margin.t}"/>`;for(let i=0;i<=3;i++){const y_pos=margin.t+height-i*(height/3);const val=i*(maxVal/3);svg.innerHTML+=`<line x1="${margin.l-5}" y1="${y_pos}" x2="${width+margin.l}" y2="${y_pos}"/><text x="${margin.l-10}" y="${y_pos+4}" font-size="12" text-anchor="end" fill="#777">${(val/1000).toFixed(1)}K</text>`}svg.innerHTML+='</g>';years.forEach((yr,idx)=>{const val=yearlyData[yr];const h=val/maxVal*height;const x=margin.l+idx*barGap+barGap/2-barWidth/2;const y=margin.t+height-h;svg.innerHTML+=`<rect x="${x}" y="${y}" width="${barWidth}" height="${h}" fill="#3498db" stroke="none" rx="4"/><text x="${x+barWidth/2}" y="${margin.t+height+20}" font-size="12" text-anchor="middle" fill="#333">${yr}</text><text x="${x+barWidth/2}" y="${y-5}" font-size="12" text-anchor="middle" fill="#333" font-weight="bold">${val}</text>`})}function drawPieChart(){const yearlyData={};allData.forEach(d=>{if(!yearlyData[d.y])yearlyData[d.y]=0;yearlyData[d.y]+=d.c});const total=Object.values(yearlyData).reduce((a,b)=>a+b,0);const colors=['#3498db','#2ecc71','#f39c12','#e74c3c','#9b59b6'];const svg=document.getElementById('pieChart');svg.innerHTML='<rect width="400" height="350" fill="white"/>';const cx=150,cy=150,r=120;let angle=0;const years=Object.keys(yearlyData).sort();years.forEach((yr,idx)=>{const val=yearlyData[yr];const pct=val/total;const startAngle=angle;const endAngle=angle+pct*360;const rad1=startAngle*Math.PI/180;const rad2=endAngle*Math.PI/180;const x1=cx+r*Math.cos(rad1);const y1=cy+r*Math.sin(rad1);const x2=cx+r*Math.cos(rad2);const y2=cy+r*Math.sin(rad2);const large=pct>.5?1:0;const path=`M ${cx} ${cy} L ${x1} ${y1} A ${r} ${r} 0 ${large} 1 ${x2} ${y2} Z`;svg.innerHTML+=`<path d="${path}" fill="${colors[idx%5]}" stroke="white" stroke-width="2"/><text x="${cx+r*.65*Math.cos((startAngle+endAngle)/2*Math.PI/180)}" y="${cy+r*.65*Math.sin((startAngle+endAngle)/2*Math.PI/180)}" font-size="14" font-weight="bold" fill="white" text-anchor="middle">${(pct*100).toFixed(0)}%</text>`;angle=endAngle});svg.innerHTML+=`<g font-size="12" fill="#333">`;years.forEach((yr,idx)=>{svg.innerHTML+=`<rect x="300" y="${30+idx*25}" width="12" height="12" fill="${colors[idx%5]}"/><text x="320" y="${40+idx*25}">${yr}</text>`})+='</g>'}function drawBarChart(){const y=document.getElementById('yearSelect').value;const monthlyData=allData.filter(d=>d.y==y);const maxVal=Math.max(...monthlyData.map(d=>d.c),1);const svg=document.getElementById('barChart');svg.innerHTML='';const margin={l:50,r:20,t:20,b:40};const width=600-margin.l-margin.r;const height=350-margin.t-margin.b;const barWidth=width/monthlyData.length*.7;const barGap=width/monthlyData.length;svg.innerHTML+=`<rect width="600" height="350" fill="white"/><g stroke="#ddd" stroke-width="1">`;for(let i=0;i<=3;i++){const y_pos=margin.t+height-i*(height/3);const val=i*(maxVal/3);svg.innerHTML+=`<line x1="${margin.l-5}" y1="${y_pos}" x2="${width+margin.l}" y2="${y_pos}"/><text x="${margin.l-10}" y="${y_pos+4}" font-size="12" text-anchor="end" fill="#777">${(val/1000).toFixed(1)}K</text>`}svg.innerHTML+='</g><line x1="'+margin.l+'" y1="20" x2="'+margin.l+'" y2="'+(height+margin.t)+'"/><line x1="'+margin.l+'" y1="'+(height+margin.t)+'" x2="'+(width+margin.l)+'" y2="'+(height+margin.t)+'"/>';monthlyData.forEach((d,idx)=>{const h=d.c/maxVal*height;const x=margin.l+idx*barGap+barGap/2-barWidth/2;const y=margin.t+height-h;svg.innerHTML+=`<rect x="${x}" y="${y}" width="${barWidth}" height="${h}" fill="#3498db" stroke="none" rx="4"/><text x="${x+barWidth/2}" y="${margin.t+height+20}" font-size="11" text-anchor="middle" fill="#333">${d.m}</text><text x="${x+barWidth/2}" y="${y-5}" font-size="11" text-anchor="middle" fill="#333" font-weight="bold">${d.c}</text>`})}function drawComboChart(){const y=document.getElementById('yearSelect').value;const monthNames=['','Jan','Feb','MÃ¤r','Apr','Mai','Jun','Jul','Aug','Sep','Okt','Nov','Dez'];const months=[];const curData=[];const prevData=[];for(let m=1;m<=12;m++){months.push(monthNames[m]);const cur=allData.find(d=>d.y==(y||2024)&&d.m==m);const prev=allData.find(d=>d.y==(y?parseInt(y)-1:2023)&&d.m==m);curData[m-1]=cur?cur.c:0;prevData[m-1]=prev?prev.c:0}const maxVal=Math.max(...curData,...prevData,1);const svg=document.getElementById('comboChart');svg.innerHTML='';const margin={l:50,r:20,t:20,b:40};const width=1200-margin.l-margin.r;const height=350-margin.t-margin.b;const barGap=width/12;svg.innerHTML+=`<rect width="1200" height="350" fill="white"/><g stroke="#ddd" stroke-width="1">`;for(let i=0;i<=3;i++){const y_pos=margin.t+height-i*(height/3);const val=i*(maxVal/3);svg.innerHTML+=`<line x1="${margin.l}" y1="${y_pos}" x2="${width+margin.l}" y2="${y_pos}"/><text x="${margin.l-10}" y="${y_pos+4}" font-size="12" text-anchor="end" fill="#777">${(val/1000).toFixed(1)}K</text>`}svg.innerHTML+='</g><line x1="'+margin.l+'" y1="20" x2="'+margin.l+'" y2="'+(height+margin.t)+'"/><line x1="'+margin.l+'" y1="'+(height+margin.t)+'" x2="'+(width+margin.l)+'" y2="'+(height+margin.t)+'"/>';for(let m=0;m<12;m++){const h1=curData[m]/maxVal*height;const x=margin.l+m*barGap+barGap/2-30;const y=margin.t+height-h1;svg.innerHTML+=`<rect x="${x}" y="${y}" width="60" height="${h1}" fill="#2ecc71" opacity="0.8" stroke="none" rx="3"/><text x="${x+30}" y="${margin.t+height+20}" font-size="11" text-anchor="middle" fill="#333">${months[m+1]}</text><text x="${x+30}" y="${y-3}" font-size="10" text-anchor="middle" fill="#333" font-weight="bold">${curData[m]}</text>`}for(let m=0;m<11;m++){const y1=margin.t+height-curData[m]/maxVal*height;const y2=margin.t+height-curData[m+1]/maxVal*height;const x1=margin.l+(m+.5)*barGap;const x2=margin.l+(m+1.5)*barGap;svg.innerHTML+=`<line x1="${x1}" y1="${y1}" x2="${x2}" y2="${y2}" stroke="#e74c3c" stroke-width="2"/>`}for(let m=0;m<12;m++){const x=margin.l+(m+.5)*barGap;const y=margin.t+height-curData[m]/maxVal*height;svg.innerHTML+=`<circle cx="${x}" cy="${y}" r="4" fill="#e74c3c" stroke="white" stroke-width="2"/>`}}function populateTable(){const y=document.getElementById('yearSelect').value;const tbody=document.querySelector('#dataTable tbody');tbody.innerHTML='';const cur=2024,prev=2023;const monthNames=['','Januar','Februar','MÃ¤rz','April','Mai','Juni','Juli','August','September','Oktober','November','Dezember'];for(let m=1;m<=12;m++){const curVal=allData.find(d=>d.y==cur&&d.m==m)?.c||0;const prevVal=allData.find(d=>d.y==prev&&d.m==m)?.c||0;const diff=curVal-prevVal;const pct=prevVal?((diff/prevVal)*100).toFixed(1):0;const row=`<tr><td>${monthNames[m]}</td><td><strong>${curVal}</strong></td><td>${prevVal}</td><td style="color:${diff>=0?'#2ecc71':'#e74c3c'}">${diff>=0?'+':''}${diff}</td><td style="color:${diff>=0?'#2ecc71':'#e74c3c'}">${pct>=0?'+':''}${pct}%</td></tr>`;tbody.innerHTML+=row}}document.getElementById('yearSelect').addEventListener('change',()=>{const hasYear=document.getElementById('yearSelect').value;document.getElementById('monthSelect').disabled=!hasYear;updateFilters()});document.getElementById('monthSelect').addEventListener('change',updateFilters);document.getElementById('resetBtn').addEventListener('click',()=>{document.getElementById('yearSelect').value='';document.getElementById('monthSelect').value='';document.getElementById('monthSelect').disabled=true;updateFilters()});populateTable();updateFilters();</script></body></html>