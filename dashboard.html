<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RFQ-Dashboard 2020-2024</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Segoe UI',Tahoma,sans-serif;background:#1a1a2e;color:#fff;min-height:100vh;padding:20px}
.dashboard{max-width:1400px;margin:0 auto}
h1{text-align:center;margin-bottom:20px;font-size:28px;color:#fff}
.filter-section{background:#16213e;border-radius:12px;padding:20px;margin-bottom:20px;display:flex;gap:15px;align-items:center;flex-wrap:wrap}
.filter-group{display:flex;flex-direction:column;gap:5px}
.filter-group label{font-size:12px;color:#8892b0}
.filter-group select{padding:10px 15px;border-radius:8px;border:none;background:#0f3460;color:#fff;font-size:14px;min-width:150px;cursor:pointer}
.filter-group select:disabled{opacity:0.5;cursor:not-allowed}
.btn{padding:10px 20px;border-radius:8px;border:none;font-weight:bold;cursor:pointer;font-size:14px;transition:all 0.3s}
.btn-execute{background:#3498db;color:#fff}
.btn-execute:hover{background:#2980b9}
.btn-reset{background:#e74c3c;color:#fff}
.btn-reset:hover{background:#c0392b}
.status-box{background:#0f3460;padding:10px 15px;border-radius:8px;font-size:14px;flex-grow:1;text-align:right}
.kpi-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:20px;margin-bottom:20px}
.kpi-card{background:#16213e;border-radius:12px;padding:20px;text-align:center}
.kpi-card.blue{border-left:4px solid #3498db}
.kpi-card.comparison{border-left:4px solid #2ecc71}
.kpi-card.orange{border-left:4px solid #f39c12}
.kpi-title{font-size:12px;color:#8892b0;margin-bottom:10px;text-transform:uppercase}
.kpi-value{font-size:36px;font-weight:bold}
.kpi-value.blue{color:#3498db}
.kpi-value.orange{color:#f39c12}
.comparison-row{display:flex;justify-content:center;align-items:center;gap:15px;margin-bottom:15px}
.comp-block{text-align:center}
.comp-label{font-size:11px;color:#8892b0}
.comp-value{font-size:24px;font-weight:bold}
.comp-value.green{color:#2ecc71}
.comp-value.red{color:#e74c3c}
.comp-vs{color:#8892b0;font-size:14px}
.diff-row{display:flex;justify-content:space-around;padding-top:10px;border-top:1px solid #0f3460}
.diff-item{text-align:center}
.diff-value{font-size:16px;font-weight:bold}
.diff-value.positive{color:#2ecc71}
.diff-value.negative{color:#e74c3c}
.charts-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:20px;margin-bottom:20px}
.chart-card{background:#16213e;border-radius:12px;padding:20px}
.chart-title{font-size:14px;color:#8892b0;margin-bottom:15px;text-align:center}
.chart-container{height:250px;position:relative}
.chart-full{grid-column:span 2}
.table-section{background:#16213e;border-radius:12px;padding:20px}
.table-title{font-size:14px;color:#8892b0;margin-bottom:15px}
table{width:100%;border-collapse:collapse}
th,td{padding:10px;text-align:center;border-bottom:1px solid #0f3460}
th{color:#8892b0;font-size:12px;text-transform:uppercase}
td{font-size:14px}
.positive{color:#2ecc71}
.negative{color:#e74c3c}
.highlight-row{background:rgba(52,152,219,0.1)}
.placeholder{display:flex;align-items:center;justify-content:center;height:100%;color:#8892b0;font-size:16px}
svg text{font-family:'Segoe UI',sans-serif}
@media(max-width:1024px){.kpi-grid,.charts-grid{grid-template-columns:1fr}.chart-full{grid-column:span 1}}
</style>
</head>
<body>
<div class="dashboard">
<h1>üìä RFQ-Dashboard 2020-2024</h1>
<div class="filter-section">
<div class="filter-group">
<label>Jahr</label>
<select id="yearFilter">
<option value="">Alle Jahre</option>
<option value="2020">2020</option>
<option value="2021">2021</option>
<option value="2022">2022</option>
<option value="2023">2023</option>
<option value="2024">2024</option>
</select>
</div>
<div class="filter-group">
<label>Monat</label>
<select id="monthFilter" disabled>
<option value="">Alle Monate</option>
<option value="1">Januar</option>
<option value="2">Februar</option>
<option value="3">M√§rz</option>
<option value="4">April</option>
<option value="5">Mai</option>
<option value="6">Juni</option>
<option value="7">Juli</option>
<option value="8">August</option>
<option value="9">September</option>
<option value="10">Oktober</option>
<option value="11">November</option>
<option value="12">Dezember</option>
</select>
</div>
<button class="btn btn-execute" onclick="applyFilters()">üîç Ausf√ºhren</button>
<button class="btn btn-reset" onclick="resetFilters()">‚Üª Zur√ºcksetzen</button>
<div class="status-box" id="statusBox">üìä Zeige: Alle Daten (37.348 RFQs)</div>
</div>
<div class="kpi-grid">
<div class="kpi-card blue">
<div class="kpi-title">Gesamt RFQs</div>
<div class="kpi-value blue" id="kpiTotal">37.348</div>
</div>
<div class="kpi-card comparison">
<div class="kpi-title">Jahresvergleich</div>
<div class="comparison-row">
<div class="comp-block"><div class="comp-label" id="compLabelCurrent">2024</div><div class="comp-value green" id="compValueCurrent">3.264</div></div>
<div class="comp-vs">vs.</div>
<div class="comp-block"><div class="comp-label" id="compLabelPrev">2023</div><div class="comp-value red" id="compValuePrev">10.945</div></div>
</div>
<div class="diff-row">
<div class="diff-item"><div class="diff-value" id="diffAbsolute">-7.681 RFQs</div></div>
<div class="diff-item"><div class="diff-value" id="diffPercent">-70,2%</div></div>
</div>
</div>
<div class="kpi-card orange">
<div class="kpi-title">Lieferanten</div>
<div class="kpi-value orange">2.221</div>
</div>
</div>
<div class="charts-grid">
<div class="chart-card">
<div class="chart-title" id="barChartTitle">RFQs pro Jahr</div>
<div class="chart-container" id="barChart"></div>
</div>
<div class="chart-card">
<div class="chart-title" id="pieChartTitle">Verteilung nach Jahr</div>
<div class="chart-container" id="pieChart"></div>
</div>
<div class="chart-card chart-full">
<div class="chart-title" id="comboChartTitle">Monatlicher Vergleich</div>
<div class="chart-container" id="comboChart"><div class="placeholder">üìÖ W√§hlen Sie ein Jahr und klicken Sie 'Ausf√ºhren'</div></div>
</div>
</div>
<div class="table-section">
<div class="table-title">Monatliche Vergleichstabelle</div>
<table id="comparisonTable">
<thead>
<tr>
<th>Monat</th>
<th id="thCurrent">2024 üü¢</th>
<th id="thPrev">2023 üî¥</th>
<th>Differenz</th>
</tr>
</thead>
<tbody id="tableBody"></tbody>
</table>
</div>
</div>
<script>
const yearlyData={2020:2340,2021:9820,2022:10979,2023:10945,2024:3264};
const monthlyData={
2019:{1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},
2020:{1:0,2:17,3:34,4:16,5:37,6:199,7:306,8:224,9:284,10:358,11:430,12:435},
2021:{1:599,2:758,3:909,4:878,5:817,6:824,7:977,8:639,9:896,10:911,11:871,12:741},
2022:{1:743,2:1115,3:1166,4:798,5:947,6:991,7:1074,8:629,9:894,10:951,11:897,12:774},
2023:{1:799,2:817,3:1020,4:816,5:1027,6:1030,7:1072,8:694,9:947,10:962,11:1014,12:747},
2024:{1:958,2:1068,3:1050,4:188,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0}
};
const monthNames=['','Januar','Februar','M√§rz','April','Mai','Juni','Juli','August','September','Oktober','November','Dezember'];
const colors={2020:'#9b59b6',2021:'#1abc9c',2022:'#e74c3c',2023:'#3498db',2024:'#2ecc71'};
function fmt(n){return n.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g,'.')}
function applyFilters(){
const year=document.getElementById('yearFilter').value;
const month=document.getElementById('monthFilter').value;
updateDashboard(year?parseInt(year):null,month?parseInt(month):null);
}
function resetFilters(){
document.getElementById('yearFilter').value='';
document.getElementById('monthFilter').value='';
document.getElementById('monthFilter').disabled=true;
updateDashboard(null,null);
}
document.getElementById('yearFilter').addEventListener('change',function(){
const sel=document.getElementById('monthFilter');
sel.disabled=!this.value;
if(!this.value)sel.value='';
});
function updateDashboard(year,month){
let total,current,prev,currentLabel,prevLabel;
if(!year){
total=Object.values(yearlyData).reduce((a,b)=>a+b,0);
current=yearlyData[2024];prev=yearlyData[2023];
currentLabel='2024';prevLabel='2023';
document.getElementById('statusBox').textContent='üìä Zeige: Alle Daten ('+fmt(total)+' RFQs)';
}else if(!month){
total=yearlyData[year]||0;
current=yearlyData[year]||0;
prev=yearlyData[year-1]||0;
currentLabel=year.toString();prevLabel=(year-1).toString();
document.getElementById('statusBox').textContent='‚úÖ Zeige: Jahr '+year+' ('+fmt(total)+' RFQs)';
}else{
total=(monthlyData[year]&&monthlyData[year][month])||0;
current=total;
prev=(monthlyData[year-1]&&monthlyData[year-1][month])||0;
currentLabel=monthNames[month]+' '+year;
prevLabel=monthNames[month]+' '+(year-1);
document.getElementById('statusBox').textContent='‚úÖ Zeige: '+monthNames[month]+' '+year+' ('+fmt(total)+' RFQs)';
}
document.getElementById('kpiTotal').textContent=fmt(total);
document.getElementById('compLabelCurrent').textContent=currentLabel;
document.getElementById('compValueCurrent').textContent=fmt(current);
document.getElementById('compLabelPrev').textContent=prevLabel;
document.getElementById('compValuePrev').textContent=fmt(prev);
const diff=current-prev;
const diffEl=document.getElementById('diffAbsolute');
diffEl.textContent=(diff>=0?'+':'')+fmt(diff)+' RFQs';
diffEl.className='diff-value '+(diff>=0?'positive':'negative');
const pct=prev>0?((diff/prev)*100):current>0?100:0;
const pctEl=document.getElementById('diffPercent');
pctEl.textContent=(pct>=0?'+':'')+pct.toFixed(1).replace('.',',')+'%';
pctEl.className='diff-value '+(pct>=0?'positive':'negative');
renderBarChart(year,month);
renderPieChart(year,month);
renderComboChart(year,month);
renderTable(year,month);
}
function renderBarChart(year,month){
const container=document.getElementById('barChart');
let data=[],title='';
if(!year){
data=[{label:'2020',value:yearlyData[2020],color:colors[2020]},{label:'2021',value:yearlyData[2021],color:colors[2021]},{label:'2022',value:yearlyData[2022],color:colors[2022]},{label:'2023',value:yearlyData[2023],color:colors[2023]},{label:'2024',value:yearlyData[2024],color:colors[2024]}];
title='RFQs pro Jahr';
}else if(!month){
data=[{label:(year-1).toString(),value:yearlyData[year-1]||0,color:'#e74c3c'},{label:year.toString(),value:yearlyData[year]||0,color:'#2ecc71'}];
title=year+' vs. '+(year-1);
}else{
data=[{label:monthNames[month]+' '+(year-1),value:(monthlyData[year-1]&&monthlyData[year-1][month])||0,color:'#e74c3c'},{label:monthNames[month]+' '+year,value:(monthlyData[year]&&monthlyData[year][month])||0,color:'#2ecc71'}];
title=monthNames[month]+' '+year+' vs. '+monthNames[month]+' '+(year-1);
}
document.getElementById('barChartTitle').textContent=title;
const maxVal=Math.max(...data.map(d=>d.value),1);
const w=container.offsetWidth||400,h=250;
const padding={top:30,right:20,bottom:40,left:50};
const chartW=w-padding.left-padding.right;
const chartH=h-padding.top-padding.bottom;
const barW=Math.min(60,chartW/data.length-20);
let svg=`<svg width="${w}" height="${h}">`;
for(let i=0;i<=4;i++){
const y=padding.top+chartH-chartH*i/4;
const val=Math.round(maxVal*i/4/1000);
svg+=`<line x1="${padding.left}" y1="${y}" x2="${w-padding.right}" y2="${y}" stroke="#0f3460" stroke-width="1"/>`;
svg+=`<text x="${padding.left-5}" y="${y+4}" fill="#8892b0" font-size="10" text-anchor="end">${val}K</text>`;
}
data.forEach((d,i)=>{
const barH=d.value/maxVal*chartH;
const x=padding.left+(chartW/data.length)*i+(chartW/data.length-barW)/2;
const y=padding.top+chartH-barH;
svg+=`<rect x="${x}" y="${y}" width="${barW}" height="${barH}" fill="${d.color}" rx="4"/>`;
svg+=`<text x="${x+barW/2}" y="${y-5}" fill="#fff" font-size="11" text-anchor="middle" font-weight="bold">${fmt(d.value)}</text>`;
svg+=`<text x="${x+barW/2}" y="${h-10}" fill="#8892b0" font-size="10" text-anchor="middle">${d.label}</text>`;
});
svg+='</svg>';
container.innerHTML=svg;
}
function renderPieChart(year,month){
const container=document.getElementById('pieChart');
let data=[],title='';
if(!year){
data=[{label:'2020',value:yearlyData[2020],color:colors[2020]},{label:'2021',value:yearlyData[2021],color:colors[2021]},{label:'2022',value:yearlyData[2022],color:colors[2022]},{label:'2023',value:yearlyData[2023],color:colors[2023]},{label:'2024',value:yearlyData[2024],color:colors[2024]}];
title='Verteilung nach Jahr';
}else if(!month){
data=[{label:(year-1).toString(),value:yearlyData[year-1]||0,color:'#e74c3c'},{label:year.toString(),value:yearlyData[year]||0,color:'#2ecc71'}];
title=year+' vs. '+(year-1);
}else{
data=[{label:monthNames[month]+' '+(year-1),value:(monthlyData[year-1]&&monthlyData[year-1][month])||0,color:'#e74c3c'},{label:monthNames[month]+' '+year,value:(monthlyData[year]&&monthlyData[year][month])||0,color:'#2ecc71'}];
title=monthNames[month]+' Vergleich';
}
document.getElementById('pieChartTitle').textContent=title;
const total=data.reduce((a,b)=>a+b.value,0)||1;
const w=container.offsetWidth||400,h=250;
const cx=w/2,cy=h/2,r=80;
let svg=`<svg width="${w}" height="${h}">`;
let angle=0;
data.forEach(d=>{
const pct=d.value/total;
const sweep=pct*360;
const x1=cx+r*Math.cos((angle-90)*Math.PI/180);
const y1=cy+r*Math.sin((angle-90)*Math.PI/180);
const x2=cx+r*Math.cos((angle+sweep-90)*Math.PI/180);
const y2=cy+r*Math.sin((angle+sweep-90)*Math.PI/180);
const large=sweep>180?1:0;
if(pct>0){
svg+=`<path d="M${cx},${cy} L${x1},${y1} A${r},${r} 0 ${large},1 ${x2},${y2} Z" fill="${d.color}"/>`;
const midAngle=angle+sweep/2-90;
const lx=cx+(r+25)*Math.cos(midAngle*Math.PI/180);
const ly=cy+(r+25)*Math.sin(midAngle*Math.PI/180);
svg+=`<text x="${lx}" y="${ly}" fill="#fff" font-size="10" text-anchor="middle">${(pct*100).toFixed(1)}%</text>`;
}
angle+=sweep;
});
let ly=20;
data.forEach(d=>{
svg+=`<rect x="10" y="${ly-8}" width="12" height="12" fill="${d.color}" rx="2"/>`;
svg+=`<text x="28" y="${ly+2}" fill="#8892b0" font-size="10">${d.label}</text>`;
ly+=18;
});
svg+='</svg>';
container.innerHTML=svg;
}
function renderComboChart(year,month){
const container=document.getElementById('comboChart');
if(!year){
container.innerHTML='<div class="placeholder">üìÖ W√§hlen Sie ein Jahr und klicken Sie \\'Ausf√ºhren\\'</div>';
document.getElementById('comboChartTitle').textContent='Monatlicher Vergleich';
return;
}
document.getElementById('comboChartTitle').textContent='Monatlicher Vergleich '+year+' vs. '+(year-1);
const current=monthlyData[year]||{};
const prev=monthlyData[year-1]||{};
const w=container.offsetWidth||800,h=250;
const padding={top:30,right:20,bottom:40,left:50};
const chartW=w-padding.left-padding.right;
const chartH=h-padding.top-padding.bottom;
const allVals=[];
for(let m=1;m<=12;m++){allVals.push(current[m]||0,prev[m]||0);}
const maxVal=Math.max(...allVals,1);
const barW=chartW/12-10;
let svg=`<svg width="${w}" height="${h}">`;
for(let i=0;i<=4;i++){
const y=padding.top+chartH-chartH*i/4;
const val=Math.round(maxVal*i/4/1000*10)/10;
svg+=`<line x1="${padding.left}" y1="${y}" x2="${w-padding.right}" y2="${y}" stroke="#0f3460" stroke-width="1"/>`;
svg+=`<text x="${padding.left-5}" y="${y+4}" fill="#8892b0" font-size="9" text-anchor="end">${val}K</text>`;
}
let linePts=[];
for(let m=1;m<=12;m++){
const x=padding.left+(m-0.5)*chartW/12;
const val=current[m]||0;
const barH=val/maxVal*chartH;
const y=padding.top+chartH-barH;
const isHighlight=month&&m===month;
svg+=`<rect x="${x-barW/2}" y="${y}" width="${barW}" height="${barH}" fill="${isHighlight?'#27ae60':'#2ecc71'}" rx="3" opacity="${isHighlight?1:0.8}"/>`;
if(val>0)svg+=`<text x="${x}" y="${y-3}" fill="#2ecc71" font-size="8" text-anchor="middle">${fmt(val)}</text>`;
const prevVal=prev[m]||0;
const py=padding.top+chartH-prevVal/maxVal*chartH;
linePts.push({x,y:py,val:prevVal});
svg+=`<text x="${x}" y="${h-8}" fill="#8892b0" font-size="9" text-anchor="middle">${monthNames[m].substr(0,3)}</text>`;
}
let pathD='M'+linePts.map(p=>p.x+','+p.y).join(' L');
svg+=`<path d="${pathD}" fill="none" stroke="#e74c3c" stroke-width="2"/>`;
linePts.forEach(p=>{
svg+=`<circle cx="${p.x}" cy="${p.y}" r="4" fill="#e74c3c"/>`;
if(p.val>0)svg+=`<text x="${p.x}" y="${p.y-8}" fill="#e74c3c" font-size="8" text-anchor="middle">${fmt(p.val)}</text>`;
});
svg+=`<rect x="${w-120}" y="10" width="12" height="12" fill="#2ecc71" rx="2"/><text x="${w-105}" y="20" fill="#8892b0" font-size="10">${year}</text>`;
svg+=`<rect x="${w-120}" y="26" width="12" height="12" fill="#e74c3c" rx="2"/><text x="${w-105}" y="36" fill="#8892b0" font-size="10">${year-1}</text>`;
svg+='</svg>';
container.innerHTML=svg;
}
function renderTable(year,month){
const tbody=document.getElementById('tableBody');
const currentYear=year||2024;
const prevYear=currentYear-1;
document.getElementById('thCurrent').textContent=currentYear+' üü¢';
document.getElementById('thPrev').textContent=prevYear+' üî¥';
let html='';
for(let m=1;m<=12;m++){
const curr=(monthlyData[currentYear]&&monthlyData[currentYear][m])||0;
const prev=(monthlyData[prevYear]&&monthlyData[prevYear][m])||0;
const diff=curr-prev;
const highlight=month&&m===month?' class="highlight-row"':'';
html+=`<tr${highlight}><td>${monthNames[m]}</td><td>${fmt(curr)}</td><td>${fmt(prev)}</td><td class="${diff>=0?'positive':'negative'}">${diff>=0?'+':''}${fmt(diff)}</td></tr>`;
}
tbody.innerHTML=html;
}
updateDashboard(null,null);
window.addEventListener('resize',()=>{
const year=document.getElementById('yearFilter').value;
const month=document.getElementById('monthFilter').value;
updateDashboard(year?parseInt(year):null,month?parseInt(month):null);
});
</script>
</body>
</html>