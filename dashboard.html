<!DOCTYPE html><html lang="de"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Datenmodell Visualisierung</title><script src="https://cdn.tailwindcss.com"></script><style>*{margin:0;padding:0;box-sizing:border-box}.table-card{transition:all 0.3s ease;cursor:pointer}.table-card:hover{transform:scale(1.02);box-shadow:0 10px 40px rgba(0,0,0,0.2)}.field-row:hover{background:rgba(99,102,241,0.1)}.connection-line{stroke-dasharray:5,5;animation:dash 20s linear infinite}@keyframes dash{to{stroke-dashoffset:-1000}}.legend-item{display:flex;align-items:center;gap:8px;font-size:12px}.color-box{width:12px;height:12px;border-radius:2px}</style></head><body class="bg-gray-900 text-white min-h-screen"><div class="container mx-auto px-4 py-8"><header class="mb-8"><h1 class="text-3xl font-bold text-center bg-gradient-to-r from-indigo-400 to-purple-500 bg-clip-text text-transparent">ðŸ“Š Datenmodell Ãœbersicht</h1><p class="text-center text-gray-400 mt-2">Interaktive Visualisierung aller Tabellen und Felder</p></header><div class="flex flex-wrap gap-4 mb-6 justify-center"><div class="legend-item"><div class="color-box bg-indigo-500"></div><span>Supplier Management</span></div><div class="legend-item"><div class="color-box bg-emerald-500"></div><span>RFX/Ausschreibungen</span></div><div class="legend-item"><div class="color-box bg-amber-500"></div><span>Stammdaten</span></div><div class="legend-item"><div class="color-box bg-rose-500"></div><span>Audit/DSM</span></div><div class="legend-item"><div class="color-box bg-cyan-500"></div><span>User/Rollen</span></div></div><div class="mb-6 flex justify-center"><input type="text" id="searchInput" placeholder="ðŸ” Tabelle oder Feld suchen..." class="w-full max-w-md px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-indigo-500 text-white"></div><div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4" id="tablesContainer"></div><div id="detailModal" class="fixed inset-0 bg-black/80 hidden items-center justify-center z-50 p-4"><div class="bg-gray-800 rounded-xl max-w-2xl w-full max-h-[80vh] overflow-hidden"><div class="p-4 border-b border-gray-700 flex justify-between items-center"><h2 id="modalTitle" class="text-xl font-bold text-indigo-400"></h2><button onclick="closeModal()" class="text-gray-400 hover:text-white text-2xl">&times;</button></div><div class="p-4 overflow-y-auto max-h-[60vh]" id="modalContent"></div></div></div></div><script>const schema={"jd_supplier":{category:"supplier",color:"indigo",fields:["supplier_id","name_1","name_2","city","country","status","vendor_number","created","blocked","currency"]},"jd_supplier_category":{category:"supplier",color:"indigo",fields:["supplier_id","category_id","company_id","primary_category"]},"jd_supplier_users":{category:"supplier",color:"indigo",fields:["supplier_users_id","supplier_id","user_id","first_name","last_name","language","position"]},"jd_supplier_contracts":{category:"supplier",color:"indigo",fields:["contract_id","supplier_id","material_id","label","status","price","start_date","end_date"]},"jd_supplier_activities":{category:"supplier",color:"indigo",fields:["supplier_activity_id","supplier_id","contact","purpose","status","begin_date"]},"jd_rfx":{category:"rfx",color:"emerald",fields:["rfx_id","company_id","rfq_status","rfq_dead_line","currency","created","rfx_short_description"]},"jd_rfx_item":{category:"rfx",color:"emerald",fields:["rfx_item_id","rfx_id","material_id","quantity","unit","target_price","delivery_date"]},"jd_rfx_response":{category:"rfx",color:"emerald",fields:["rfx_response_id","rfx_id","supplier_id","status","total_cost","sent_date"]},"jd_rfx_response_item":{category:"rfx",color:"emerald",fields:["rfx_response_item_id","rfx_id","rfx_item_id","supplier_id","quotation_price","quantity"]},"jd_rfx_invited_suppliers":{category:"rfx",color:"emerald",fields:["rfx_cp_view_id","rfx_id","supplier_id","status","sent_date"]},"jd_company":{category:"master",color:"amber",fields:["company_id","company_name1","city","country","currency","email","homepage"]},"jd_category":{category:"master",color:"amber",fields:["category_id","company_id","name_eng","external_number","production_material"]},"jd_material":{category:"master",color:"amber",fields:["material_id","company_id","category_id","eng_name","code_number","unit","target_price"]},"jd_plant":{category:"master",color:"amber",fields:["plant_id","plant_name","company_id"]},"jd_purchasing_organization":{category:"master",color:"amber",fields:["purchasing_organization_id","company_id","name","currency"]},"dsm_td_audit_planning":{category:"audit",color:"rose",fields:["id","supplier_id","td_audit_status","td_audit_type","td_audit_date","td_vendor_name","td_country"]},"dsm_td_audit_planning_measure":{category:"audit",color:"rose",fields:["id","supplier_id","td_measure_status","td_measure_description","td_target_date"]},"dsm_td_set_results":{category:"audit",color:"rose",fields:["id","supplier_id","td_result","td_classification","td_quarter"]},"jd_user":{category:"user",color:"cyan",fields:["user_id","company_id","loginname","first_name","last_name","email","language"]},"jd_user_roles":{category:"user",color:"cyan",fields:["user_roles_id","user_roles_name","company_id"]},"jd_user_roles_map":{category:"user",color:"cyan",fields:["user_id","user_roles_id"]}};const relationships=[{from:"jd_supplier",to:"jd_supplier_category",field:"supplier_id"},{from:"jd_supplier",to:"jd_supplier_users",field:"supplier_id"},{from:"jd_supplier",to:"jd_supplier_contracts",field:"supplier_id"},{from:"jd_supplier",to:"jd_rfx_response",field:"supplier_id"},{from:"jd_rfx",to:"jd_rfx_item",field:"rfx_id"},{from:"jd_rfx",to:"jd_rfx_response",field:"rfx_id"},{from:"jd_rfx",to:"jd_rfx_invited_suppliers",field:"rfx_id"},{from:"jd_category",to:"jd_material",field:"category_id"},{from:"jd_company",to:"jd_user",field:"company_id"},{from:"jd_user",to:"jd_user_roles_map",field:"user_id"},{from:"jd_supplier",to:"dsm_td_audit_planning",field:"supplier_id"}];function getColorClass(color){const colors={indigo:"from-indigo-600 to-indigo-800 border-indigo-500",emerald:"from-emerald-600 to-emerald-800 border-emerald-500",amber:"from-amber-600 to-amber-800 border-amber-500",rose:"from-rose-600 to-rose-800 border-rose-500",cyan:"from-cyan-600 to-cyan-800 border-cyan-500"};return colors[color]||colors.indigo}function getIconForCategory(cat){const icons={supplier:"ðŸ‘¥",rfx:"ðŸ“‹",master:"ðŸ“",audit:"âœ…",user:"ðŸ‘¤"};return icons[cat]||"ðŸ“Š"}function renderTables(filter=""){const container=document.getElementById("tablesContainer");container.innerHTML="";Object.entries(schema).filter(([name,data])=>{const searchTerm=filter.toLowerCase();return name.toLowerCase().includes(searchTerm)||data.fields.some(f=>f.toLowerCase().includes(searchTerm))}).forEach(([name,data])=>{const card=document.createElement("div");card.className=`table-card bg-gradient-to-br ${getColorClass(data.color)} border-l-4 rounded-lg p-4`;card.innerHTML=`<div class="flex items-center gap-2 mb-3"><span class="text-2xl">${getIconForCategory(data.category)}</span><h3 class="font-bold text-sm truncate" title="${name}">${name}</h3></div><div class="text-xs text-gray-200 space-y-1">${data.fields.slice(0,5).map(f=>`<div class="field-row px-2 py-1 rounded ${f.includes('_id')?'bg-white/10 font-semibold':''}">${f.includes('_id')?'ðŸ”‘ ':''} ${f}</div>`).join("")}</div>${data.fields.length>5?`<div class="text-xs text-gray-300 mt-2 text-center">+${data.fields.length-5} weitere Felder</div>`:""}<button onclick="showDetail('${name}')" class="mt-3 w-full text-xs bg-white/20 hover:bg-white/30 py-1 rounded transition">Details anzeigen</button>`;container.appendChild(card)})}function showDetail(tableName){const data=schema[tableName];const modal=document.getElementById("detailModal");const title=document.getElementById("modalTitle");const content=document.getElementById("modalContent");title.textContent=`${getIconForCategory(data.category)} ${tableName}`;const rels=relationships.filter(r=>r.from===tableName||r.to===tableName);content.innerHTML=`<div class="mb-4"><h4 class="font-semibold text-gray-300 mb-2">Felder (${data.fields.length})</h4><div class="grid grid-cols-2 gap-2">${data.fields.map(f=>`<div class="text-sm px-2 py-1 bg-gray-700 rounded ${f.includes('_id')?'border-l-2 border-indigo-400':''}">${f.includes('_id')?'ðŸ”‘ ':''}${f}</div>`).join("")}</div></div>${rels.length>0?`<div class="mt-4"><h4 class="font-semibold text-gray-300 mb-2">Beziehungen</h4><div class="space-y-2">${rels.map(r=>`<div class="text-sm px-3 py-2 bg-gray-700 rounded flex items-center gap-2"><span class="${r.from===tableName?'text-emerald-400':'text-indigo-400'}">${r.from}</span><span class="text-gray-500">â†’</span><span class="${r.to===tableName?'text-emerald-400':'text-indigo-400'}">${r.to}</span><span class="text-gray-500 text-xs">(${r.field})</span></div>`).join("")}</div></div>`:""}<div class="mt-4 p-3 bg-gray-700/50 rounded"><p class="text-xs text-gray-400">Kategorie: <span class="text-white capitalize">${data.category}</span></p></div>`;modal.classList.remove("hidden");modal.classList.add("flex")}function closeModal(){document.getElementById("detailModal").classList.add("hidden");document.getElementById("detailModal").classList.remove("flex")}document.getElementById("searchInput").addEventListener("input",(e)=>{renderTables(e.target.value)});document.getElementById("detailModal").addEventListener("click",(e)=>{if(e.target.id==="detailModal")closeModal()});renderTables();</script></body></html>