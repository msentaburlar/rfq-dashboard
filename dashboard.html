Jetzt habe ich alle Daten. Ich erstelle das Dashboard:

{"intent":"DASHBOARD","title":"RFQ-Dashboard 2020-2024","description":"Interaktives Dashboard zur Analyse von RFQ-Daten (Request for Quotation) mit Jahres- und Monatsfiltern, KPI-Cards, Vergleichscharts und detaillierter Tabelle.","html":"<!DOCTYPE html>\n<html lang=\"de\">\n<head>\n<meta charset=\"UTF-8\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n<title>RFQ-Dashboard 2020-2024</title>\n<style>\n*{box-sizing:border-box;margin:0;padding:0}\nbody{font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;background:linear-gradient(135deg,#1a1a2e 0%,#16213e 100%);min-height:100vh;padding:20px;color:#fff}\n.dashboard{max-width:1400px;margin:0 auto}\n.header{text-align:center;margin-bottom:25px}\n.header h1{font-size:2rem;color:#fff;text-shadow:0 2px 4px rgba(0,0,0,0.3)}\n.header p{color:#a0aec0;margin-top:5px}\n.filter-section{background:linear-gradient(135deg,#2d3748 0%,#1a202c 100%);border-radius:12px;padding:20px;margin-bottom:25px;display:flex;flex-wrap:wrap;gap:15px;align-items:center;box-shadow:0 4px 15px rgba(0,0,0,0.3)}\n.filter-group{display:flex;flex-direction:column;gap:5px}\n.filter-group label{font-size:0.85rem;color:#a0aec0;font-weight:500}\n.filter-group select{padding:10px 15px;border:2px solid #4a5568;border-radius:8px;background:#2d3748;color:#fff;font-size:0.95rem;min-width:160px;cursor:pointer;transition:all 0.3s}\n.filter-group select:hover{border-color:#3498db}\n.filter-group select:focus{outline:none;border-color:#3498db;box-shadow:0 0 0 3px rgba(52,152,219,0.3)}\n.filter-group select:disabled{opacity:0.5;cursor:not-allowed;background:#1a202c}\n.btn{padding:10px 20px;border:none;border-radius:8px;font-size:0.95rem;font-weight:600;cursor:pointer;transition:all 0.3s;display:flex;align-items:center;gap:8px}\n.btn-execute{background:#3498db;color:#fff}\n.btn-execute:hover{background:#2980b9;transform:translateY(-2px);box-shadow:0 4px 12px rgba(52,152,219,0.4)}\n.btn-reset{background:#e74c3c;color:#fff}\n.btn-reset:hover{background:#c0392b;transform:translateY(-2px);box-shadow:0 4px 12px rgba(231,76,60,0.4)}\n.btn-group{display:flex;gap:10px;margin-left:auto}\n.kpi-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;margin-bottom:25px}\n.kpi-card{background:linear-gradient(135deg,#2d3748 0%,#1a202c 100%);border-radius:12px;padding:25px;box-shadow:0 4px 15px rgba(0,0,0,0.3);position:relative;overflow:hidden}\n.kpi-card::before{content:'';position:absolute;top:0;left:0;width:4px;height:100%}\n.kpi-card.blue::before{background:#3498db}\n.kpi-card.green::before{background:#2ecc71}\n.kpi-card.orange::before{background:#f39c12}\n.kpi-title{font-size:0.9rem;color:#a0aec0;margin-bottom:10px;text-transform:uppercase;letter-spacing:1px}\n.kpi-value{font-size:2.5rem;font-weight:700;color:#fff}\n.kpi-subtitle{font-size:0.85rem;color:#718096;margin-top:5px}\n.comparison-card{display:flex;flex-direction:column;gap:15px}\n.comparison-values{display:flex;justify-content:space-between;align-items:center;gap:10px}\n.comparison-item{text-align:center;flex:1}\n.comparison-label{font-size:0.8rem;color:#a0aec0;margin-bottom:5px}\n.comparison-value{font-size:1.8rem;font-weight:700}\n.comparison-value.current{color:#2ecc71}\n.comparison-value.previous{color:#e74c3c}\n.comparison-vs{font-size:1.2rem;color:#718096;font-weight:600}\n.comparison-diff{display:flex;justify-content:space-between;padding-top:15px;border-top:1px solid #4a5568}\n.diff-item{text-align:center}\n.diff-label{font-size:0.75rem;color:#718096;margin-bottom:3px}\n.diff-value{font-size:1.1rem;font-weight:600}\n.diff-value.positive{color:#2ecc71}\n.diff-value.negative{color:#e74c3c}\n.charts-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(400px,1fr));gap:20px;margin-bottom:25px}\n.chart-card{background:linear-gradient(135deg,#2d3748 0%,#1a202c 100%);border-radius:12px;padding:20px;box-shadow:0 4px 15px rgba(0,0,0,0.3)}\n.chart-title{font-size:1rem;color:#fff;margin-bottom:15px;font-weight:600}\n.chart-container{width:100%;height:300px;position:relative}\n.chart-placeholder{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;color:#718096;font-size:1rem;text-align:center;gap:10px}\n.chart-placeholder-icon{font-size:3rem}\n.table-section{background:linear-gradient(135deg,#2d3748 0%,#1a202c 100%);border-radius:12px;padding:20px;box-shadow:0 4px 15px rgba(0,0,0,0.3);margin-bottom:25px}\n.table-title{font-size:1rem;color:#fff;margin-bottom:15px;font-weight:600}\n.table-container{overflow-x:auto}\ntable{width:100%;border-collapse:collapse}\nth,td{padding:12px 15px;text-align:center;border-bottom:1px solid #4a5568}\nth{background:#1a202c;color:#a0aec0;font-weight:600;font-size:0.85rem;text-transform:uppercase;letter-spacing:0.5px}\ntd{color:#fff;font-size:0.95rem}\ntr:hover{background:rgba(74,85,104,0.3)}\ntr.highlighted{background:rgba(52,152,219,0.2)}\n.status-box{background:linear-gradient(135deg,#2d3748 0%,#1a202c 100%);border-radius:12px;padding:15px 20px;box-shadow:0 4px 15px rgba(0,0,0,0.3);text-align:center}\n.status-text{font-size:1rem;color:#a0aec0}\n.status-text strong{color:#fff}\nsvg{display:block}\n.bar-label{font-size:11px;fill:#fff;font-weight:600}\n.axis-label{font-size:10px;fill:#718096}\n.grid-line{stroke:#4a5568;stroke-width:1}\n.pie-label{font-size:11px;fill:#fff;font-weight:500}\n@media(max-width:768px){.filter-section{flex-direction:column;align-items:stretch}.btn-group{margin-left:0;justify-content:center}.charts-grid{grid-template-columns:1fr}.kpi-grid{grid-template-columns:1fr}}\n</style>\n</head>\n<body>\n<div class=\"dashboard\">\n<div class=\"header\">\n<h1>üìä RFQ-Dashboard 2020-2024</h1>\n<p>Request for Quotation - Analyse und Vergleich</p>\n</div>\n\n<div class=\"filter-section\">\n<div class=\"filter-group\">\n<label>Jahr ausw√§hlen</label>\n<select id=\"yearFilter\">\n<option value=\"\">Alle Jahre</option>\n<option value=\"2020\">2020</option>\n<option value=\"2021\">2021</option>\n<option value=\"2022\">2022</option>\n<option value=\"2023\">2023</option>\n<option value=\"2024\">2024</option>\n</select>\n</div>\n<div class=\"filter-group\">\n<label>Monat ausw√§hlen</label>\n<select id=\"monthFilter\" disabled>\n<option value=\"\">Alle Monate</option>\n<option value=\"1\">Januar</option>\n<option value=\"2\">Februar</option>\n<option value=\"3\">M√§rz</option>\n<option value=\"4\">April</option>\n<option value=\"5\">Mai</option>\n<option value=\"6\">Juni</option>\n<option value=\"7\">Juli</option>\n<option value=\"8\">August</option>\n<option value=\"9\">September</option>\n<option value=\"10\">Oktober</option>\n<option value=\"11\">November</option>\n<option value=\"12\">Dezember</option>\n</select>\n</div>\n<div class=\"btn-group\">\n<button class=\"btn btn-execute\" onclick=\"applyFilters()\">üîç Ausf√ºhren</button>\n<button class=\"btn btn-reset\" onclick=\"resetFilters()\">‚Üª Zur√ºcksetzen</button>\n</div>\n</div>\n\n<div class=\"kpi-grid\">\n<div class=\"kpi-card blue\">\n<div class=\"kpi-title\">Gesamt RFQs</div>\n<div class=\"kpi-value\" id=\"kpiTotal\">37.348</div>\n<div class=\"kpi-subtitle\" id=\"kpiTotalSub\">Alle Jahre (2020-2024)</div>\n</div>\n\n<div class=\"kpi-card green\">\n<div class=\"kpi-title\">Jahresvergleich</div>\n<div class=\"comparison-card\">\n<div class=\"comparison-values\">\n<div class=\"comparison-item\">\n<div class=\"comparison-label\" id=\"currentLabel\">2024</div>\n<div class=\"comparison-value current\" id=\"currentValue\">3.264</div>\n</div>\n<div class=\"comparison-vs\">vs.</div>\n<div class=\"comparison-item\">\n<div class=\"comparison-label\" id=\"previousLabel\">2023</div>\n<div class=\"comparison-value previous\" id=\"previousValue\">10.945</div>\n</div>\n</div>\n<div class=\"comparison-diff\">\n<div class=\"diff-item\">\n<div class=\"diff-label\">Differenz</div>\n<div class=\"diff-value negative\" id=\"diffAbsolute\">-7.681 RFQs</div>\n</div>\n<div class=\"diff-item\">\n<div class=\"diff-label\">√Ñnderung</div>\n<div class=\"diff-value negative\" id=\"diffPercent\">-70,2%</div>\n</div>\n</div>\n</div>\n</div>\n\n<div class=\"kpi-card orange\">\n<div class=\"kpi-title\">Lieferanten</div>\n<div class=\"kpi-value\">2.221</div>\n<div class=\"kpi-subtitle\">Aktive Lieferanten</div>\n</div>\n</div>\n\n<div class=\"charts-grid\">\n<div class=\"chart-card\">\n<div class=\"chart-title\" id=\"barChartTitle\">RFQs pro Jahr</div>\n<div class=\"chart-container\" id=\"barChart\"></div>\n</div>\n\n<div class=\"chart-card\">\n<div class=\"chart-title\" id=\"pieChartTitle\">Verteilung nach Jahren</div>\n<div class=\"chart-container\" id=\"pieChart\"></div>\n</div>\n</div>\n\n<div class=\"chart-card\" style=\"margin-bottom:25px\">\n<div class=\"chart-title\" id=\"comboChartTitle\">Monatlicher Vergleich</div>\n<div class=\"chart-container\" id=\"comboChart\" style=\"height:350px\"></div>\n</div>\n\n<div class=\"table-section\">\n<div class=\"table-title\" id=\"tableTitle\">Monatliche √úbersicht: 2024 vs. 2023</div>\n<div class=\"table-container\">\n<table id=\"comparisonTable\">\n<thead>\n<tr>\n<th>Monat</th>\n<th id=\"thCurrent\">2024 üü¢</th>\n<th id=\"thPrevious\">2023 üî¥</th>\n<th>Differenz</th>\n</tr>\n</thead>\n<tbody id=\"tableBody\"></tbody>\n</table>\n</div>\n</div>\n\n<div class=\"status-box\">\n<div class=\"status-text\" id=\"statusText\">üìä Zeige: <strong>Alle Daten (37.348 RFQs)</strong></div>\n</div>\n</div>\n\n<script>\nconst yearlyData = {\n2020: 2340,\n2021: 9820,\n2022: 10979,\n2023: 10945,\n2024: 3264\n};\n\nconst monthlyData = {\n2020: [0,0,17,34,16,37,199,306,224,284,358,430,435],\n2021: [0,599,758,909,878,817,824,977,639,896,911,871,741],\n2022: [0,743,1115,1166,798,947,991,1074,629,894,951,897,774],\n2023: [0,799,817,1020,816,1027,1030,1072,694,947,962,1014,747],\n2024: [0,958,1068,1050,188,0,0,0,0,0,0,0,0]\n};\n\nconst monthNames = ['','Januar','Februar','M√§rz','April','Mai','Juni','Juli','August','September','Oktober','November','Dezember'];\nconst yearColors = {2020:'#9b59b6',2021:'#3498db',2022:'#e74c3c',2023:'#2ecc71',2024:'#f39c12'};\n\nlet currentYear = null;\nlet currentMonth = null;\n\nfunction formatNumber(num) {\nreturn num.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, '.');\n}\n\nfunction getTotal() {\nreturn Object.values(yearlyData).reduce((a,b) => a+b, 0);\n}\n\ndocument.getElementById('yearFilter').addEventListener('change', function() {\nconst monthFilter = document.getElementById('monthFilter');\nif (this.value) {\nmonthFilter.disabled = false;\n} else {\nmonthFilter.disabled = true;\nmonthFilter.value = '';\n}\n});\n\nfunction applyFilters() {\ncurrentYear = document.getElementById('yearFilter').value;\ncurrentMonth = document.getElementById('monthFilter').value;\nupdateDashboard();\n}\n\nfunction resetFilters() {\ndocument.getElementById('yearFilter').value = '';\ndocument.getElementById('monthFilter').value = '';\ndocument.getElementById('monthFilter').disabled = true;\ncurrentYear = null;\ncurrentMonth = null;\nupdateDashboard();\n}\n\nfunction updateDashboard() {\nupdateKPIs();\nupdateBarChart();\nupdatePieChart();\nupdateComboChart();\nupdateTable();\nupdateStatus();\n}\n\nfunction updateKPIs() {\nconst kpiTotal = document.getElementById('kpiTotal');\nconst kpiTotalSub = document.getElementById('kpiTotalSub');\nconst currentLabel = document.getElementById('currentLabel');\nconst currentValue = document.getElementById('currentValue');\nconst previousLabel = document.getElementById('previousLabel');\nconst previousValue = document.getElementById('previousValue');\nconst diffAbsolute = document.getElementById('diffAbsolute');\nconst diffPercent = document.getElementById('diffPercent');\n\nlet total, current, previous, currLabel, prevLabel;\n\nif (!currentYear) {\ntotal = getTotal();\nkpiTotalSub.textContent = 'Alle Jahre (2020-2024)';\ncurrent = yearlyData[2024];\nprevious = yearlyData[2023];\ncurrLabel = '2024';\nprevLabel = '2023';\n} else if (!currentMonth) {\ntotal = yearlyData[parseInt(currentYear)];\nkpiTotalSub.textContent = `Jahr ${currentYear}`;\ncurrent = yearlyData[parseInt(currentYear)];\nconst prevYear = parseInt(currentYear) - 1;\nprevious = yearlyData[prevYear] || 0;\ncurrLabel = currentYear;\nprevLabel = prevYear.toString();\n} else {\nconst year = parseInt(currentYear);\nconst month = parseInt(currentMonth);\ntotal = monthlyData[year] ? monthlyData[year][month] || 0 : 0;\nkpiTotalSub.textContent = `${monthNames[month]} ${year}`;\ncurrent = total;\nconst prevYear = year - 1;\nprevious = monthlyData[prevYear] ? monthlyData[prevYear][month] || 0 : 0;\ncurrLabel = `${monthNames[month]} ${year}`;\nprevLabel = `${monthNames[month]} ${prevYear}`;\n}\n\nkpiTotal.textContent = formatNumber(total);\ncurrentLabel.textContent = currLabel;\ncurrentValue.textContent = formatNumber(current);\npreviousLabel.textContent = prevLabel;\npreviousValue.textContent = formatNumber(previous);\n\nconst diff = current - previous;\nconst pct = previous > 0 ? ((diff / previous) * 100).toFixed(1) : (current > 0 ? 100 : 0);\n\ndiffAbsolute.textContent = `${diff >= 0 ? '+' : ''}${formatNumber(diff)} RFQs`;\ndiffAbsolute.className = `diff-value ${diff >= 0 ? 'positive' : 'negative'}`;\ndiffPercent.textContent = `${diff >= 0 ? '+' : ''}${pct.toString().replace('.', ',')}%`;\ndiffPercent.className = `diff-value ${diff >= 0 ? 'positive' : 'negative'}`;\n}\n\nfunction updateBarChart() {\nconst container = document.getElementById('barChart');\nconst title = document.getElementById('barChartTitle');\nconst width = container.offsetWidth;\nconst height = 300;\nconst padding = {top: 40, right: 30, bottom: 40, left: 50};\n\nlet data = [];\n\nif (!currentYear) {\ntitle.textContent = 'RFQs pro Jahr';\ndata = Object.entries(yearlyData).map(([year, count]) => ({label: year, value: count, color: yearColors[year]}));\n} else if (!currentMonth) {\nconst year = parseInt(currentYear);\nconst prevYear = year - 1;\ntitle.textContent = `${year} vs. ${prevYear}`;\ndata = [\n{label: prevYear.toString(), value: yearlyData[prevYear] || 0, color: '#e74c3c'},\n{label: year.toString(), value: yearlyData[year], color: '#2ecc71'}\n];\n} else {\nconst year = parseInt(currentYear);\nconst month = parseInt(currentMonth);\nconst prevYear = year - 1;\ntitle.textContent = `${monthNames[month]} ${year} vs. ${monthNames[month]} ${prevYear}`;\ndata = [\n{label: `${monthNames[month]} ${prevYear}`, value: monthlyData[prevYear] ? monthlyData[prevYear][month] || 0 : 0, color: '#e74c3c'},\n{label: `${monthNames[month]} ${year}`, value: monthlyData[year] ? monthlyData[year][month] || 0 : 0, color: '#2ecc71'}\n];\n}\n\nconst maxValue = Math.max(...data.map(d => d.value));\nconst barWidth = (width - padding.left - padding.right) / data.length * 0.6;\nconst gap = (width - padding.left - padding.right) / data.length * 0.4;\n\nlet svg = `<svg width=\"${width}\" height=\"${height}\">`;\n\n// Grid lines\nconst gridCount = 4;\nfor (let i = 0; i <= gridCount; i++) {\nconst y = padding.top + (height - padding.top - padding.bottom) * (1 - i / gridCount);\nconst val = Math.round(maxValue * i / gridCount / 1000);\nsvg += `<line x1=\"${padding.left}\" y1=\"${y}\" x2=\"${width - padding.right}\" y2=\"${y}\" class=\"grid-line\" stroke-dasharray=\"3,3\"/>`;\nsvg += `<text x=\"${padding.left - 10}\" y=\"${y + 4}\" class=\"axis-label\" text-anchor=\"end\">${val}K</text>`;\n}\n\n// Bars\ndata.forEach((d, i) => {\nconst barHeight = maxValue > 0 ? (d.value / maxValue) * (height - padding.top - padding.bottom) : 0;\nconst x = padding.left + i * (barWidth + gap) + gap / 2;\nconst y = height - padding.bottom - barHeight;\n\nsvg += `<rect x=\"${x}\" y=\"${y}\" width=\"${barWidth}\" height=\"${barHeight}\" fill=\"${d.color}\" rx=\"4\"/>`;\nsvg += `<text x=\"${x + barWidth/2}\" y=\"${y - 8}\" class=\"bar-label\" text-anchor=\"middle\">${formatNumber(d.value)}</text>`;\nsvg += `<text x=\"${x + barWidth/2}\" y=\"${height - padding.bottom + 20}\" class=\"axis-label\" text-anchor=\"middle\">${d.label}</text>`;\n});\n\nsvg += '</svg>';\ncontainer.innerHTML = svg;\n}\n\nfunction updatePieChart() {\nconst container = document.getElementById('pieChart');\nconst title = document.getElementById('pieChartTitle');\nconst width = container.offsetWidth;\nconst height = 300;\nconst cx = width / 2;\nconst cy = height / 2;\nconst radius = Math.min(width, height) / 2 - 50;\n\nlet data = [];\n\nif (!currentYear) {\ntitle.textContent = 'Verteilung nach Jahren';\nconst total = getTotal();\ndata = Object.entries(yearlyData).map(([year, count]) => ({\nlabel: year,\nvalue: count,\npercent: ((count / total) * 100).toFixed(1),\ncolor: yearColors[year]\n}));\n} else if (!currentMonth) {\nconst year = parseInt(currentYear);\nconst prevYear = year - 1;\nconst total = (yearlyData[year] || 0) + (yearlyData[prevYear] || 0);\ntitle.textContent = `${year} vs. ${prevYear}`;\ndata = [\n{label: prevYear.toString(), value: yearlyData[prevYear] || 0, percent: total > 0 ? ((yearlyData[prevYear] || 0) / total * 100).toFixed(1) : 0, color: '#e74c3c'},\n{label: year.toString(), value: yearlyData[year] || 0, percent: total > 0 ? ((yearlyData[year] || 0) / total * 100).toFixed(1) : 0, color: '#2ecc71'}\n];\n} else {\nconst year = parseInt(currentYear);\nconst month = parseInt(currentMonth);\nconst prevYear = year - 1;\nconst curr = monthlyData[year] ? monthlyData[year][month] || 0 : 0;\nconst prev = monthlyData[prevYear] ? monthlyData[prevYear][month] || 0 : 0;\nconst total = curr + prev;\ntitle.textContent = `${monthNames[month]} ${year} vs. ${monthNames[month]} ${prevYear}`;\ndata = [\n{label: `${prevYear}`, value: prev, percent: total > 0 ? (prev / total * 100).toFixed(1) : 0, color: '#e74c3c'},\n{label: `${year}`, value: curr, percent: total > 0 ? (curr / total * 100).toFixed(1) : 0, color: '#2ecc71'}\n];\n}\n\nlet svg = `<svg width=\"${width}\" height=\"${height}\">`;\n\nconst total = data.reduce((a, b) => a + b.value, 0);\nlet startAngle = -Math.PI / 2;\n\ndata.forEach((d, i) => {\nconst angle = total > 0 ? (d.value / total) * 2 * Math.PI : 0;\nconst endAngle = startAngle + angle;\n\nconst x1 = cx + radius * Math.cos(startAngle);\nconst y1 = cy + radius * Math.sin(startAngle);\nconst x2 = cx + radius * Math.cos(endAngle);\nconst y2 = cy + radius * Math.sin(endAngle);\n\nconst largeArc = angle > Math.PI ? 1 : 0;\n\nif (angle > 0) {\nsvg += `<path d=\"M ${cx} ${cy} L ${x1} ${y1} A ${radius} ${radius} 0 ${largeArc} 1 ${x2} ${y2} Z\" fill=\"${d.color}\"/>`;\n\n// Label\nconst midAngle = startAngle + angle / 2;\nconst labelRadius = radius * 0.7;\nconst lx = cx + labelRadius * Math.cos(midAngle);\nconst ly = cy + labelRadius * Math.sin(midAngle);\nsvg += `<text x=\"${lx}\" y=\"${ly}\" class=\"pie-label\" text-anchor=\"middle\" dominant-baseline=\"middle\">${d.percent}%</text>`;\n}\n\nstartAngle = endAngle;\n});\n\n// Legend\nconst legendY = height - 25;\nconst legendItemWidth = width / data.length;\ndata.forEach((d, i) => {\nconst lx = i * legendItemWidth + legendItemWidth / 2;\nsvg += `<rect x=\"${lx - 40}\" y=\"${legendY}\" width=\"12\" height=\"12\" fill=\"${d.color}\" rx=\"2\"/>`;\nsvg += `<text x=\"${lx - 23}\" y=\"${legendY + 10}\" class=\"axis-label\">${d.label}</text>`;\n});\n\nsvg += '</svg>';\ncontainer.innerHTML = svg;\n}\n\nfunction updateComboChart() {\nconst container = document.getElementById('comboChart');\nconst title = document.getElementById('comboChartTitle');\nconst width = container.offsetWidth;\nconst height = 350;\nconst padding = {top: 40, right: 30, bottom: 50, left: 55};\n\nif (!currentYear) {\ntitle.textContent = 'Monatlicher Vergleich';\ncontainer.innerHTML = `<div class=\"chart-placeholder\"><div class=\"chart-placeholder-icon\">üìÖ</div><div>W√§hlen Sie ein Jahr und klicken Sie 'Ausf√ºhren'</div></div>`;\nreturn;\n}\n\nconst year = parseInt(currentYear);\nconst prevYear = year - 1;\ntitle.textContent = `Monatlicher Vergleich ${year} vs. ${prevYear}`;\n\nconst currentData = monthlyData[year] ? monthlyData[year].slice(1) : Array(12).fill(0);\nconst previousData = monthlyData[prevYear] ? monthlyData[prevYear].slice(1) : Array(12).fill(0);\n\nconst allValues = [...currentData, ...previousData];\nconst maxValue = Math.max(...allValues, 1);\n\nconst chartWidth = width - padding.left - padding.right;\nconst chartHeight = height - padding.top - padding.bottom;\nconst barWidth = chartWidth / 12 * 0.5;\n\nlet svg = `<svg width=\"${width}\" height=\"${height}\">`;\n\n// Grid\nconst gridCount = 4;\nfor (let i = 0; i <= gridCount; i++) {\nconst y = padding.top + chartHeight * (1 - i / gridCount);\nconst val = Math.round(maxValue * i / gridCount);\nsvg += `<line x1=\"${padding.left}\" y1=\"${y}\" x2=\"${width - padding.right}\" y2=\"${y}\" class=\"grid-line\" stroke-dasharray=\"3,3\"/>`;\nsvg += `<text x=\"${padding.left - 10}\" y=\"${y + 4}\" class=\"axis-label\" text-anchor=\"end\">${formatNumber(val)}</text>`;\n}\n\n// Bars (