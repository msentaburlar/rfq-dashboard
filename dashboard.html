<!DOCTYPE html><html lang="de"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0"><title>RFQ Dashboard 2020-2024</title><style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;background:#f5f7fa;color:#333;min-height:100vh}.container{max-width:1400px;margin:0 auto;padding:20px}h1{text-align:center;color:#2c3e50;margin-bottom:20px;font-size:1.8rem}.filter-bar{background:#fff;border-radius:12px;padding:20px;margin-bottom:20px;box-shadow:0 2px 10px rgba(0,0,0,.08);display:flex;flex-wrap:wrap;gap:15px;align-items:center}.filter-group{display:flex;flex-direction:column;gap:5px}.filter-group label{font-size:.85rem;font-weight:600;color:#555}.filter-group select{padding:10px 15px;border:2px solid #e0e0e0;border-radius:8px;font-size:1rem;min-width:150px;cursor:pointer;transition:border-color .2s}.filter-group select:focus{outline:none;border-color:#3498db}.filter-group select:disabled{background:#f5f5f5;cursor:not-allowed}.btn{padding:10px 25px;border:none;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .2s}.btn-primary{background:#3498db;color:#fff}.btn-primary:hover{background:#2980b9}.btn-reset{background:#e74c3c;color:#fff}.btn-reset:hover{background:#c0392b}.btn-group{display:flex;gap:10px;margin-left:auto}.status-bar{background:#fff;border-radius:12px;padding:15px 20px;margin-bottom:20px;box-shadow:0 2px 10px rgba(0,0,0,.08);font-size:1rem;color:#555}.status-bar strong{color:#2c3e50}.kpi-container{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px;margin-bottom:20px}.kpi-card{background:#fff;border-radius:12px;padding:25px;box-shadow:0 2px 10px rgba(0,0,0,.08);position:relative;overflow:hidden}.kpi-card::before{content:'';position:absolute;top:0;left:0;width:5px;height:100%}.kpi-card.blue::before{background:#3498db}.kpi-card.green::before{background:#2ecc71}.kpi-card.orange::before{background:#f39c12}.kpi-title{font-size:.9rem;color:#777;margin-bottom:8px;text-transform:uppercase;letter-spacing:.5px}.kpi-value{font-size:2.2rem;font-weight:700;margin-bottom:5px}.kpi-card.blue .kpi-value{color:#3498db}.kpi-card.green .kpi-value{color:#2ecc71}.kpi-card.orange .kpi-value{color:#f39c12}.kpi-subtitle{font-size:.85rem;color:#999}.kpi-change{display:flex;align-items:center;gap:5px;margin-top:10px;font-weight:600}.kpi-change.positive{color:#2ecc71}.kpi-change.negative{color:#e74c3c}.charts-row{display:grid;grid-template-columns:repeat(auto-fit,minmax(400px,1fr));gap:20px;margin-bottom:20px}.chart-card{background:#fff;border-radius:12px;padding:20px;box-shadow:0 2px 10px rgba(0,0,0,.08)}.chart-title{font-size:1rem;font-weight:600;color:#2c3e50;margin-bottom:15px;padding-bottom:10px;border-bottom:2px solid #f0f0f0}.chart-container{width:100%;min-height:300px;display:flex;justify-content:center;align-items:center}.chart-hint{color:#999;font-style:italic;text-align:center;padding:40px}.table-card{background:#fff;border-radius:12px;padding:20px;box-shadow:0 2px 10px rgba(0,0,0,.08);margin-bottom:20px;overflow-x:auto}.table-title{font-size:1rem;font-weight:600;color:#2c3e50;margin-bottom:15px;padding-bottom:10px;border-bottom:2px solid #f0f0f0}.data-table{width:100%;border-collapse:collapse}.data-table th,.data-table td{padding:12px 15px;text-align:left;border-bottom:1px solid #eee}.data-table th{background:#f8f9fa;font-weight:600;color:#555;font-size:.85rem;text-transform:uppercase}.data-table tr:hover{background:#f8f9fa}.data-table tr.highlighted{background:#fff3cd}.diff-positive{color:#2ecc71;font-weight:600}.diff-negative{color:#e74c3c;font-weight:600}@media(max-width:768px){.filter-bar{flex-direction:column;align-items:stretch}.btn-group{margin-left:0;justify-content:center}.charts-row{grid-template-columns:1fr}}</style></head><body><div class="container"><h1>ðŸ“Š RFQ Dashboard 2020â€“2024</h1><div class="filter-bar"><div class="filter-group"><label for="yearFilter">Jahr</label><select id="yearFilter"><option value="">Alle Jahre</option><option value="2020">2020</option><option value="2021">2021</option><option value="2022">2022</option><option value="2023">2023</option><option value="2024">2024</option></select></div><div class="filter-group"><label for="monthFilter">Monat</label><select id="monthFilter" disabled><option value="">Alle Monate</option><option value="1">Januar</option><option value="2">Februar</option><option value="3">MÃ¤rz</option><option value="4">April</option><option value="5">Mai</option><option value="6">Juni</option><option value="7">Juli</option><option value="8">August</option><option value="9">September</option><option value="10">Oktober</option><option value="11">November</option><option value="12">Dezember</option></select></div><div class="btn-group"><button class="btn btn-primary" id="applyBtn">AusfÃ¼hren</button><button class="btn btn-reset" id="resetBtn">ZurÃ¼cksetzen</button></div></div><div class="status-bar" id="statusBar">Gesamt (2020â€“2024) â€“ <strong>37.348 RFQs</strong></div><div class="kpi-container"><div class="kpi-card blue"><div class="kpi-title">Gesamt RFQs</div><div class="kpi-value" id="kpiTotal">37.348</div><div class="kpi-subtitle" id="kpiTotalSub">Zeitraum: 2020â€“2024</div></div><div class="kpi-card green"><div class="kpi-title">Vergleich Vorjahr</div><div class="kpi-value" id="kpiCompare">â€“</div><div class="kpi-subtitle" id="kpiCompareSub">WÃ¤hle ein Jahr fÃ¼r den Vergleich</div><div class="kpi-change" id="kpiChangeContainer"></div></div><div class="kpi-card orange"><div class="kpi-title">Lieferanten</div><div class="kpi-value">2.221</div><div class="kpi-subtitle">Registrierte Lieferanten</div></div></div><div class="charts-row"><div class="chart-card"><div class="chart-title">ðŸ“Š RFQ-Verteilung (Balkendiagramm)</div><div class="chart-container" id="barChart"></div></div><div class="chart-card"><div class="chart-title">ðŸ¥§ Anteile (Tortendiagramm)</div><div class="chart-container" id="pieChart"></div></div></div><div class="chart-card"><div class="chart-title">ðŸ“ˆ Monatsvergleich (Kombi-Chart)</div><div class="chart-container" id="comboChart"><div class="chart-hint">Bitte wÃ¤hle ein Jahr aus, um den Monatsvergleich anzuzeigen.</div></div></div><div class="table-card"><div class="table-title">ðŸ“‹ MonatsÃ¼bersicht</div><table class="data-table"><thead><tr><th>Monat</th><th>Aktuell</th><th>Vorjahr</th><th>Differenz</th></tr></thead><tbody id="tableBody"></tbody></table></div></div><script>const DATA={yearly:{2020:2340,2021:9820,2022:10979,2023:10945,2024:3264},monthly:{2020:{1:0,2:17,3:34,4:16,5:37,6:199,7:306,8:224,9:284,10:358,11:430,12:435},2021:{1:599,2:758,3:909,4:878,5:817,6:824,7:977,8:639,9:896,10:911,11:871,12:741},2022:{1:743,2:1115,3:1166,4:798,5:947,6:991,7:1074,8:629,9:894,10:951,11:897,12:774},2023:{1:799,2:817,3:1020,4:816,5:1027,6:1030,7:1072,8:694,9:947,10:962,11:1014,12:747},2024:{1:958,2:1068,3:1050,4:188,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0}},total:37348,suppliers:2221};const MONTHS=['','Januar','Februar','MÃ¤rz','April','Mai','Juni','Juli','August','September','Oktober','November','Dezember'];const COLORS={blue:'#3498db',green:'#2ecc71',red:'#e74c3c',orange:'#f39c12',purple:'#9b59b6'};const yearColors=['#3498db','#2ecc71','#f39c12','#e74c3c','#9b59b6'];function formatNumber(n){return n.toLocaleString('de-DE')}function getYearlyTotal(year){return DATA.yearly[year]||0}function getMonthlyTotal(year,month){return DATA.monthly[year]?DATA.monthly[year][month]||0:0}const yearFilter=document.getElementById('yearFilter');const monthFilter=document.getElementById('monthFilter');const applyBtn=document.getElementById('applyBtn');const resetBtn=document.getElementById('resetBtn');const statusBar=document.getElementById('statusBar');const kpiTotal=document.getElementById('kpiTotal');const kpiTotalSub=document.getElementById('kpiTotalSub');const kpiCompare=document.getElementById('kpiCompare');const kpiCompareSub=document.getElementById('kpiCompareSub');const kpiChangeContainer=document.getElementById('kpiChangeContainer');const tableBody=document.getElementById('tableBody');yearFilter.addEventListener('change',()=>{monthFilter.disabled=!yearFilter.value;if(!yearFilter.value)monthFilter.value=''});applyBtn.addEventListener('click',updateDashboard);resetBtn.addEventListener('click',()=>{yearFilter.value='';monthFilter.value='';monthFilter.disabled=true;updateDashboard()});function updateDashboard(){const year=yearFilter.value?parseInt(yearFilter.value):null;const month=monthFilter.value?parseInt(monthFilter.value):null;updateStatus(year,month);updateKPIs(year,month);updateBarChart(year,month);updatePieChart(year,month);updateComboChart(year);updateTable(year,month)}function updateStatus(year,month){let text='';let count=0;if(!year){text='Gesamt (2020â€“2024)';count=DATA.total}else if(!month){text=`Jahr ${year}`;count=getYearlyTotal(year)}else{text=`${MONTHS[month]} ${year}`;count=getMonthlyTotal(year,month)}statusBar.innerHTML=`${text} â€“ <strong>${formatNumber(count)} RFQs</strong>`}function updateKPIs(year,month){let current=0,previous=0,currentLabel='',prevLabel='';if(!year){current=DATA.total;currentLabel='Zeitraum: 2020â€“2024';kpiCompare.textContent='â€“';kpiCompareSub.textContent='WÃ¤hle ein Jahr fÃ¼r den Vergleich';kpiChangeContainer.innerHTML=''}else if(!month){current=getYearlyTotal(year);previous=getYearlyTotal(year-1);currentLabel=`Jahr ${year}`;prevLabel=`vs. ${year-1}`;showComparison(current,previous,prevLabel)}else{current=getMonthlyTotal(year,month);previous=getMonthlyTotal(year-1,month);currentLabel=`${MONTHS[month]} ${year}`;prevLabel=`vs. ${MONTHS[month]} ${year-1}`;showComparison(current,previous,prevLabel)}kpiTotal.textContent=formatNumber(current);kpiTotalSub.textContent=currentLabel}function showComparison(current,previous,label){if(previous===0){kpiCompare.textContent='â€“';kpiCompareSub.textContent='Keine Vorjahresdaten';kpiChangeContainer.innerHTML='';return}const diff=current-previous;const pct=((diff/previous)*100).toFixed(1);const isPositive=diff>=0;kpiCompare.textContent=formatNumber(current);kpiCompareSub.textContent=label;kpiChangeContainer.className=`kpi-change ${isPositive?'positive':'negative'}`;kpiChangeContainer.innerHTML=`<span>${isPositive?'â–²':'â–¼'}</span><span>${isPositive?'+':''}${formatNumber(diff)} (${isPositive?'+':''}${pct}%)</span>`}function updateBarChart(year,month){const container=document.getElementById('barChart');if(!year){drawYearlyBarChart(container)}else if(!month){drawYearCompareBar(container,year)}else{drawMonthCompareBar(container,year,month)}}function drawYearlyBarChart(container){const years=[2020,2021,2022,2023,2024];const values=years.map(y=>DATA.yearly[y]);const max=Math.max(...values);const w=450,h=280,pad=50,barW=50,gap=25;let svg=`<svg width="${w}" height="${h}" viewBox="0 0 ${w} ${h}">`;const chartH=h-pad*2;const startX=(w-(years.length*barW+(years.length-1)*gap))/2;years.forEach((y,i)=>{const barH=(values[i]/max)*chartH;const x=startX+i*(barW+gap);const yPos=pad+chartH-barH;svg+=`<rect x="${x}" y="${yPos}" width="${barW}" height="${barH}" fill="${yearColors[i]}" rx="4"/><text x="${x+barW/2}" y="${yPos-8}" text-anchor="middle" font-size="12" font-weight="600" fill="#333">${formatNumber(values[i])}</text><text x="${x+barW/2}" y="${h-15}" text-anchor="middle" font-size="13" fill="#555">${y}</text>`});svg+=`</svg>`;container.innerHTML=svg}function drawYearCompareBar(container,year){const current=DATA.yearly[year]||0;const previous=DATA.yearly[year-1]||0;const max=Math.max(current,previous,1);const w=350,h=280,pad=50,barW=80,gap=40;let svg=`<svg width="${w}" height="${h}" viewBox="0 0 ${w} ${h}">`;const chartH=h-pad*2;const startX=(w-(2*barW+gap))/2;const bars=[{val:current,label:String(year),color:COLORS.blue},{val:previous,label:String(year-1),color:'#95a5a6'}];bars.forEach((b,i)=>{const barH=(b.val/max)*chartH;const x=startX+i*(barW+gap);const yPos=pad+chartH-barH;svg+=`<rect x="${x}" y="${yPos}" width="${barW}" height="${barH}" fill="${b.color}" rx="4"/><text x="${x+barW/2}" y="${yPos-8}" text-anchor="middle" font-size="13" font-weight="600" fill="#333">${formatNumber(b.val)}</text><text x="${x+barW/2}" y="${h-15}" text-anchor="middle" font-size="14" fill="#555">${b.label}</text>`});svg+=`</svg>`;container.innerHTML=svg}function drawMonthCompareBar(container,year,month){const current=getMonthlyTotal(year,month);const previous=getMonthlyTotal(year-1,month);const max=Math.max(current,previous,1);const w=350,h=280,pad=50,barW=80,gap=40;let svg=`<svg width="${w}" height="${h}" viewBox="0 0 ${w} ${h}">`;const chartH=h-pad*2;const startX=(w-(2*barW+gap))/2;const bars=[{val:current,label:`${MONTHS[month].substr(0,3)} ${year}`,color:COLORS.blue},{val:previous,label:`${MONTHS[month].substr(0,3)} ${year-1}`,color:'#95a5a6'}];bars.forEach((b,i)=>{const barH=(b.val/max)*chartH;const x=startX+i*(barW+gap);const yPos=pad+chartH-barH;svg+=`<rect x="${x}" y="${yPos}" width="${barW}" height="${barH}" fill="${b.color}" rx="4"/><text x="${x+barW/2}" y="${yPos-8}" text-anchor="middle" font-size="13" font-weight="600" fill="#333">${formatNumber(b.val)}</text><text x="${x+barW/2}" y="${h-15}" text-anchor="middle" font-size="12" fill="#555">${b.label}</text>`});svg+=`</svg>`;container.innerHTML=svg}function updatePieChart(year,month){const container=document.getElementById('pieChart');if(!year){drawYearlyPie(container)}else if(!month){drawYearComparePie(container,year)}else{drawMonthComparePie(container,year,month)}}function drawPie(container,data,labels,colors){const w=320,h=280,cx=160,cy=130,r=100;let svg=`<svg width="${w}" height="${h}" viewBox="0 0 ${w} ${h}">`;const total=data.reduce((a,b)=>a+b,0);if(total===0){container.innerHTML='<div class="chart-hint">Keine Daten verfÃ¼gbar</div>';return}let startAngle=-Math.PI/2;data.forEach((val,i)=>{const pct=val/total;const angle=pct*2*Math.PI;const endAngle=startAngle+angle;const x1=cx+r*Math.cos(startAngle);const y1=cy+r*Math.sin(startAngle);const x2=cx+r*Math.cos(endAngle);const y2=cy+r*Math.sin(endAngle);const largeArc=angle>Math.PI?1:0;const midAngle=startAngle+angle/2;const labelR=r*0.65;const lx=cx+labelR*Math.cos(midAngle);const ly=cy+labelR*Math.sin(midAngle);if(pct>0.02){svg+=`<path d="M${cx},${cy} L${x1},${y1} A${r},${r} 0 ${largeArc},1 ${x2},${y2} Z" fill="${colors[i]}"/>`}if(pct>0.05){svg+=`<text x="${lx}" y="${ly}" text-anchor="middle" dominant-baseline="middle" font-size="11" font-weight="600" fill="#fff">${(pct*100).toFixed(0)}%</text>`}startAngle=endAngle});let ly=h-35;const cols=Math.min(labels.length,5);const colW=w/cols;labels.forEach((l,i)=>{const lx=colW/2+i*colW-w/2+w/2-(cols*colW)/2+colW/2;svg+=`<rect x="${10+i*65}" y="${ly}" width="12" height="12" fill="${colors[i]}" rx="2"/><text x="${25+i*65}" y="${ly+10}" font-size="11" fill="#555">${l}</text>`});svg+=`</svg>`;container.innerHTML=svg}function drawYearlyPie(container){const years=[2020,2021,2022,2023,2024];const data=years.map(y=>DATA.yearly[y]);drawPie(container,data,years.map(String),yearColors)}function drawYearComparePie(container,year){const current=DATA.yearly[year]||0;const previous=DATA.yearly[year-1]||0;drawPie(container,[current,previous],[String(year),String(year-1)],[COLORS.blue,'#95a5a6'])}function drawMonthComparePie(container,year,month){const current=getMonthlyTotal(year,month);const previous=getMonthlyTotal(year-1,month);drawPie(container,[current,previous],[`${year}`,`${year-1}`],[COLORS.blue,'#95a5a6'])}function updateComboChart(year){const container=document.getElementById('comboChart');if(!year){container.innerHTML='<div class="chart-hint">Bitte wÃ¤hle ein Jahr aus, um den Monatsvergleich anzuzeigen.</div>';return}const currentData=DATA.monthly[year]||{};const prevData=DATA.monthly[year-1]||{};const months=[1,2,3,4,5,6,7,8,9,10,11,12];const currentVals=months.map(m=>currentData[m]||0);const prevVals=months.map(m=>prevData[m]||0);const allVals=[...currentVals,...prevVals];const max=Math.max(...allVals,1);const w=900,h=320,padL=60,padR=30,padT=40,padB=50;const chartW=w-padL-padR;const chartH=h-padT-padB;const barW=chartW/12*0.6;const gap=chartW/12;let svg=`<svg width="100%" height="${h}" viewBox="0 0 ${w} ${h}" preserveAspectRatio="xMidYMid meet">`;for(let i=0;i<=4;i++){const y=padT+chartH-i*(chartH/4);const val=Math.round(max*i/4);svg+=`<line x1="${padL}" y1="${y}" x2="${w-padR}" y2="${y}" stroke="#eee" stroke-width="1"/><text x="${padL-10}" y="${y+4}" text-anchor="end" font-size="11" fill="#999">${formatNumber(val)}</text>`}months.forEach((m,i)=>{const x=padL+i*gap+gap/2;const barH=(currentVals[i]/max)*chartH;const yPos=padT+chartH-barH;svg+=`<rect x="${x-barW/2}" y="${yPos}" width="${barW}" height="${barH}" fill="${COLORS.blue}" rx="3"/>`;svg+=`<text x="${x}" y="${h-padB+20}" text-anchor="middle" font-size="11" fill="#555">${MONTHS[m].substr(0,3)}</text>`});let linePath=`M`;months.forEach((m,i)=>{const x=padL+i*gap+gap/2;const y=padT+chartH-(prevVals[i]/max)*chartH;linePath+=`${i===0?'':' L'}${x},${y}`});svg+=`<path d="${linePath}" fill="none" stroke="${COLORS.orange}" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>`;months.forEach((m,i)=>{const x=padL+i*gap+gap/2;const y=padT+chartH-(prevVals[i]/max)*chartH;svg+=`<circle cx="${x}" cy="${y}" r="5" fill="${COLORS.orange}" stroke="#fff" stroke-width="2"/>`});svg+=`<rect x="${w-180}" y="15" width="15" height="15" fill="${COLORS.blue}" rx="2"/><text x="${w-160}" y="27" font-size="12" fill="#555">${year}</text>`;svg+=`<line x1="${w-100}" y1="22" x2="${w-75}" y2="22" stroke="${COLORS.orange}" stroke-width="3"/><circle cx="${w-87}" cy="22" r="4" fill="${COLORS.orange}"/><text x="${w-70}" y="27" font-size="12" fill="#555">${year-1}</text>`;svg+=`</svg>`;container.innerHTML=svg}function updateTable(year,month){tableBody.innerHTML='';const displayYear=year||2024;const currentData=DATA.monthly[displayYear]||{};const prevData=DATA.monthly[displayYear-1]||{};for(let m=1;m<=12;m++){const current=currentData[m]||0;const prev=prevData[m]||0;const diff=current-prev;const isHighlighted=month&&month===m;const diffClass=diff>=0?'diff-positive':'diff-negative';const diffText=diff>=0?`+${formatNumber(diff)}`:formatNumber(diff);const row=document.createElement('tr');if(isHighlighted)row.className='highlighted';row.innerHTML=`<td>${MONTHS[m]}</td><td>${formatNumber(current)}</td><td>${formatNumber(prev)}</td><td class="${diffClass}">${diffText}</td>`;tableBody.appendChild(row)}}updateDashboard();</script></body></html>