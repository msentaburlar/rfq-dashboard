<!DOCTYPE html><html lang="de"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>RFQ Dashboard 2020‚Äì2024</title><style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:'Segoe UI',system-ui,sans-serif;background:linear-gradient(135deg,#1a1a2e 0%,#16213e 100%);min-height:100vh;color:#fff;padding:20px}.container{max-width:1400px;margin:0 auto}h1{text-align:center;font-size:2rem;margin-bottom:20px;background:linear-gradient(90deg,#3498db,#2ecc71);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.filter-bar{background:rgba(255,255,255,0.05);border-radius:12px;padding:20px;margin-bottom:20px;display:flex;flex-wrap:wrap;gap:15px;align-items:center;backdrop-filter:blur(10px)}.filter-group{display:flex;flex-direction:column;gap:5px}.filter-group label{font-size:0.85rem;color:#aaa}.filter-group select{padding:10px 15px;border-radius:8px;border:1px solid rgba(255,255,255,0.1);background:rgba(255,255,255,0.1);color:#fff;font-size:0.95rem;min-width:150px;cursor:pointer}.filter-group select:disabled{opacity:0.5;cursor:not-allowed}.btn{padding:12px 25px;border:none;border-radius:8px;font-size:0.95rem;font-weight:600;cursor:pointer;transition:all 0.3s}.btn-primary{background:#3498db;color:#fff}.btn-primary:hover{background:#2980b9;transform:translateY(-2px)}.btn-danger{background:#e74c3c;color:#fff}.btn-danger:hover{background:#c0392b;transform:translateY(-2px)}.status-bar{background:rgba(52,152,219,0.2);border:1px solid #3498db;border-radius:8px;padding:12px 20px;margin-bottom:20px;text-align:center;font-size:1.1rem}.kpi-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px;margin-bottom:25px}.kpi-card{background:rgba(255,255,255,0.05);border-radius:12px;padding:25px;backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,0.1);transition:transform 0.3s}.kpi-card:hover{transform:translateY(-5px)}.kpi-card.blue{border-left:4px solid #3498db}.kpi-card.green{border-left:4px solid #2ecc71}.kpi-card.red{border-left:4px solid #e74c3c}.kpi-card.orange{border-left:4px solid #f39c12}.kpi-title{font-size:0.9rem;color:#aaa;margin-bottom:10px}.kpi-value{font-size:2.2rem;font-weight:700}.kpi-value.blue{color:#3498db}.kpi-value.green{color:#2ecc71}.kpi-value.red{color:#e74c3c}.kpi-value.orange{color:#f39c12}.kpi-sub{font-size:0.85rem;color:#888;margin-top:8px}.charts-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(400px,1fr));gap:20px;margin-bottom:25px}.chart-card{background:rgba(255,255,255,0.05);border-radius:12px;padding:20px;backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,0.1)}.chart-title{font-size:1.1rem;margin-bottom:15px;color:#fff}.chart-container{width:100%;overflow-x:auto}.chart-notice{text-align:center;padding:40px;color:#888;font-style:italic}.table-card{background:rgba(255,255,255,0.05);border-radius:12px;padding:20px;backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,0.1);overflow-x:auto}.table-card table{width:100%;border-collapse:collapse}.table-card th,.table-card td{padding:12px 15px;text-align:left;border-bottom:1px solid rgba(255,255,255,0.1)}.table-card th{background:rgba(52,152,219,0.2);color:#3498db;font-weight:600}.table-card tr:hover{background:rgba(255,255,255,0.05)}.table-card tr.highlight{background:rgba(52,152,219,0.3)}.positive{color:#2ecc71}.negative{color:#e74c3c}.legend{display:flex;gap:20px;justify-content:center;margin-top:15px;flex-wrap:wrap}.legend-item{display:flex;align-items:center;gap:8px;font-size:0.85rem;color:#aaa}.legend-box{width:16px;height:16px;border-radius:4px}@media(max-width:768px){.filter-bar{flex-direction:column;align-items:stretch}.charts-grid{grid-template-columns:1fr}h1{font-size:1.5rem}}</style></head><body><div class="container"><h1>üìä RFQ Dashboard 2020‚Äì2024</h1><div class="filter-bar"><div class="filter-group"><label>Jahr</label><select id="yearFilter"><option value="">Alle Jahre</option><option value="2020">2020</option><option value="2021">2021</option><option value="2022">2022</option><option value="2023">2023</option><option value="2024">2024</option></select></div><div class="filter-group"><label>Monat</label><select id="monthFilter" disabled><option value="">Alle Monate</option><option value="1">Januar</option><option value="2">Februar</option><option value="3">M√§rz</option><option value="4">April</option><option value="5">Mai</option><option value="6">Juni</option><option value="7">Juli</option><option value="8">August</option><option value="9">September</option><option value="10">Oktober</option><option value="11">November</option><option value="12">Dezember</option></select></div><button class="btn btn-primary" onclick="applyFilter()">üîç Ausf√ºhren</button><button class="btn btn-danger" onclick="resetFilter()">‚Ü∫ Zur√ºcksetzen</button></div><div class="status-bar" id="statusBar">Gesamt 2020‚Äì2024 ‚Äì 37.348 RFQs</div><div class="kpi-grid"><div class="kpi-card blue"><div class="kpi-title">üìã Gesamt RFQs</div><div class="kpi-value blue" id="kpiTotal">37.348</div><div class="kpi-sub" id="kpiTotalSub">Zeitraum: 2020‚Äì2024</div></div><div class="kpi-card" id="kpiCompareCard"><div class="kpi-title">üìà Vergleich zum Vorjahr</div><div class="kpi-value" id="kpiCompare">+1.125</div><div class="kpi-sub" id="kpiCompareSub">+11,5% gegen√ºber Vorjahr</div></div><div class="kpi-card orange"><div class="kpi-title">üè≠ Aktive Lieferanten</div><div class="kpi-value orange">2.221</div><div class="kpi-sub">Gesamtanzahl (fix)</div></div></div><div class="charts-grid"><div class="chart-card"><div class="chart-title">üìä Balkendiagramm</div><div class="chart-container" id="barChart"></div></div><div class="chart-card"><div class="chart-title">ü•ß Tortendiagramm</div><div class="chart-container" id="pieChart"></div></div></div><div class="chart-card" style="margin-bottom:25px"><div class="chart-title">üìà Monatsvergleich (Kombi-Chart)</div><div class="chart-container" id="comboChart"></div></div><div class="table-card"><div class="chart-title">üìã Monatliche √úbersicht</div><table id="dataTable"><thead><tr><th>Monat</th><th>Aktuell</th><th>Vorjahr</th><th>Differenz</th></tr></thead><tbody id="tableBody"></tbody></table></div></div><script>const rawData={yearly:{2020:2340,2021:9820,2022:10979,2023:10945,2024:3264},monthly:{2020:{2:17,3:34,4:16,5:37,6:199,7:306,8:224,9:284,10:358,11:430,12:435},2021:{1:599,2:758,3:909,4:878,5:817,6:824,7:977,8:639,9:896,10:911,11:871,12:741},2022:{1:743,2:1115,3:1166,4:798,5:947,6:991,7:1074,8:629,9:894,10:951,11:897,12:774},2023:{1:799,2:817,3:1020,4:816,5:1027,6:1030,7:1072,8:694,9:947,10:962,11:1014,12:747},2024:{1:958,2:1068,3:1050,4:188}}};const monthNames=['','Januar','Februar','M√§rz','April','Mai','Juni','Juli','August','September','Oktober','November','Dezember'];const colors={blue:'#3498db',green:'#2ecc71',red:'#e74c3c',orange:'#f39c12',purple:'#9b59b6',teal:'#1abc9c'};const yearColors={2020:'#e74c3c',2021:'#f39c12',2022:'#2ecc71',2023:'#3498db',2024:'#9b59b6'};let currentYear='';let currentMonth='';function formatNumber(n){return n.toLocaleString('de-DE')}function getMonthData(year){const d={};for(let m=1;m<=12;m++){d[m]=rawData.monthly[year]?rawData.monthly[year][m]||0:0}return d}document.getElementById('yearFilter').addEventListener('change',function(){const mf=document.getElementById('monthFilter');if(this.value){mf.disabled=false}else{mf.disabled=true;mf.value=''}});function applyFilter(){currentYear=document.getElementById('yearFilter').value;currentMonth=document.getElementById('monthFilter').value;updateDashboard()}function resetFilter(){document.getElementById('yearFilter').value='';document.getElementById('monthFilter').value='';document.getElementById('monthFilter').disabled=true;currentYear='';currentMonth='';updateDashboard()}function updateDashboard(){updateStatus();updateKPIs();updateBarChart();updatePieChart();updateComboChart();updateTable()}function updateStatus(){const sb=document.getElementById('statusBar');let text='';let count=0;if(!currentYear){text='Gesamt 2020‚Äì2024';count=37348}else if(!currentMonth){text=`Jahr ${currentYear}`;count=rawData.yearly[currentYear]||0}else{text=`${monthNames[parseInt(currentMonth)]} ${currentYear}`;count=rawData.monthly[currentYear]?rawData.monthly[currentYear][currentMonth]||0:0}sb.textContent=`${text} ‚Äì ${formatNumber(count)} RFQs`}function updateKPIs(){const kt=document.getElementById('kpiTotal');const kts=document.getElementById('kpiTotalSub');const kc=document.getElementById('kpiCompare');const kcs=document.getElementById('kpiCompareSub');const kcc=document.getElementById('kpiCompareCard');let total=0,prevTotal=0,label='';if(!currentYear){total=37348;label='Zeitraum: 2020‚Äì2024';prevTotal=rawData.yearly[2022]||0;const curr=rawData.yearly[2023]||0;const diff=curr-prevTotal;const pct=prevTotal>0?((diff/prevTotal)*100).toFixed(1):0;kc.textContent=(diff>=0?'+':'')+formatNumber(diff);kcs.textContent=(diff>=0?'+':'')+pct+'% (2023 vs 2022)';kcc.classList.remove('green','red');kcc.classList.add(diff>=0?'green':'red');kc.classList.remove('green','red');kc.classList.add(diff>=0?'green':'red')}else if(!currentMonth){total=rawData.yearly[currentYear]||0;label=`Jahr ${currentYear}`;const py=parseInt(currentYear)-1;prevTotal=rawData.yearly[py]||0;const diff=total-prevTotal;const pct=prevTotal>0?((diff/prevTotal)*100).toFixed(1):0;if(py>=2020){kc.textContent=(diff>=0?'+':'')+formatNumber(diff);kcs.textContent=(diff>=0?'+':'')+pct+`% (${currentYear} vs ${py})`;kcc.classList.remove('green','red');kcc.classList.add(diff>=0?'green':'red');kc.classList.remove('green','red');kc.classList.add(diff>=0?'green':'red')}else{kc.textContent='‚Äì';kcs.textContent='Kein Vorjahr verf√ºgbar';kcc.classList.remove('green','red');kc.classList.remove('green','red')}}else{total=rawData.monthly[currentYear]?rawData.monthly[currentYear][currentMonth]||0:0;label=`${monthNames[parseInt(currentMonth)]} ${currentYear}`;const py=parseInt(currentYear)-1;prevTotal=rawData.monthly[py]?rawData.monthly[py][currentMonth]||0:0;const diff=total-prevTotal;const pct=prevTotal>0?((diff/prevTotal)*100).toFixed(1):0;if(py>=2020){kc.textContent=(diff>=0?'+':'')+formatNumber(diff);kcs.textContent=(diff>=0?'+':'')+pct+`% (${monthNames[parseInt(currentMonth)]} ${currentYear} vs ${py})`;kcc.classList.remove('green','red');kcc.classList.add(diff>=0?'green':'red');kc.classList.remove('green','red');kc.classList.add(diff>=0?'green','red')}else{kc.textContent='‚Äì';kcs.textContent='Kein Vorjahr verf√ºgbar';kcc.classList.remove('green','red');kc.classList.remove('green','red')}}kt.textContent=formatNumber(total);kts.textContent=label}function updateBarChart(){const container=document.getElementById('barChart');let html='';if(!currentYear){const years=[2020,2021,2022,2023,2024];const maxVal=Math.max(...years.map(y=>rawData.yearly[y]));const w=100;const h=250;const bw=50;const gap=30;const tw=(bw+gap)*years.length-gap;html=`<svg width="100%" viewBox="0 0 ${tw+60} ${h+60}">`;years.forEach((y,i)=>{const v=rawData.yearly[y];const bh=(v/maxVal)*(h-40);const x=30+i*(bw+gap);const by=h-bh;html+=`<rect x="${x}" y="${by}" width="${bw}" height="${bh}" fill="${yearColors[y]}" rx="4"/><text x="${x+bw/2}" y="${by-8}" text-anchor="middle" fill="#fff" font-size="12">${formatNumber(v)}</text><text x="${x+bw/2}" y="${h+20}" text-anchor="middle" fill="#aaa" font-size="12">${y}</text>`});html+=`</svg>`}else if(!currentMonth){const cy=parseInt(currentYear);const py=cy-1;const cv=rawData.yearly[cy]||0;const pv=py>=2020?rawData.yearly[py]||0:0;const maxVal=Math.max(cv,pv,1);const h=250;const bw=80;html=`<svg width="100%" viewBox="0 0 280 ${h+60}"><rect x="40" y="${h-(cv/maxVal)*(h-40)}" width="${bw}" height="${(cv/maxVal)*(h-40)}" fill="${colors.blue}" rx="4"/><text x="${40+bw/2}" y="${h-(cv/maxVal)*(h-40)-8}" text-anchor="middle" fill="#fff" font-size="14">${formatNumber(cv)}</text><text x="${40+bw/2}" y="${h+20}" text-anchor="middle" fill="#aaa" font-size="12">${cy}</text>`;if(py>=2020){html+=`<rect x="160" y="${h-(pv/maxVal)*(h-40)}" width="${bw}" height="${(pv/maxVal)*(h-40)}" fill="${colors.orange}" rx="4"/><text x="${160+bw/2}" y="${h-(pv/maxVal)*(h-40)-8}" text-anchor="middle" fill="#fff" font-size="14">${formatNumber(pv)}</text><text x="${160+bw/2}" y="${h+20}" text-anchor="middle" fill="#aaa" font-size="12">${py}</text>`}html+=`</svg><div class="legend"><div class="legend-item"><div class="legend-box" style="background:${colors.blue}"></div>${cy}</div>`;if(py>=2020)html+=`<div class="legend-item"><div class="legend-box" style="background:${colors.orange}"></div>${py}</div>`;html+=`</div>`}else{const cy=parseInt(currentYear);const py=cy-1;const m=parseInt(currentMonth);const cv=rawData.monthly[cy]?rawData.monthly[cy][m]||0:0;const pv=py>=2020&&rawData.monthly[py]?rawData.monthly[py][m]||0:0;const maxVal=Math.max(cv,pv,1);const h=250;const bw=80;html=`<svg width="100%" viewBox="0 0 280 ${h+60}"><rect x="40" y="${h-(cv/maxVal)*(h-40)}" width="${bw}" height="${(cv/maxVal)*(h-40)}" fill="${colors.blue}" rx="4"/><text x="${40+bw/2}" y="${h-(cv/maxVal)*(h-40)-8}" text-anchor="middle" fill="#fff" font-size="14">${formatNumber(cv)}</text><text x="${40+bw/2}" y="${h+20}" text-anchor="middle" fill="#aaa" font-size="11">${monthNames[m].slice(0,3)} ${cy}</text>`;if(py>=2020){html+=`<rect x="160" y="${h-(pv/maxVal)*(h-40)}" width="${bw}" height="${(pv/maxVal)*(h-40)}" fill="${colors.orange}" rx="4"/><text x="${160+bw/2}" y="${h-(pv/maxVal)*(h-40)-8}" text-anchor="middle" fill="#fff" font-size="14">${formatNumber(pv)}</text><text x="${160+bw/2}" y="${h+20}" text-anchor="middle" fill="#aaa" font-size="11">${monthNames[m].slice(0,3)} ${py}</text>`}html+=`</svg><div class="legend"><div class="legend-item"><div class="legend-box" style="background:${colors.blue}"></div>${monthNames[m]} ${cy}</div>`;if(py>=2020)html+=`<div class="legend-item"><div class="legend-box" style="background:${colors.orange}"></div>${monthNames[m]} ${py}</div>`;html+=`</div>`}container.innerHTML=html}function updatePieChart(){const container=document.getElementById('pieChart');let html='';const cx=150,cy=120,r=90;function pieSlice(startAngle,endAngle,color){const start={x:cx+r*Math.cos(startAngle),y:cy+r*Math.sin(startAngle)};const end={x:cx+r*Math.cos(endAngle),y:cy+r*Math.sin(endAngle)};const large=endAngle-startAngle>Math.PI?1:0;return`<path d="M${cx},${cy} L${start.x},${start.y} A${r},${r} 0 ${large} 1 ${end.x},${end.y} Z" fill="${color}"/>`}if(!currentYear){const years=[2020,2021,2022,2023,2024];const total=years.reduce((s,y)=>s+rawData.yearly[y],0);let angle=-Math.PI/2;html=`<svg width="100%" viewBox="0 0 300 280">`;years.forEach(y=>{const v=rawData.yearly[y];const slice=(v/total)*2*Math.PI;html+=pieSlice(angle,angle+slice,yearColors[y]);angle+=slice});html+=`</svg><div class="legend">`;years.forEach(y=>{const v=rawData.yearly[y];const pct=((v/total)*100).toFixed(1);html+=`<div class="legend-item"><div class="legend-box" style="background:${yearColors[y]}"></div>${y}: ${pct}%</div>`});html+=`</div>`}else{const cy1=parseInt(currentYear);const py=cy1-1;let cv,pv,l1,l2;if(!currentMonth){cv=rawData.yearly[cy1]||0;pv=py>=2020?rawData.yearly[py]||0:0;l1=String(cy1);l2=String(py)}else{const m=parseInt(currentMonth);cv=rawData.monthly[cy1]?rawData.monthly[cy1][m]||0:0;pv=py>=2020&&rawData.monthly[py]?rawData.monthly[py][m]||0:0;l1=`${monthNames[m].slice(0,3)} ${cy1}`;l2=`${monthNames[m].slice(0,3)} ${py}`}const total=cv+pv;if(total>0){let angle=-Math.PI/2;const s1=(cv/total)*2*Math.PI;html=`<svg width="100%" viewBox="0 0 300 280">`;html+=pieSlice(angle,angle+s1,colors.blue);if(py>=2020&&pv>0)html+=pieSlice(angle+s1,angle+s1+(pv/total)*2*Math.PI,colors.orange);html+=`</svg><div class="legend"><div class="legend-item"><div class="legend-box" style="background:${colors.blue}"></div>${l1}: ${((cv/total)*100).toFixed(1)}%</div>`;if(py>=2020)html+=`<div class="legend-item"><div class="legend-box" style="background:${colors.orange}"></div>${l2}: ${((pv/total)*100).toFixed(1)}%</div>`;html+=`</div>`}else{html='<div class="chart-notice">Keine Daten verf√ºgbar</div>'}}container.innerHTML=html}function updateComboChart(){const container=document.getElementById('comboChart');if(!currentYear){container.innerHTML='<div class="chart-notice">Bitte w√§hlen Sie ein Jahr aus, um den Monatsvergleich anzuzeigen.</div>';return}const cy=parseInt(currentYear);const py=cy-1;const cd=getMonthData(cy);const pd=py>=2020?getMonthData(py):{};const vals=[...Object.values(cd),...Object.values(pd)].filter(v=>v>0);const maxVal=Math.max(...vals,1);const w=700,h=280,ml=50,mr=20,mt=30,mb=50;const pw=w-ml-mr;const ph=h-mt-mb;const bw=pw/12-10;let html=`<svg width="100%" viewBox="0 0 ${w} ${h}">`;for(let i=0;i<=4;i++){const y=mt+ph-(i/4)*ph;const val=Math.round((i/4)*maxVal);html+=`<line x1="${ml}" y1="${y}" x2="${w-mr}" y2="${y}" stroke="rgba(255,255,255,0.1)"/><text x="${ml-10}" y="${y+4}" text-anchor="end" fill="#888" font-size="10">${formatNumber(val)}</text>`}for(let m=1;m<=12;m++){const x=ml+(m-1)*(pw/12)+bw/2;const v=cd[m]||0;const bh=(v/maxVal)*ph;html+=`<rect x="${x-bw/2}" y="${mt+ph-bh}" width="${bw}" height="${bh}" fill="${colors.blue}" rx="3" opacity="0.9"/><text x="${x}" y="${h-mb+20}" text-anchor="middle" fill="#aaa" font-size="10">${monthNames[m].slice(0,3)}</text>`}if(py>=2020){let path=`M`;for(let m=1;m<=12;m++){const x=ml+(m-1)*(pw/12)+bw/2;const v=pd[m]||0;const y=mt+ph-(v/maxVal)*ph;path+=m===1?`${x},${y}`:`L${x},${y}`}html+=`<path d="${path}" fill="none" stroke="${colors.orange}" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>`;for(let m=1;m<=12;m++){const x=ml+(m-1)*(pw/12)+bw/2;const v=pd[m]||0;const y=mt+ph-(v/maxVal)*ph;html+=`<circle cx="${x}" cy="${y}" r="5" fill="${colors.orange}"/>`}}html+=`</svg><div class="legend"><div class="legend-item"><div class="legend-box" style="background:${colors.blue}"></div>${cy} (Balken)</div>`;if(py>=2020)html+=`<div class="legend-item"><div class="legend-box" style="background:${colors.orange}"></div>${py} (Linie)</div>`;html+=`</div>`;container.innerHTML=html}function updateTable(){const tbody=document.getElementById('tableBody');const cy=currentYear?parseInt(currentYear):2023;const py=cy-1;const cd=getMonthData(cy);const pd=py>=2020?getMonthData(py):{};let html='';for(let m=1;m<=12;m++){const cv=cd[m]||0;const pv=pd[m]||0;const diff=cv-pv;const cls=currentMonth&&parseInt(currentMonth)===m?'highlight':'';const diffCls=diff>=0?'positive':'negative';html+=`<tr class="${cls}"><td>${monthNames[m]}</td><td>${formatNumber(cv)}</td><td>${py>=2020?formatNumber(pv):'‚Äì'}</td><td class="${diffCls}">${py>=2020?(diff>=0?'+':'')+formatNumber(diff):'‚Äì'}</td></tr>`}tbody.innerHTML=html}updateDashboard();</script></body></html>