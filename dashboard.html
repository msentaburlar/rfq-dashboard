Jetzt habe ich alle Daten. Ich erstelle das Dashboard:

{"intent":"DASHBOARD","title":"RFQ-Dashboard 2020-2024","description":"Interaktives Dashboard f√ºr RFQ-Daten mit Jahres- und Monatsfiltern, KPI-Cards, Balkendiagramm, Tortendiagramm, Kombi-Chart und Vergleichstabelle.","html":"<!DOCTYPE html>\n<html lang=\"de\">\n<head>\n<meta charset=\"UTF-8\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n<title>RFQ-Dashboard 2020-2024</title>\n<style>\n*{box-sizing:border-box;margin:0;padding:0}\nbody{font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;background:#f5f7fa;color:#333;padding:20px}\n.dashboard{max-width:1400px;margin:0 auto}\nh1{text-align:center;color:#2c3e50;margin-bottom:25px;font-size:28px}\n.filter-section{background:#fff;border-radius:12px;padding:20px;margin-bottom:25px;box-shadow:0 2px 10px rgba(0,0,0,0.08);display:flex;align-items:center;gap:20px;flex-wrap:wrap}\n.filter-group{display:flex;align-items:center;gap:10px}\n.filter-group label{font-weight:600;color:#555}\n.filter-group select{padding:10px 15px;border:2px solid #ddd;border-radius:8px;font-size:14px;min-width:150px;cursor:pointer;transition:border-color 0.3s}\n.filter-group select:focus{outline:none;border-color:#3498db}\n.filter-group select:disabled{background:#f0f0f0;cursor:not-allowed;color:#999}\n.btn{padding:10px 20px;border:none;border-radius:8px;font-size:14px;font-weight:700;cursor:pointer;transition:all 0.3s}\n.btn-primary{background:#3498db;color:#fff}\n.btn-primary:hover{background:#2980b9}\n.btn-reset{background:#e74c3c;color:#fff}\n.btn-reset:hover{background:#c0392b}\n.status-box{background:#ecf0f1;padding:12px 20px;border-radius:8px;font-size:14px;margin-left:auto}\n.kpi-container{display:grid;grid-template-columns:repeat(3,1fr);gap:20px;margin-bottom:25px}\n.kpi-card{background:#fff;border-radius:12px;padding:25px;box-shadow:0 2px 10px rgba(0,0,0,0.08);text-align:center}\n.kpi-card h3{font-size:14px;color:#7f8c8d;margin-bottom:10px;text-transform:uppercase;letter-spacing:1px}\n.kpi-card .value{font-size:42px;font-weight:700}\n.kpi-card.blue .value{color:#3498db}\n.kpi-card.orange .value{color:#f39c12}\n.kpi-comparison{display:flex;flex-direction:column;gap:15px}\n.comparison-top{display:flex;justify-content:center;align-items:center;gap:20px}\n.comparison-item{text-align:center}\n.comparison-item .label{font-size:12px;color:#7f8c8d;margin-bottom:5px}\n.comparison-item .val{font-size:28px;font-weight:700}\n.comparison-item.current .val{color:#2ecc71}\n.comparison-item.prev .val{color:#e74c3c}\n.comparison-vs{font-size:18px;color:#95a5a6;font-weight:600}\n.comparison-bottom{display:flex;justify-content:center;gap:30px}\n.diff-item{text-align:center;padding:10px 20px;background:#f8f9fa;border-radius:8px}\n.diff-item .diff-label{font-size:11px;color:#7f8c8d;margin-bottom:3px}\n.diff-item .diff-val{font-size:18px;font-weight:700}\n.diff-positive{color:#2ecc71}\n.diff-negative{color:#e74c3c}\n.charts-row{display:grid;grid-template-columns:repeat(2,1fr);gap:20px;margin-bottom:25px}\n.chart-card{background:#fff;border-radius:12px;padding:25px;box-shadow:0 2px 10px rgba(0,0,0,0.08)}\n.chart-card h3{font-size:16px;color:#2c3e50;margin-bottom:20px;text-align:center}\n.chart-area{width:100%;height:300px;position:relative}\n.combo-section{margin-bottom:25px}\n.table-section{background:#fff;border-radius:12px;padding:25px;box-shadow:0 2px 10px rgba(0,0,0,0.08)}\n.table-section h3{font-size:16px;color:#2c3e50;margin-bottom:20px;text-align:center}\ntable{width:100%;border-collapse:collapse}\nth,td{padding:12px 15px;text-align:center;border-bottom:1px solid #ecf0f1}\nth{background:#f8f9fa;font-weight:600;color:#2c3e50}\ntr:hover{background:#f8f9fa}\n.highlight-row{background:#fff3cd !important}\n.placeholder{display:flex;align-items:center;justify-content:center;height:100%;color:#95a5a6;font-size:18px;text-align:center}\n@media(max-width:900px){.kpi-container,.charts-row{grid-template-columns:1fr}.filter-section{flex-direction:column;align-items:stretch}.status-box{margin-left:0;text-align:center}}\n</style>\n</head>\n<body>\n<div class=\"dashboard\">\n<h1>üìä RFQ-Dashboard 2020-2024</h1>\n<div class=\"filter-section\">\n<div class=\"filter-group\">\n<label for=\"yearFilter\">Jahr:</label>\n<select id=\"yearFilter\"><option value=\"\">Alle Jahre</option><option value=\"2020\">2020</option><option value=\"2021\">2021</option><option value=\"2022\">2022</option><option value=\"2023\">2023</option><option value=\"2024\">2024</option></select>\n</div>\n<div class=\"filter-group\">\n<label for=\"monthFilter\">Monat:</label>\n<select id=\"monthFilter\" disabled><option value=\"\">Alle Monate</option><option value=\"1\">Januar</option><option value=\"2\">Februar</option><option value=\"3\">M√§rz</option><option value=\"4\">April</option><option value=\"5\">Mai</option><option value=\"6\">Juni</option><option value=\"7\">Juli</option><option value=\"8\">August</option><option value=\"9\">September</option><option value=\"10\">Oktober</option><option value=\"11\">November</option><option value=\"12\">Dezember</option></select>\n</div>\n<button class=\"btn btn-primary\" id=\"applyBtn\">üîç Ausf√ºhren</button>\n<button class=\"btn btn-reset\" id=\"resetBtn\">‚Üª Zur√ºcksetzen</button>\n<div class=\"status-box\" id=\"statusBox\">üìä Zeige: Alle Daten (37.348 RFQs)</div>\n</div>\n<div class=\"kpi-container\">\n<div class=\"kpi-card blue\">\n<h3>RFQs Gesamt</h3>\n<div class=\"value\" id=\"kpiTotal\">37.348</div>\n</div>\n<div class=\"kpi-card\">\n<h3>Vergleich</h3>\n<div class=\"kpi-comparison\">\n<div class=\"comparison-top\">\n<div class=\"comparison-item current\"><div class=\"label\" id=\"currentLabel\">2024</div><div class=\"val\" id=\"currentVal\">3.264</div></div>\n<div class=\"comparison-vs\">vs.</div>\n<div class=\"comparison-item prev\"><div class=\"label\" id=\"prevLabel\">2023</div><div class=\"val\" id=\"prevVal\">10.945</div></div>\n</div>\n<div class=\"comparison-bottom\">\n<div class=\"diff-item\"><div class=\"diff-label\">Differenz</div><div class=\"diff-val\" id=\"diffAbs\">-7.681 RFQs</div></div>\n<div class=\"diff-item\"><div class=\"diff-label\">√Ñnderung</div><div class=\"diff-val\" id=\"diffPct\">-70,2%</div></div>\n</div>\n</div>\n</div>\n<div class=\"kpi-card orange\">\n<h3>Lieferanten</h3>\n<div class=\"value\">2.221</div>\n</div>\n</div>\n<div class=\"charts-row\">\n<div class=\"chart-card\">\n<h3 id=\"barTitle\">RFQs pro Jahr</h3>\n<div class=\"chart-area\" id=\"barChart\"></div>\n</div>\n<div class=\"chart-card\">\n<h3 id=\"pieTitle\">Anteil pro Jahr</h3>\n<div class=\"chart-area\" id=\"pieChart\"></div>\n</div>\n</div>\n<div class=\"combo-section chart-card\">\n<h3 id=\"comboTitle\">Monatlicher Vergleich</h3>\n<div class=\"chart-area\" id=\"comboChart\"><div class=\"placeholder\">üìÖ W√§hlen Sie ein Jahr und klicken Sie 'Ausf√ºhren'</div></div>\n</div>\n<div class=\"table-section\">\n<h3>Monatliche Vergleichstabelle</h3>\n<table id=\"dataTable\">\n<thead><tr><th>Monat</th><th id=\"thCurrent\">2024 üü¢</th><th id=\"thPrev\">2023 üî¥</th><th>Differenz</th></tr></thead>\n<tbody id=\"tableBody\"></tbody>\n</table>\n</div>\n</div>\n<script>\nconst yearlyData={2020:2340,2021:9820,2022:10979,2023:10945,2024:3264};\nconst monthlyData={\n2020:[0,0,17,34,16,37,199,306,224,284,358,430,435],\n2021:[0,599,758,909,878,817,824,977,639,896,911,871,741],\n2022:[0,743,1115,1166,798,947,991,1074,629,894,951,897,774],\n2023:[0,799,817,1020,816,1027,1030,1072,694,947,962,1014,747],\n2024:[0,958,1068,1050,188,0,0,0,0,0,0,0,0]\n};\nconst monthNames=['','Januar','Februar','M√§rz','April','Mai','Juni','Juli','August','September','Oktober','November','Dezember'];\nlet currentYear=null,currentMonth=null;\nconst fmt=n=>n.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g,'.');\nconst yearSel=document.getElementById('yearFilter');\nconst monthSel=document.getElementById('monthFilter');\nconst applyBtn=document.getElementById('applyBtn');\nconst resetBtn=document.getElementById('resetBtn');\nyearSel.addEventListener('change',()=>{monthSel.disabled=!yearSel.value;if(!yearSel.value)monthSel.value='';});\napplyBtn.addEventListener('click',applyFilter);\nresetBtn.addEventListener('click',()=>{yearSel.value='';monthSel.value='';monthSel.disabled=true;currentYear=null;currentMonth=null;updateDashboard();});\nfunction applyFilter(){currentYear=yearSel.value?parseInt(yearSel.value):null;currentMonth=monthSel.value?parseInt(monthSel.value):null;updateDashboard();}\nfunction updateDashboard(){\nlet total,currY,prevY,currVal,prevVal,currLabel,prevLabel;\nif(!currentYear){total=Object.values(yearlyData).reduce((a,b)=>a+b,0);currY=2024;prevY=2023;currVal=yearlyData[2024];prevVal=yearlyData[2023];currLabel='2024';prevLabel='2023';document.getElementById('statusBox').textContent='üìä Zeige: Alle Daten ('+fmt(total)+' RFQs)';}\nelse if(!currentMonth){total=yearlyData[currentYear];currY=currentYear;prevY=currentYear-1;currVal=yearlyData[currentYear]||0;prevVal=yearlyData[prevY]||0;currLabel=currentYear.toString();prevLabel=prevY.toString();document.getElementById('statusBox').textContent='‚úÖ Zeige: Jahr '+currentYear+' ('+fmt(total)+' RFQs)';}\nelse{const mData=monthlyData[currentYear]||[];const pData=monthlyData[currentYear-1]||[];total=mData[currentMonth]||0;currY=currentYear;prevY=currentYear-1;currVal=total;prevVal=pData[currentMonth]||0;currLabel=monthNames[currentMonth]+' '+currentYear;prevLabel=monthNames[currentMonth]+' '+prevY;document.getElementById('statusBox').textContent='‚úÖ Zeige: '+monthNames[currentMonth]+' '+currentYear+' ('+fmt(total)+' RFQs)';}\ndocument.getElementById('kpiTotal').textContent=fmt(total);\ndocument.getElementById('currentLabel').textContent=currLabel;\ndocument.getElementById('currentVal').textContent=fmt(currVal);\ndocument.getElementById('prevLabel').textContent=prevLabel;\ndocument.getElementById('prevVal').textContent=fmt(prevVal);\nconst diff=currVal-prevVal;\nconst pct=prevVal?((diff/prevVal)*100):0;\nconst diffEl=document.getElementById('diffAbs');\nconst pctEl=document.getElementById('diffPct');\ndiffEl.textContent=(diff>=0?'+':'')+fmt(diff)+' RFQs';\ndiffEl.className='diff-val '+(diff>=0?'diff-positive':'diff-negative');\npctEl.textContent=(diff>=0?'+':'')+pct.toFixed(1).replace('.',',')+'%';\npctEl.className='diff-val '+(diff>=0?'diff-positive':'diff-negative');\ndrawBarChart();drawPieChart();drawComboChart();updateTable();}\nfunction drawBarChart(){\nconst container=document.getElementById('barChart');\nlet data=[],title='',colors=[];\nif(!currentYear){data=[{l:'2020',v:yearlyData[2020]},{l:'2021',v:yearlyData[2021]},{l:'2022',v:yearlyData[2022]},{l:'2023',v:yearlyData[2023]},{l:'2024',v:yearlyData[2024]}];title='RFQs pro Jahr';colors=['#9b59b6','#3498db','#e74c3c','#2ecc71','#f39c12'];}\nelse if(!currentMonth){const pY=currentYear-1;data=[{l:pY.toString(),v:yearlyData[pY]||0},{l:currentYear.toString(),v:yearlyData[currentYear]||0}];title=currentYear+' vs. '+pY;colors=['#e74c3c','#2ecc71'];}\nelse{const pY=currentYear-1;const mPrev=monthlyData[pY]?monthlyData[pY][currentMonth]:0;const mCurr=monthlyData[currentYear]?monthlyData[currentYear][currentMonth]:0;data=[{l:monthNames[currentMonth]+' '+pY,v:mPrev},{l:monthNames[currentMonth]+' '+currentYear,v:mCurr}];title=monthNames[currentMonth]+' '+currentYear+' vs. '+monthNames[currentMonth]+' '+pY;colors=['#e74c3c','#2ecc71'];}\ndocument.getElementById('barTitle').textContent=title;\nconst max=Math.max(...data.map(d=>d.v))*1.2||1;\nconst w=container.clientWidth,h=300;\nconst barW=(w-80)/data.length*0.6;\nconst gap=(w-80)/data.length*0.4;\nlet svg='<svg width=\"'+w+'\" height=\"'+h+'\">';\nfor(let i=0;i<4;i++){const y=h-40-(i*(h-60)/3);svg+='<line x1=\"50\" y1=\"'+y+'\" x2=\"'+(w-20)+'\" y2=\"'+y+'\" stroke=\"#ecf0f1\" stroke-width=\"1\"/>';svg+='<text x=\"45\" y=\"'+(y+4)+'\" text-anchor=\"end\" fill=\"#95a5a6\" font-size=\"11\">'+(Math.round(max/3*i/1000))+'K</text>';}\ndata.forEach((d,i)=>{const x=60+i*(barW+gap)+gap/2;const barH=(d.v/max)*(h-70);const y=h-40-barH;svg+='<rect x=\"'+x+'\" y=\"'+y+'\" width=\"'+barW+'\" height=\"'+barH+'\" fill=\"'+colors[i]+'\" rx=\"4\"/>';svg+='<text x=\"'+(x+barW/2)+'\" y=\"'+(y-8)+'\" text-anchor=\"middle\" fill=\"#2c3e50\" font-size=\"12\" font-weight=\"600\">'+fmt(d.v)+'</text>';svg+='<text x=\"'+(x+barW/2)+'\" y=\"'+(h-15)+'\" text-anchor=\"middle\" fill=\"#7f8c8d\" font-size=\"11\">'+d.l+'</text>';});\nsvg+='</svg>';\ncontainer.innerHTML=svg;}\nfunction drawPieChart(){\nconst container=document.getElementById('pieChart');\nlet data=[],title='';\nif(!currentYear){data=[{l:'2020',v:yearlyData[2020],c:'#9b59b6'},{l:'2021',v:yearlyData[2021],c:'#3498db'},{l:'2022',v:yearlyData[2022],c:'#e74c3c'},{l:'2023',v:yearlyData[2023],c:'#2ecc71'},{l:'2024',v:yearlyData[2024],c:'#f39c12'}];title='Anteil pro Jahr';}\nelse if(!currentMonth){const pY=currentYear-1;data=[{l:pY.toString(),v:yearlyData[pY]||0,c:'#e74c3c'},{l:currentYear.toString(),v:yearlyData[currentYear]||0,c:'#2ecc71'}];title='Anteil '+currentYear+' vs. '+pY;}\nelse{const pY=currentYear-1;const mPrev=monthlyData[pY]?monthlyData[pY][currentMonth]:0;const mCurr=monthlyData[currentYear]?monthlyData[currentYear][currentMonth]:0;data=[{l:monthNames[currentMonth]+' '+pY,v:mPrev,c:'#e74c3c'},{l:monthNames[currentMonth]+' '+currentYear,v:mCurr,c:'#2ecc71'}];title='Anteil '+monthNames[currentMonth];}\ndocument.getElementById('pieTitle').textContent=title;\nconst total=data.reduce((a,b)=>a+b.v,0)||1;\nconst w=container.clientWidth,h=300;\nconst cx=w/2-60,cy=h/2,r=Math.min(w,h)/2-50;\nlet svg='<svg width=\"'+w+'\" height=\"'+h+'\">';\nlet startAngle=-90;\ndata.forEach((d,i)=>{const pct=d.v/total;const angle=pct*360;const endAngle=startAngle+angle;const x1=cx+r*Math.cos(startAngle*Math.PI/180);const y1=cy+r*Math.sin(startAngle*Math.PI/180);const x2=cx+r*Math.cos(endAngle*Math.PI/180);const y2=cy+r*Math.sin(endAngle*Math.PI/180);const largeArc=angle>180?1:0;if(pct>0){svg+='<path d=\"M '+cx+' '+cy+' L '+x1+' '+y1+' A '+r+' '+r+' 0 '+largeArc+' 1 '+x2+' '+y2+' Z\" fill=\"'+d.c+'\"/>';}startAngle=endAngle;});\nlet ly=30;\ndata.forEach((d,i)=>{const pct=(d.v/total*100).toFixed(1).replace('.',',');svg+='<rect x=\"'+(w-130)+'\" y=\"'+ly+'\" width=\"15\" height=\"15\" fill=\"'+d.c+'\" rx=\"3\"/>';svg+='<text x=\"'+(w-110)+'\" y=\"'+(ly+12)+'\" fill=\"#2c3e50\" font-size=\"11\">'+d.l+': '+pct+'%</text>';ly+=25;});\nsvg+='</svg>';\ncontainer.innerHTML=svg;}\nfunction drawComboChart(){\nconst container=document.getElementById('comboChart');\nif(!currentYear){container.innerHTML='<div class=\"placeholder\">üìÖ W√§hlen Sie ein Jahr und klicken Sie \\'Ausf√ºhren\\'</div>';document.getElementById('comboTitle').textContent='Monatlicher Vergleich';return;}\nconst pY=currentYear-1;\nconst currData=monthlyData[currentYear]||new Array(13).fill(0);\nconst prevData=monthlyData[pY]||new Array(13).fill(0);\ndocument.getElementById('comboTitle').textContent='Monatlicher Vergleich '+currentYear+' vs. '+pY;\nconst max=Math.max(...currData.slice(1),...prevData.slice(1))*1.2||1;\nconst w=container.clientWidth,h=300;\nconst barW=(w-100)/12*0.5;\nconst gap=(w-100)/12;\nlet svg='<svg width=\"'+w+'\" height=\"'+h+'\">';\nfor(let i=0;i<4;i++){const y=h-40-(i*(h-70)/3);svg+='<line x1=\"50\" y1=\"'+y+'\" x2=\"'+(w-20)+'\" y2=\"'+y+'\" stroke=\"#ecf0f1\" stroke-width=\"1\"/>';svg+='<text x=\"45\" y=\"'+(y+4)+'\" text-anchor=\"end\" fill=\"#95a5a6\" font-size=\"10\">'+(Math.round(max/3*i))+'</text>';}\nlet linePath='M ';\nfor(let m=1;m<=12;m++){const x=50+(m-0.5)*gap;const barH=(currData[m]/max)*(h-80);const y=h-40-barH;const bw=currentMonth===m?barW*1.3:barW;const bx=x-bw/2;const fill=currentMonth===m?'#27ae60':'#2ecc71';svg+='<rect x=\"'+bx+'\" y=\"'+y+'\" width=\"'+bw+'\" height=\"'+barH+'\" fill=\"'+fill+'\" rx=\"3\"/>';if(currData[m]>0)svg+='<text x=\"'+x+'\" y=\"'+(y-5)+'\" text-anchor=\"middle\" fill=\"#2c3e50\" font-size=\"9\">'+currData[m]+'</text>';const lineY=h-40-(prevData[m]/max)*(h-80);linePath+=(m===1?'':' L ')+x+' '+lineY;}\nsvg+='<path d=\"'+linePath+'\" fill=\"none\" stroke=\"#e74c3c\" stroke-width=\"2.5\"/>';\nfor(let m=1;m<=12;m++){const x=50+(m-0.5)*gap;const lineY=h-40-(prevData[m]/max)*(h-80);svg+='<circle cx=\"'+x+'\" cy=\"'+lineY+'\" r=\"4\" fill=\"#e74c3c\"/>';if(prevData[m]>0)svg+='<text x=\"'+x+'\" y=\"'+(lineY-8)+'\" text-anchor=\"middle\" fill=\"#c0392b\" font-size=\"8\">'+prevData[m]+'</text>';svg+='<text x=\"'+x+'\" y=\"'+(h-15)+'\" text-anchor=\"middle\" fill=\"#7f8c8d\" font-size=\"9\">'+monthNames[m].substr(0,3)+'</text>';}\nsvg+='<rect x=\"'+(w-120)+'\" y=\"10\" width=\"12\" height=\"12\" fill=\"#2ecc71\" rx=\"2\"/><text x=\"'+(w-105)+'\" y=\"20\" fill=\"#2c3e50\" font-size=\"10\">'+currentYear+'</text>';\nsvg+='<line x1=\"'+(w-120)+'\" y1=\"35\" x2=\"'+(w-108)+'\" y2=\"35\" stroke=\"#e74c3c\" stroke-width=\"2.5\"/><circle cx=\"'+(w-114)+'\" cy=\"35\" r=\"3\" fill=\"#e74c3c\"/><text x=\"'+(w-105)+'\" y=\"38\" fill=\"#2c3e50\" font-size=\"10\">'+pY+'</text>';\nsvg+='</svg>';\ncontainer.innerHTML=svg;}\nfunction updateTable(){\nconst tbody=document.getElementById('tableBody');\nlet currY=currentYear||2024;\nlet prevY=currY-1;\nconst currData=monthlyData[currY]||new Array(13).fill(0);\nconst prevData=monthlyData[prevY]||new Array(13).fill(0);\ndocument.getElementById('thCurrent').textContent=currY+' üü¢';\ndocument.getElementById('thPrev').textContent=prevY+' üî¥';\nlet html='';\nfor(let m=1;m<=12;m++){const curr=currData[m]||0;const prev=prevData[m]||0;const diff=curr-prev;const diffClass=diff>=0?'diff-positive':'diff-negative';const rowClass=currentMonth===m?'highlight-row':'';html+='<tr class=\"'+rowClass+'\"><td>'+monthNames[m]+'</td><td>'+fmt(curr)+'</td><td>'+fmt(prev)+'</td><td class=\"'+diffClass+'\">'+(diff>=0?'+':'')+fmt(diff)+'</td></tr>';}\ntbody.innerHTML=html;}\nupdateDashboard();\nwindow.addEventListener('resize',()=>{drawBarChart();drawPieChart();drawComboChart();});\n</script>\n</body>\n</html>"}