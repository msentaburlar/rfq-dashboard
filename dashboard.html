<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RFQ-Dashboard 2020-2024</title>
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',Tahoma,sans-serif}
body{background:#f5f7fa;min-height:100vh;padding:20px}
.dashboard{max-width:1400px;margin:0 auto}
h1{color:#2c3e50;margin-bottom:20px;font-size:24px;text-align:center}
.filter-bar{background:#fff;padding:20px;border-radius:12px;box-shadow:0 2px 10px rgba(0,0,0,0.1);margin-bottom:20px;display:flex;align-items:center;gap:15px;flex-wrap:wrap}
.filter-group{display:flex;align-items:center;gap:8px}
.filter-group label{font-weight:600;color:#34495e;font-size:14px}
.filter-group select{padding:10px 15px;border:2px solid #e0e0e0;border-radius:8px;font-size:14px;min-width:150px;cursor:pointer;transition:border-color 0.3s}
.filter-group select:focus{outline:none;border-color:#3498db}
.filter-group select:disabled{background:#f0f0f0;cursor:not-allowed;color:#999}
.btn{padding:10px 20px;border:none;border-radius:8px;font-weight:600;cursor:pointer;font-size:14px;transition:all 0.3s}
.btn-execute{background:#3498db;color:#fff}
.btn-execute:hover{background:#2980b9}
.btn-reset{background:#e74c3c;color:#fff}
.btn-reset:hover{background:#c0392b}
.status-box{background:#e8f4fd;border:1px solid #3498db;border-radius:8px;padding:10px 15px;font-size:13px;color:#2c3e50;margin-left:auto}
.kpi-row{display:grid;grid-template-columns:repeat(3,1fr);gap:20px;margin-bottom:20px}
.kpi-card{background:#fff;border-radius:12px;padding:25px;box-shadow:0 2px 10px rgba(0,0,0,0.1);position:relative;overflow:hidden}
.kpi-card::before{content:'';position:absolute;top:0;left:0;right:0;height:4px}
.kpi-card.blue::before{background:#3498db}
.kpi-card.green::before{background:#2ecc71}
.kpi-card.orange::before{background:#f39c12}
.kpi-title{font-size:14px;color:#7f8c8d;margin-bottom:10px;font-weight:500}
.kpi-value{font-size:36px;font-weight:700;color:#2c3e50}
.kpi-compare{display:flex;justify-content:space-between;align-items:center;margin-top:15px;padding-top:15px;border-top:1px solid #eee}
.compare-item{text-align:center}
.compare-label{font-size:11px;color:#7f8c8d;margin-bottom:3px}
.compare-value{font-size:20px;font-weight:700}
.compare-value.green{color:#2ecc71}
.compare-value.red{color:#e74c3c}
.compare-vs{color:#bdc3c7;font-weight:700;font-size:14px}
.diff-row{display:flex;justify-content:space-between;margin-top:10px}
.diff-item{font-size:14px;font-weight:600}
.charts-row{display:grid;grid-template-columns:repeat(3,1fr);gap:20px;margin-bottom:20px}
.chart-card{background:#fff;border-radius:12px;padding:20px;box-shadow:0 2px 10px rgba(0,0,0,0.1)}
.chart-title{font-size:14px;font-weight:600;color:#2c3e50;margin-bottom:15px;text-align:center}
.chart-container{height:250px;position:relative}
.placeholder{display:flex;align-items:center;justify-content:center;height:100%;color:#95a5a6;font-size:14px;text-align:center}
.table-card{background:#fff;border-radius:12px;padding:20px;box-shadow:0 2px 10px rgba(0,0,0,0.1)}
.table-title{font-size:16px;font-weight:600;color:#2c3e50;margin-bottom:15px}
table{width:100%;border-collapse:collapse}
th,td{padding:12px 15px;text-align:left;border-bottom:1px solid #eee}
th{background:#f8f9fa;font-weight:600;color:#34495e;font-size:13px}
td{font-size:13px;color:#2c3e50}
tr:hover{background:#f8f9fa}
.highlight-row{background:#fff9e6!important}
.positive{color:#2ecc71;font-weight:600}
.negative{color:#e74c3c;font-weight:600}
</style>
</head>
<body>
<div class="dashboard">
<h1>üìä RFQ-Dashboard 2020-2024</h1>
<div class="filter-bar">
<div class="filter-group">
<label>üìÖ Jahr:</label>
<select id="yearFilter">
<option value="">Alle Jahre</option>
<option value="2020">2020</option>
<option value="2021">2021</option>
<option value="2022">2022</option>
<option value="2023">2023</option>
<option value="2024">2024</option>
</select>
</div>
<div class="filter-group">
<label>üìÜ Monat:</label>
<select id="monthFilter" disabled>
<option value="">Alle Monate</option>
<option value="1">Januar</option>
<option value="2">Februar</option>
<option value="3">M√§rz</option>
<option value="4">April</option>
<option value="5">Mai</option>
<option value="6">Juni</option>
<option value="7">Juli</option>
<option value="8">August</option>
<option value="9">September</option>
<option value="10">Oktober</option>
<option value="11">November</option>
<option value="12">Dezember</option>
</select>
</div>
<button class="btn btn-execute" onclick="applyFilter()">üîç Ausf√ºhren</button>
<button class="btn btn-reset" onclick="resetFilter()">‚Üª Zur√ºcksetzen</button>
<div class="status-box" id="statusBox">üìä Zeige: Alle Daten (37.348 RFQs)</div>
</div>
<div class="kpi-row">
<div class="kpi-card blue">
<div class="kpi-title">RFQs Gesamt</div>
<div class="kpi-value" id="kpiTotal">37.348</div>
</div>
<div class="kpi-card green">
<div class="kpi-title">Vergleich</div>
<div class="kpi-compare">
<div class="compare-item"><div class="compare-label" id="labelCurrent">2024</div><div class="compare-value green" id="valueCurrent">3.264</div></div>
<div class="compare-vs">vs.</div>
<div class="compare-item"><div class="compare-label" id="labelPrev">2023</div><div class="compare-value red" id="valuePrev">10.945</div></div>
</div>
<div class="diff-row">
<div class="diff-item" id="diffAbs">-7.681 RFQs</div>
<div class="diff-item" id="diffPct">-70,2%</div>
</div>
</div>
<div class="kpi-card orange">
<div class="kpi-title">Lieferanten</div>
<div class="kpi-value">2.221</div>
</div>
</div>
<div class="charts-row">
<div class="chart-card">
<div class="chart-title" id="barTitle">RFQs pro Jahr</div>
<div class="chart-container" id="barChart"></div>
</div>
<div class="chart-card">
<div class="chart-title" id="pieTitle">Anteil pro Jahr</div>
<div class="chart-container" id="pieChart"></div>
</div>
<div class="chart-card">
<div class="chart-title" id="combiTitle">Monatlicher Vergleich</div>
<div class="chart-container" id="combiChart"><div class="placeholder">üìÖ W√§hlen Sie ein Jahr und klicken Sie 'Ausf√ºhren'</div></div>
</div>
</div>
<div class="table-card">
<div class="table-title" id="tableTitle">Monatliche √úbersicht: 2024 vs. 2023</div>
<table>
<thead><tr><th>Monat</th><th id="thCurrent">2024 üü¢</th><th id="thPrev">2023 üî¥</th><th>Differenz</th></tr></thead>
<tbody id="tableBody"></tbody>
</table>
</div>
</div>
<script>
const yearData={2020:2340,2021:9820,2022:10979,2023:10945,2024:3264};
const monthData={2019:{1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},2020:{1:0,2:17,3:34,4:16,5:37,6:199,7:306,8:224,9:284,10:358,11:430,12:435},2021:{1:599,2:758,3:909,4:878,5:817,6:824,7:977,8:639,9:896,10:911,11:871,12:741},2022:{1:743,2:1115,3:1166,4:798,5:947,6:991,7:1074,8:629,9:894,10:951,11:897,12:774},2023:{1:799,2:817,3:1020,4:816,5:1027,6:1030,7:1072,8:694,9:947,10:962,11:1014,12:747},2024:{1:958,2:1068,3:1050,4:188,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0}};
const months=['','Januar','Februar','M√§rz','April','Mai','Juni','Juli','August','September','Oktober','November','Dezember'];
const colors={2020:'#9b59b6',2021:'#3498db',2022:'#e74c3c',2023:'#2ecc71',2024:'#f39c12'};
let currentYear=null,currentMonth=null;
const fmt=n=>n.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g,'.');
const yearFilter=document.getElementById('yearFilter');
const monthFilter=document.getElementById('monthFilter');
yearFilter.addEventListener('change',()=>{monthFilter.disabled=!yearFilter.value;if(!yearFilter.value)monthFilter.value='';});
function applyFilter(){currentYear=yearFilter.value?parseInt(yearFilter.value):null;currentMonth=monthFilter.value?parseInt(monthFilter.value):null;updateDashboard();}
function resetFilter(){yearFilter.value='';monthFilter.value='';monthFilter.disabled=true;currentYear=null;currentMonth=null;updateDashboard();}
function updateDashboard(){updateKPIs();updateBarChart();updatePieChart();updateCombiChart();updateTable();updateStatus();}
function updateKPIs(){let total,curr,prev,currLabel,prevLabel;
if(!currentYear){total=37348;curr=yearData[2024];prev=yearData[2023];currLabel='2024';prevLabel='2023';}
else if(!currentMonth){total=yearData[currentYear];curr=yearData[currentYear];prev=yearData[currentYear-1]||0;currLabel=currentYear.toString();prevLabel=(currentYear-1).toString();}
else{total=monthData[currentYear][currentMonth];curr=monthData[currentYear][currentMonth];prev=monthData[currentYear-1]?monthData[currentYear-1][currentMonth]:0;currLabel=months[currentMonth]+' '+currentYear;prevLabel=months[currentMonth]+' '+(currentYear-1);}
document.getElementById('kpiTotal').textContent=fmt(total);
document.getElementById('labelCurrent').textContent=currLabel;
document.getElementById('valueCurrent').textContent=fmt(curr);
document.getElementById('labelPrev').textContent=prevLabel;
document.getElementById('valuePrev').textContent=fmt(prev);
const diff=curr-prev;
const pct=prev>0?((diff/prev)*100).toFixed(1):curr>0?'‚àû':'0';
const diffEl=document.getElementById('diffAbs');
const pctEl=document.getElementById('diffPct');
diffEl.textContent=(diff>=0?'+':'')+fmt(diff)+' RFQs';
diffEl.className='diff-item '+(diff>=0?'positive':'negative');
pctEl.textContent=(diff>=0?'+':'')+pct.toString().replace('.',',')+'%';
pctEl.className='diff-item '+(diff>=0?'positive':'negative');}
function updateBarChart(){const container=document.getElementById('barChart');let data=[],title='';
if(!currentYear){data=[{label:'2020',value:yearData[2020],color:colors[2020]},{label:'2021',value:yearData[2021],color:colors[2021]},{label:'2022',value:yearData[2022],color:colors[2022]},{label:'2023',value:yearData[2023],color:colors[2023]},{label:'2024',value:yearData[2024],color:colors[2024]}];title='RFQs pro Jahr';}
else if(!currentMonth){const prevY=currentYear-1;data=[{label:prevY.toString(),value:yearData[prevY]||0,color:'#e74c3c'},{label:currentYear.toString(),value:yearData[currentYear],color:'#2ecc71'}];title=currentYear+' vs. '+prevY;}
else{const prevY=currentYear-1;data=[{label:months[currentMonth]+' '+prevY,value:monthData[prevY]?monthData[prevY][currentMonth]:0,color:'#e74c3c'},{label:months[currentMonth]+' '+currentYear,value:monthData[currentYear][currentMonth],color:'#2ecc71'}];title=months[currentMonth]+' '+currentYear+' vs. '+months[currentMonth]+' '+prevY;}
document.getElementById('barTitle').textContent=title;
const max=Math.max(...data.map(d=>d.value))*1.15;
const w=container.clientWidth,h=250,padding=40,barPadding=20;
const barWidth=(w-padding*2-barPadding*(data.length+1))/data.length;
let svg=`<svg width="${w}" height="${h}">`;
for(let i=0;i<=4;i++){const y=padding+(h-padding*2)*(1-i/4);const val=Math.round(max*i/4/1000);svg+=`<line x1="${padding}" y1="${y}" x2="${w-padding}" y2="${y}" stroke="#eee"/><text x="${padding-5}" y="${y+4}" text-anchor="end" font-size="10" fill="#999">${val}K</text>`;}
data.forEach((d,i)=>{const x=padding+barPadding+(barWidth+barPadding)*i;const barH=(d.value/max)*(h-padding*2);const y=h-padding-barH;svg+=`<rect x="${x}" y="${y}" width="${barWidth}" height="${barH}" fill="${d.color}" rx="4"/><text x="${x+barWidth/2}" y="${y-5}" text-anchor="middle" font-size="11" font-weight="600" fill="#2c3e50">${fmt(d.value)}</text><text x="${x+barWidth/2}" y="${h-padding+15}" text-anchor="middle" font-size="10" fill="#666">${d.label}</text>`;});
svg+='</svg>';container.innerHTML=svg;}
function updatePieChart(){const container=document.getElementById('pieChart');let data=[],title='';
if(!currentYear){const total=37348;data=[{label:'2020',value:yearData[2020],color:colors[2020]},{label:'2021',value:yearData[2021],color:colors[2021]},{label:'2022',value:yearData[2022],color:colors[2022]},{label:'2023',value:yearData[2023],color:colors[2023]},{label:'2024',value:yearData[2024],color:colors[2024]}];title='Anteil pro Jahr';}
else if(!currentMonth){const prevY=currentYear-1;const total=(yearData[prevY]||0)+yearData[currentYear];data=[{label:prevY.toString(),value:yearData[prevY]||0,color:'#e74c3c'},{label:currentYear.toString(),value:yearData[currentYear],color:'#2ecc71'}];title='Anteil '+currentYear+' vs. '+prevY;}
else{const prevY=currentYear-1;const prevVal=monthData[prevY]?monthData[prevY][currentMonth]:0;const currVal=monthData[currentYear][currentMonth];data=[{label:months[currentMonth]+' '+prevY,value:prevVal,color:'#e74c3c'},{label:months[currentMonth]+' '+currentYear,value:currVal,color:'#2ecc71'}];title='Anteil '+months[currentMonth];}
document.getElementById('pieTitle').textContent=title;
const total=data.reduce((s,d)=>s+d.value,0);
const w=container.clientWidth,h=250,cx=w/2,cy=h/2-10,r=80;
let svg=`<svg width="${w}" height="${h}">`,angle=0;
data.forEach(d=>{const pct=total>0?d.value/total:0;const sliceAngle=pct*2*Math.PI;const x1=cx+r*Math.cos(angle-Math.PI/2);const y1=cy+r*Math.sin(angle-Math.PI/2);const x2=cx+r*Math.cos(angle+sliceAngle-Math.PI/2);const y2=cy+r*Math.sin(angle+sliceAngle-Math.PI/2);const largeArc=sliceAngle>Math.PI?1:0;if(pct>0){svg+=`<path d="M${cx},${cy} L${x1},${y1} A${r},${r} 0 ${largeArc},1 ${x2},${y2} Z" fill="${d.color}"/>`;const midAngle=angle+sliceAngle/2-Math.PI/2;const lx=cx+r*0.65*Math.cos(midAngle);const ly=cy+r*0.65*Math.sin(midAngle);if(pct>0.05)svg+=`<text x="${lx}" y="${ly}" text-anchor="middle" font-size="11" font-weight="600" fill="#fff">${(pct*100).toFixed(1)}%</text>`;}angle+=sliceAngle;});
let ly=h-25;data.forEach((d,i)=>{const lx=10+i*(w/data.length);svg+=`<rect x="${lx}" y="${ly}" width="10" height="10" fill="${d.color}" rx="2"/><text x="${lx+14}" y="${ly+9}" font-size="9" fill="#666">${d.label}</text>`;});
svg+='</svg>';container.innerHTML=svg;}
function updateCombiChart(){const container=document.getElementById('combiChart');
if(!currentYear){container.innerHTML='<div class="placeholder">üìÖ W√§hlen Sie ein Jahr und klicken Sie \\'Ausf√ºhren\\'</div>';document.getElementById('combiTitle').textContent='Monatlicher Vergleich';return;}
const prevY=currentYear-1;
document.getElementById('combiTitle').textContent='Monatlicher Vergleich '+currentYear+' vs. '+prevY;
const currData=[];const prevData=[];
for(let m=1;m<=12;m++){currData.push(monthData[currentYear][m]);prevData.push(monthData[prevY]?monthData[prevY][m]:0);}
const max=Math.max(...currData,...prevData)*1.15;
const w=container.clientWidth,h=250,padding=45,barPadding=5;
const barWidth=(w-padding*2-barPadding*13)/12;
let svg=`<svg width="${w}" height="${h}">`;
for(let i=0;i<=4;i++){const y=padding+(h-padding*2)*(1-i/4);const val=Math.round(max*i/4);svg+=`<line x1="${padding}" y1="${y}" x2="${w-padding}" y2="${y}" stroke="#eee"/><text x="${padding-5}" y="${y+4}" text-anchor="end" font-size="9" fill="#999">${val}</text>`;}
for(let m=1;m<=12;m++){const x=padding+barPadding+(barWidth+barPadding)*(m-1);const barH=(currData[m-1]/max)*(h-padding*2);const y=h-padding-barH;const isHighlight=currentMonth===m;svg+=`<rect x="${x}" y="${y}" width="${barWidth}" height="${barH}" fill="${isHighlight?'#27ae60':'#2ecc71'}" rx="2" opacity="${isHighlight?1:0.8}"/><text x="${x+barWidth/2}" y="${h-padding+12}" text-anchor="middle" font-size="8" fill="#666">${months[m].substr(0,3)}</text>`;if(currData[m-1]>0)svg+=`<text x="${x+barWidth/2}" y="${y-3}" text-anchor="middle" font-size="8" fill="#2ecc71">${currData[m-1]}</text>`;}
let linePath='';for(let m=1;m<=12;m++){const x=padding+barPadding+(barWidth+barPadding)*(m-1)+barWidth/2;const y=h-padding-(prevData[m-1]/max)*(h-padding*2);linePath+=(m===1?'M':'L')+x+','+y;svg+=`<circle cx="${x}" cy="${y}" r="4" fill="#e74c3c"/>`;if(prevData[m-1]>0)svg+=`<text x="${x}" y="${y-8}" text-anchor="middle" font-size="8" fill="#e74c3c">${prevData[m-1]}</text>`;}
svg+=`<path d="${linePath}" fill="none" stroke="#e74c3c" stroke-width="2"/>`;
svg+=`<rect x="${w-100}" y="10" width="10" height="10" fill="#2ecc71" rx="2"/><text x="${w-86}" y="19" font-size="9" fill="#666">${currentYear}</text>`;
svg+=`<rect x="${w-100}" y="25" width="10" height="10" fill="#e74c3c" rx="2"/><text x="${w-86}" y="34" font-size="9" fill="#666">${prevY}</text>`;
svg+='</svg>';container.innerHTML=svg;}
function updateTable(){const tbody=document.getElementById('tableBody');
let currY=currentYear||2024,prevY=(currentYear||2024)-1;
document.getElementById('tableTitle').textContent='Monatliche √úbersicht: '+currY+' vs. '+prevY;
document.getElementById('thCurrent').textContent=currY+' üü¢';
document.getElementById('thPrev').textContent=prevY+' üî¥';
let html='';
for(let m=1;m<=12;m++){const curr=monthData[currY][m];const prev=monthData[prevY]?monthData[prevY][m]:0;const diff=curr-prev;const isHighlight=currentMonth===m;html+=`<tr class="${isHighlight?'highlight-row':''}"><td>${months[m]}</td><td>${fmt(curr)}</td><td>${fmt(prev)}</td><td class="${diff>=0?'positive':'negative'}">${diff>=0?'+':''}${fmt(diff)}</td></tr>`;}
tbody.innerHTML=html;}
function updateStatus(){let text;if(!currentYear){text='üìä Zeige: Alle Daten (37.348 RFQs)';}else if(!currentMonth){text='‚úÖ Zeige: Jahr '+currentYear+' ('+fmt(yearData[currentYear])+' RFQs)';}else{text='‚úÖ Zeige: '+months[currentMonth]+' '+currentYear+' ('+fmt(monthData[currentYear][currentMonth])+' RFQs)';}document.getElementById('statusBox').textContent=text;}
updateDashboard();
window.addEventListener('resize',()=>{updateBarChart();updatePieChart();updateCombiChart();});
</script>
</body>
</html>