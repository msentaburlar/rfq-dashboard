<!DOCTYPE html><html lang="de"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>RFQ-Dashboard 2020-2024</title><style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;background:#f5f7fa;color:#333;padding:20px}header{margin-bottom:30px}h1{font-size:32px;color:#2c3e50;margin-bottom:10px}.dashboard-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;margin-bottom:30px}.kpi-card{background:white;border-radius:8px;padding:20px;box-shadow:0 2px 8px rgba(0,0,0,0.1)}.kpi-card.blue{border-top:4px solid #3498db}.kpi-card.green{border-top:4px solid #2ecc71}.kpi-card.red{border-top:4px solid #e74c3c}.kpi-card.orange{border-top:4px solid #f39c12}.kpi-label{font-size:12px;color:#7f8c8d;text-transform:uppercase;letter-spacing:1px;margin-bottom:8px}.kpi-value{font-size:28px;font-weight:bold;color:#2c3e50;margin-bottom:8px}.kpi-comparison{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:15px;padding-top:15px;border-top:1px solid #ecf0f1}.comparison-item{text-align:center}.comparison-label{font-size:10px;color:#95a5a6;margin-bottom:4px}.comparison-value{font-size:18px;font-weight:bold}.comparison-metric{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:10px}.metric-item{padding:8px;background:#f8f9fa;border-radius:4px;text-align:center}.metric-value{font-size:16px;font-weight:bold}.metric-value.positive{color:#2ecc71}.metric-value.negative{color:#e74c3c}.metric-label{font-size:10px;color:#7f8c8d;margin-top:4px}.filter-section{background:white;border-radius:8px;padding:20px;margin-bottom:20px;box-shadow:0 2px 8px rgba(0,0,0,0.1)}.filter-row{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px;align-items:flex-end;margin-bottom:10px}.filter-group{display:flex;flex-direction:column}.filter-label{font-size:12px;color:#7f8c8d;margin-bottom:5px;font-weight:600;text-transform:uppercase}.filter-select{padding:10px;border:1px solid #bdc3c7;border-radius:4px;font-size:14px;color:#2c3e50;background:white;cursor:pointer}.filter-select:disabled{background:#ecf0f1;color:#95a5a6;cursor:not-allowed}.button-group{display:flex;gap:10px}.btn{padding:10px 20px;border:none;border-radius:4px;cursor:pointer;font-size:14px;font-weight:600;transition:all 0.3s}.btn-primary{background:#3498db;color:white}.btn-primary:hover{background:#2980b9}.btn-danger{background:#e74c3c;color:white}.btn-danger:hover{background:#c0392b}.status-box{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:white;padding:15px;border-radius:8px;margin-bottom:20px;font-size:14px}.chart-section{background:white;border-radius:8px;padding:20px;margin-bottom:20px;box-shadow:0 2px 8px rgba(0,0,0,0.1)}.chart-title{font-size:16px;font-weight:bold;color:#2c3e50;margin-bottom:15px}.chart-container{position:relative;width:100%;height:300px;margin-bottom:20px}.table-section{background:white;border-radius:8px;padding:20px;margin-bottom:20px;box-shadow:0 2px 8px rgba(0,0,0,0.1)}.table-title{font-size:16px;font-weight:bold;color:#2c3e50;margin-bottom:15px}table{width:100%;border-collapse:collapse}.table-header{background:#f8f9fa;font-weight:600;color:#2c3e50;text-align:left;padding:12px}.table-cell{padding:12px;border-bottom:1px solid #ecf0f1}.table-row:hover{background:#f8f9fa}.chart-placeholder{background:#f8f9fa;border:2px dashed #bdc3c7;border-radius:4px;padding:40px;text-align:center;color:#7f8c8d;height:300px;display:flex;align-items:center;justify-content:center}svg{width:100%;height:100%}</style></head><body><header><h1>ðŸ“Š RFQ-Dashboard 2020-2024</h1><p style="color:#7f8c8d;margin-top:5px">Analyse von Anfragen und Lieferanten</p></header><div class="filter-section"><div class="filter-row"><div class="filter-group"><label class="filter-label">ðŸ“… Jahr</label><select id="yearFilter" class="filter-select"><option value="">Alle Jahre</option><option value="2020">2020</option><option value="2021">2021</option><option value="2022">2022</option><option value="2023">2023</option><option value="2024">2024</option></select></div><div class="filter-group"><label class="filter-label">ðŸ“† Monat</label><select id="monthFilter" class="filter-select" disabled><option value="">Monat wÃ¤hlen</option><option value="1">Januar</option><option value="2">Februar</option><option value="3">MÃ¤rz</option><option value="4">April</option><option value="5">Mai</option><option value="6">Juni</option><option value="7">Juli</option><option value="8">August</option><option value="9">September</option><option value="10">Oktober</option><option value="11">November</option><option value="12">Dezember</option></select></div><div class="button-group"><button class="btn btn-danger" onclick="resetFilters()">â†» ZurÃ¼cksetzen</button></div></div></div><div class="status-box" id="statusBox">ðŸ“Š Alle Daten (37.348 RFQs)</div><div class="dashboard-grid"><div class="kpi-card blue"><div class="kpi-label">Gesamt RFQs</div><div class="kpi-value" id="kpiTotal">37.348</div></div><div class="kpi-card green"><div class="kpi-label">Jahresvergleich</div><div class="kpi-comparison"><div class="comparison-item"><div class="comparison-label">2024</div><div class="comparison-value" id="currentValue">3.264</div></div><div class="comparison-item"><div class="comparison-label">2023</div><div class="comparison-value" id="previousValue">10.945</div></div></div><div class="comparison-metric"><div class="metric-item"><div class="metric-value positive" id="absoluteDiff">-7.681</div><div class="metric-label">Differenz</div></div><div class="metric-item"><div class="metric-value negative" id="percentDiff">-70,1%</div><div class="metric-label">Ã„nderung</div></div></div></div><div class="kpi-card orange"><div class="kpi-label">Lieferanten</div><div class="kpi-value">2.221</div></div></div><div class="chart-section"><div class="chart-title">ðŸ“Š RFQs pro Jahr</div><div class="chart-container"><svg id="yearChart"></svg></div></div><div class="chart-section"><div class="chart-title">ðŸ¥§ Prozentuale Verteilung</div><div class="chart-container"><svg id="pieChart"></svg></div></div><div class="chart-section"><div class="chart-title">ðŸ“ˆ Monatlicher Vergleich</div><div class="chart-container" id="monthlyContainer"><div class="chart-placeholder" id="monthlyPlaceholder">WÃ¤hlen Sie ein Jahr fÃ¼r den monatlichen Vergleich</div><svg id="monthlyChart" style="display:none"></svg></div></div><div class="table-section"><div class="table-title">ðŸ“‹ Monatliche Vergleichstabelle</div><div id="tableContainer"></div></div><script>const data={yearly:{2020:2340,2021:9820,2022:10979,2023:10945,2024:3264},monthly:{
2020:{},
2021:{},
2022:{},
2023:{},
2024:{}
}};data.monthly[2020]={1:0,2:17,3:34,4:16,5:37,6:199,7:306,8:224,9:284,10:358,11:430,12:435};data.monthly[2021]={1:599,2:758,3:909,4:878,5:817,6:824,7:977,8:639,9:896,10:911,11:871,12:741};data.monthly[2022]={1:743,2:1115,3:1166,4:798,5:947,6:991,7:1074,8:629,9:894,10:951,11:897,12:774};data.monthly[2023]={1:799,2:817,3:1020,4:816,5:1027,6:1030,7:1072,8:694,9:947,10:962,11:1014,12:747};data.monthly[2024]={1:958,2:1068,3:1050,4:188,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0};const totalRFQs=37348;const months=['','Januar','Februar','MÃ¤rz','April','Mai','Juni','Juli','August','September','Oktober','November','Dezember'];function formatNumber(num){return num.toLocaleString('de-DE')}function getYearData(){const year=document.getElementById('yearFilter').value;const month=document.getElementById('monthFilter').value;if(!year)return{current:totalRFQs,previous:null,currentLabel:'Alle Jahre',previousLabel:null};if(!month){const current=data.yearly[year]||0;const currentYear=parseInt(year);const previous=currentYear>2020?data.yearly[currentYear-1]:null;return{current,previous,currentLabel:`${year}`,previousLabel:previous!==null?`${currentYear-1}`:null}}}function updateKPIs(){const yearData=getYearData();const current=yearData.current;const previous=yearData.previous;const year=document.getElementById('yearFilter').value;const month=document.getElementById('monthFilter').value;document.getElementById('kpiTotal').textContent=formatNumber(current);if(previous!==null){document.getElementById('currentValue').textContent=formatNumber(current);document.getElementById('previousValue').textContent=formatNumber(previous);const diff=current-previous;const percent=(diff/previous)*100;document.getElementById('absoluteDiff').textContent=(diff>0?'+':'')+formatNumber(diff);document.getElementById('percentDiff').textContent=(percent>0?'+':'')+percent.toFixed(1)+'%';document.getElementById('absoluteDiff').className='metric-value '+(diff>0?'positive':'negative');document.getElementById('percentDiff').className='metric-value '+(percent>0?'positive':'negative')}updateYearChart();updatePieChart();updateMonthlyChart();updateMonthlyTable()}function updateStatusBox(){const year=document.getElementById('yearFilter').value;const month=document.getElementById('monthFilter').value;let status;if(!year){status=`ðŸ“Š Alle Daten (${formatNumber(totalRFQs)} RFQs)`}else if(!month){const count=data.yearly[year]||0;status=`âœ… Jahr ${year} (${formatNumber(count)} RFQs)`}else{const count=data.monthly[year][parseInt(month)]||0;status=`âœ… ${months[parseInt(month)]} ${year} (${formatNumber(count)} RFQs)`}document.getElementById('statusBox').textContent=status}function updateYearChart(){const svg=document.getElementById('yearChart');svg.innerHTML='';const year=document.getElementById('yearFilter').value;const width=800;const height=300;const margin={top:20,right:20,bottom:40,left:60};const chartWidth=width-margin.left-margin.right;const chartHeight=height-margin.top-margin.bottom;let values,labels,colors;if(!year){values=[data.yearly[2020],data.yearly[2021],data.yearly[2022],data.yearly[2023],data.yearly[2024]];labels=['2020','2021','2022','2023','2024'];colors=['#3498db','#9b59b6','#e67e22','#e74c3c','#16a085']}else{const currentYear=parseInt(year);const prevYear=currentYear-1;values=[data.yearly[prevYear]||0,data.yearly[currentYear]||0];labels=[prevYear.toString(),currentYear.toString()];colors=['#e74c3c','#2ecc71']}const maxValue=Math.max(...values);const barWidth=chartWidth/(values.length*1.5);const g=document.createElementNS('http://www.w3.org/2000/svg','g');g.setAttribute('transform',`translate(${margin.left},${margin.top})`);let yTicks=4;let tickStep=Math.ceil(maxValue/yTicks/1000)*1000;for(let i=0;i<=yTicks;i++){const y=chartHeight-((i*tickStep/maxValue)*chartHeight);const text=document.createElementNS('http://www.w3.org/2000/svg','text');text.setAttribute('x','-10');text.setAttribute('y',y+5);text.setAttribute('text-anchor','end');text.setAttribute('font-size','12');text.setAttribute('fill','#7f8c8d');text.textContent=(i*tickStep/1000)+'K';g.appendChild(text);const line=document.createElementNS('http://www.w3.org/2000/svg','line');line.setAttribute('x1','0');line.setAttribute('x2',chartWidth);line.setAttribute('y1',y);line.setAttribute('y2',y);line.setAttribute('stroke','#ecf0f1');line.setAttribute('stroke-width','1');g.appendChild(line)}values.forEach((value,index)=>{const barHeight=(value/maxValue)*chartHeight;const x=index*barWidth*1.5+20;const y=chartHeight-barHeight;const rect=document.createElementNS('http://www.w3.org/2000/svg','rect');rect.setAttribute('x',x);rect.setAttribute('y',y);rect.setAttribute('width',barWidth*0.8);rect.setAttribute('height',barHeight);rect.setAttribute('fill',colors[index]);g.appendChild(rect);const text=document.createElementNS('http://www.w3.org/2000/svg','text');text.setAttribute('x',x+barWidth*0.4);text.setAttribute('y',y-5);text.setAttribute('text-anchor','middle');text.setAttribute('font-size','12');text.setAttribute('font-weight','bold');text.setAttribute('fill','#2c3e50');text.textContent=formatNumber(value);g.appendChild(text);const label=document.createElementNS('http://www.w3.org/2000/svg','text');label.setAttribute('x',x+barWidth*0.4);label.setAttribute('y',chartHeight+20);label.setAttribute('text-anchor','middle');label.setAttribute('font-size','12');label.setAttribute('fill','#7f8c8d');label.textContent=labels[index];g.appendChild(label)});svg.appendChild(g);svg.setAttribute('viewBox',`0 0 ${width} ${height}`);}function updatePieChart(){const svg=document.getElementById('pieChart');svg.innerHTML='';const year=document.getElementById('yearFilter').value;const width=400;const height=400;const radius=120;const cx=width/2;const cy=height/2;let values,labels;if(!year){values=[data.yearly[2020],data.yearly[2021],data.yearly[2022],data.yearly[2023],data.yearly[2024]];labels=['2020','2021','2022','2023','2024']}else{const currentYear=parseInt(year);const prevYear=currentYear-1;values=[data.yearly[prevYear]||0,data.yearly[currentYear]||0];labels=[prevYear.toString(),currentYear.toString()]}const colors=['#3498db','#9b59b6','#e67e22','#e74c3c','#16a085'];const total=values.reduce((a,b)=>a+b,0);const g=document.createElementNS('http://www.w3.org/2000/svg','g');let startAngle=0;values.forEach((value,index)=>{const sliceAngle=(value/total)*2*Math.PI;const endAngle=startAngle+sliceAngle;const x1=cx+radius*Math.cos(startAngle);const y1=cy+radius*Math.sin(startAngle);const x2=cx+radius*Math.cos(endAngle);const y2=cy+radius*Math.sin(endAngle);const largeArc=sliceAngle>Math.PI?1:0;const path=document.createElementNS('http://www.w3.org/2000/svg','path');const d=`M${cx},${cy}L${x1},${y1}A${radius},${radius}0${largeArc},1${x2},${y2}Z`;path.setAttribute('d',d);path.setAttribute('fill',colors[index%colors.length]);path.setAttribute('stroke','white');path.setAttribute('stroke-width','2');g.appendChild(path);const percent=(value/total*100).toFixed(1);const labelAngle=startAngle+sliceAngle/2;const labelRadius=radius*0.65;const labelX=cx+labelRadius*Math.cos(labelAngle);const labelY=cy+labelRadius*Math.sin(labelAngle);const text=document.createElementNS('http://www.w3.org/2000/svg','text');text.setAttribute('x',labelX);text.setAttribute('y',labelY);text.setAttribute('text-anchor','middle');text.setAttribute('dominant-baseline','middle');text.setAttribute('font-size','12');text.setAttribute('font-weight','bold');text.setAttribute('fill','white');text.textContent=percent+'%';g.appendChild(text);startAngle=endAngle});svg.appendChild(g);svg.setAttribute('viewBox',`0 0 ${width} ${height}`);}function updateMonthlyChart(){const year=document.getElementById('yearFilter').value;const placeholder=document.getElementById('monthlyPlaceholder');const chart=document.getElementById('monthlyChart');if(!year){placeholder.style.display='flex';chart.style.display='none';return}placeholder.style.display='none';chart.style.display='block';const svg=chart;svg.innerHTML='';const currentYear=parseInt(year);const prevYear=currentYear-1;const currentData=data.monthly[currentYear]||{};const prevData=data.monthly[prevYear]||{};const width=900;const height=300;const margin={top:20,right:20,bottom:40,left:60};const chartWidth=width-margin.left-margin.right;const chartHeight=height-margin.top-margin.bottom;const values=[];for(let i=1;i<=12;i++){values.push(Math.max(currentData[i]||0,prevData[i]||0))}const maxValue=Math.max(...values);const barWidth=chartWidth/12/2.5;const g=document.createElementNS('http://www.w3.org/2000/svg','g');g.setAttribute('transform',`translate(${margin.left},${margin.top})`);let yTicks=4;let tickStep=Math.ceil(maxValue/yTicks/100)*100;for(let i=0;i<=yTicks;i++){const y=chartHeight-((i*tickStep/maxValue)*chartHeight);const text=document.createElementNS('http://www.w3.org/2000/svg','text');text.setAttribute('x','-10');text.setAttribute('y',y+5);text.setAttribute('text-anchor','end');text.setAttribute('font-size','12');text.setAttribute('fill','#7f8c8d');text.textContent=(i*tickStep/1000)+'K';g.appendChild(text);const line=document.createElementNS('http://www.w3.org/2000/svg','line');line.setAttribute('x1','0');line.setAttribute('x2',chartWidth);line.setAttribute('y1',y);line.setAttribute('y2',y);line.setAttribute('stroke','#ecf0f1');line.setAttribute('stroke-width','1');g.appendChild(line)}const prevPoints=[];for(let i=1;i<=12;i++){const value=prevData[i]||0;const x=i*chartWidth/12-chartWidth/24;const y=chartHeight-((value/maxValue)*chartHeight);prevPoints.push({x,y,value});const rect=document.createElementNS('http://www.w3.org/2000/svg','rect');rect.setAttribute('x',x-barWidth);rect.setAttribute('y',y);rect.setAttribute('width',barWidth*1.8);rect.setAttribute('height',chartHeight-y);rect.setAttribute('fill','#2ecc71');rect.setAttribute('opacity','0.7');g.appendChild(rect);const text=document.createElementNS('http://www.w3.org/2000/svg','text');text.setAttribute('x',x+barWidth*0.4);text.setAttribute('y',y-3);text.setAttribute('text-anchor','middle');text.setAttribute('font-size','10');text.setAttribute('fill','#2c3e50');text.textContent=formatNumber(value);g.appendChild(text)}let pathData='M'+prevPoints[0].x+','+prevPoints[0].y;for(let i=1;i<prevPoints.length;i++){pathData+=`L${prevPoints[i].x},${prevPoints[i].y}`}const line=document.createElementNS('http://www.w3.org/2000/svg','path');line.setAttribute('d',pathData);line.setAttribute('stroke','#e74c3c');line.setAttribute('stroke-width','2');line.setAttribute('fill','none');g.appendChild(line);prevPoints.forEach(p=>{const circle=document.createElementNS('http://www.w3.org/2000/svg','circle');circle.setAttribute('cx',p.x);circle.setAttribute('cy',p.y);circle.setAttribute('r','4');circle.setAttribute('fill','#e74c3c');g.appendChild(circle)});for(let i=1;i<=12;i++){const label=document.createElementNS('http://www.w3.org/2000/svg','text');label.setAttribute('x',i*chartWidth/12-chartWidth/24);label.setAttribute('y',chartHeight+20);label.setAttribute('text-anchor','middle');label.setAttribute('font-size','10');label.setAttribute('fill','#7f8c8d');label.textContent=months[i].substring(0,3);g.appendChild(label)}svg.appendChild(g);svg.setAttribute('viewBox',`0 0 ${width} ${height}`)}function updateMonthlyTable(){const year=document.getElementById('yearFilter').value;const container=document.getElementById('tableContainer');container.innerHTML='';if(!year){container.innerHTML='<p style="text-align:center;color:#7f8c8d">WÃ¤hlen Sie ein Jahr fÃ¼r die Monatstabelle</p>';return}const currentYear=parseInt(year);const prevYear=currentYear-1;const currentLabel=year;const prevLabel=prevYear.toString();const currentData=data.monthly[currentYear]||{};const prevData=data.monthly[prevYear]||{};let html=`<table><tr><th class="table-header">Monat</th><th class="table-header" style="color:#2ecc71">ðŸŸ¢ ${currentLabel}</th><th class="table-header" style="color:#e74c3c">ðŸ”´ ${prevLabel}</th><th class="table-header">Differenz</th></tr>`;for(let i=1;i<=12;i++){const current=currentData[i]||0;const prev=prevData[i]||0;const diff=current-prev;const diffClass=diff>=0?'positive':'negative';html+=`<tr class="table-row"><td class="table-cell">${months[i]}</td><td class="table-cell" style="color:#2ecc71;font-weight:bold">${formatNumber(current)}</td><td class="table-cell" style="color:#e74c3c;font-weight:bold">${formatNumber(prev)}</td><td class="table-cell"><span class="metric-value ${diffClass}">${diff>0?'+':''}${formatNumber(diff)}</span></td></tr>`}html+='</table>';container.innerHTML=html}function resetFilters(){document.getElementById('yearFilter').value='';document.getElementById('monthFilter').value='';document.getElementById('monthFilter').disabled=true;updateStatusBox();updateKPIs()}document.getElementById('yearFilter').addEventListener('change',function(){const year=this.value;document.getElementById('monthFilter').disabled=!year;if(!year)document.getElementById('monthFilter').value='';updateStatusBox();updateKPIs()});document.getElementById('monthFilter').addEventListener('change',function(){updateStatusBox();updateKPIs()});updateStatusBox();updateKPIs();</script></body></html>