<!DOCTYPE html><html lang='de'><head><meta charset='UTF-8'><meta name='viewport' content='width=device-width,initial-scale=1.0'><title>RFQ-Dashboard</title><style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;background:#f5f5f5;padding:20px;color:#333}h1{margin-bottom:20px;color:#2c3e50}.container{max-width:1600px;margin:0 auto}.header{background:white;padding:20px;border-radius:8px;margin-bottom:20px;box-shadow:0 2px 4px rgba(0,0,0,0.1)}.filters{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px;margin-bottom:20px}.filter-group label{display:block;margin-bottom:8px;font-weight:600;color:#555}select,button{padding:10px;border:1px solid #ddd;border-radius:4px;font-size:14px;cursor:pointer;background:white}.filter-group select:disabled{background:#f0f0f0;cursor:not-allowed}button{background:#3498db;color:white;border:none;transition:background 0.3s}.button-group button{margin-right:10px}.button-group button:hover{background:#2980b9}button.reset{background:#95a5a6}.button-group button.reset:hover{background:#7f8c8d}.status-box{background:#e8f4f8;border-left:4px solid #3498db;padding:15px;margin-bottom:20px;border-radius:4px;font-weight:500}.kpi-row{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:15px;margin-bottom:20px}.kpi-card{background:white;padding:20px;border-radius:8px;box-shadow:0 2px 4px rgba(0,0,0,0.1)}.kpi-title{font-size:12px;color:#7f8c8d;font-weight:600;text-transform:uppercase;margin-bottom:10px}.kpi-value{font-size:36px;font-weight:bold;color:#2c3e50;margin-bottom:10px}.kpi-blue{border-top:4px solid #3498db}.kpi-blue .kpi-value{color:#3498db}.kpi-orange{border-top:4px solid #f39c12}.kpi-orange .kpi-value{color:#f39c12}.split-card{display:grid;grid-template-columns:1fr 1fr;gap:15px}.split-top{grid-column:1/-1;font-size:16px;padding:10px;background:#f9f9f9;border-radius:4px;text-align:center;font-weight:600}.split-diff{background:#f0f0f0;padding:10px;border-radius:4px;text-align:center}.diff-value{font-size:24px;font-weight:bold;margin:5px 0}.diff-positive{color:#2ecc71}.diff-negative{color:#e74c3c}.charts-row{display:grid;grid-template-columns:repeat(auto-fit,minmax(500px,1fr));gap:15px;margin-bottom:20px}.chart-container{background:white;padding:20px;border-radius:8px;box-shadow:0 2px 4px rgba(0,0,0,0.1)}.chart-title{font-size:14px;font-weight:600;color:#2c3e50;margin-bottom:15px}.table-container{background:white;padding:20px;border-radius:8px;box-shadow:0 2px 4px rgba(0,0,0,0.1)}.table-title{font-size:14px;font-weight:600;color:#2c3e50;margin-bottom:15px}table{width:100%;border-collapse:collapse;font-size:13px}thead{background:#f5f5f5}th{padding:12px;text-align:left;font-weight:600;border-bottom:2px solid #ddd}td{padding:12px;border-bottom:1px solid #eee}tr:hover{background:#f9f9f9}svg{max-width:100%;height:auto}@media(max-width:1024px){.charts-row{grid-template-columns:1fr}.kpi-row{grid-template-columns:repeat(auto-fit,minmax(200px,1fr))}.split-card{grid-template-columns:1fr}.split-top{grid-column:1}}.placeholder{color:#999;font-style:italic;padding:30px;text-align:center}</style></head><body><div class='container'><div class='header'><h1>ðŸ“Š RFQ-Dashboard (2020-2024)</h1></div><div class='filters'><div class='filter-group'><label for='yearFilter'>Jahr:</label><select id='yearFilter'><option value=''>Alle Jahre</option><option value='2020'>2020</option><option value='2021'>2021</option><option value='2022'>2022</option><option value='2023'>2023</option><option value='2024'>2024</option></select></div><div class='filter-group'><label for='monthFilter'>Monat:</label><select id='monthFilter' disabled><option value=''>Alle Monate</option><option value='1'>Januar</option><option value='2'>Februar</option><option value='3'>MÃ¤rz</option><option value='4'>April</option><option value='5'>Mai</option><option value='6'>Juni</option><option value='7'>Juli</option><option value='8'>August</option><option value='9'>September</option><option value='10'>Oktober</option><option value='11'>November</option><option value='12'>Dezember</option></select></div><div class='button-group'><button id='resetBtn' class='reset'>â†» ZurÃ¼cksetzen</button></div></div><div class='status-box' id='statusBox'>ðŸ“Š Alle Daten (37.348 RFQs)</div><div class='kpi-row'><div class='kpi-card kpi-blue'><div class='kpi-title'>RFQs Gesamt</div><div class='kpi-value' id='kpiTotal'>37.348</div></div><div class='kpi-card' style='border-top:4px solid #2ecc71'><div class='kpi-title'>Vergleich Aktuell vs. Vorjahr</div><div class='split-card'><div class='split-top' id='kpiComparisonTop'>2024: 3.264 | 2023: 10.945</div><div class='split-diff'><div style='font-size:12px;color:#666'>Absolute Differenz</div><div class='diff-value diff-negative' id='kpiDiffAbs'>-7.681 RFQs</div></div><div class='split-diff'><div style='font-size:12px;color:#666'>Prozentuale Ã„nderung</div><div class='diff-value diff-negative' id='kpiDiffPct'>-70.2%</div></div></div></div><div class='kpi-card kpi-orange'><div class='kpi-title'>Lieferanten</div><div class='kpi-value'>2.221</div></div></div><div class='charts-row'><div class='chart-container'><div class='chart-title'>RFQs pro Jahr</div><svg id='yearChart' viewBox='0 0 600 350' style='border:1px solid #eee'></svg></div><div class='chart-container'><div class='chart-title'>Prozentuale Verteilung</div><svg id='pieChart' viewBox='0 0 400 350' style='border:1px solid #eee'></svg></div></div><div class='chart-container'><div class='chart-title'>Monatlicher Vergleich</div><svg id='monthChart' viewBox='0 0 1000 350' style='border:1px solid #eee'></svg></div><div class='table-container'><div class='table-title' id='tableTitle'>Monatliche Vergleichstabelle</div><table id='comparisonTable'><thead><tr><th>Monat</th><th id='col1'>2024 ðŸŸ¢</th><th id='col2'>2023 ðŸ”´</th><th>Differenz</th></tr></thead><tbody id='tableBody'></tbody></table></div></div><script>const data={2020:[0,17,34,16,37,199,306,224,284,358,430,435],2021:[599,758,909,878,817,824,977,639,896,911,871,741],2022:[743,1115,1166,798,947,991,1074,629,894,951,897,774],2023:[799,817,1020,816,1027,1030,1072,694,947,962,1014,747],2024:[958,1068,1050,188,0,0,0,0,0,0,0,0]},yearTotals={2020:2340,2021:9820,2022:10979,2023:10945,2024:3264},monthNames=['','Januar','Februar','MÃ¤rz','April','Mai','Juni','Juli','August','September','Oktober','November','Dezember'];let currentYear='',currentMonth='';function formatNumber(n){return n.toString().replace(/\B(?=(\d{3})+(?!\d))/g,'.')}function updateStatus(){let status='';if(!currentYear){status='ðŸ“Š Alle Daten (37.348 RFQs)'}else if(!currentMonth){const count=yearTotals[currentYear];status=`âœ… Jahr ${currentYear} (${formatNumber(count)} RFQs)`}else{const count=data[currentYear][currentMonth];status=`âœ… ${monthNames[currentMonth]} ${currentYear} (${formatNumber(count)} RFQs)`}document.getElementById('statusBox').textContent=status}function getComparisonYears(){if(!currentYear)return{current:2024,previous:2023};const y=parseInt(currentYear);return{current:y,previous:y-1}}function updateKPIs(){let total=0;if(!currentYear){total=37348}else if(!currentMonth){total=yearTotals[currentYear]}else{total=data[currentYear][currentMonth]}document.getElementById('kpiTotal').textContent=formatNumber(total);const{current,previous}=getComparisonYears();let currVal=0,prevVal=0;if(!currentMonth){currVal=yearTotals[current]||0;prevVal=yearTotals[previous]||0}else{currVal=data[current]?.[currentMonth]||0;prevVal=data[previous]?.[currentMonth]||0}const diffAbs=currVal-prevVal;const diffPct=prevVal>0?(diffAbs/prevVal*100):0;const isPosColor=diffAbs>=0?'diff-positive':'diff-negative';const currentLabel=currentMonth?`${monthNames[currentMonth]} ${current}`:`${current}`;const prevLabel=currentMonth?`${monthNames[currentMonth]} ${previous}`:`${previous}`;document.getElementById('kpiComparisonTop').textContent=`${currentLabel}: ${formatNumber(currVal)} | ${prevLabel}: ${formatNumber(prevVal)}`;document.getElementById('kpiDiffAbs').className=`diff-value ${isPosColor}`;document.getElementById('kpiDiffAbs').textContent=`${diffAbs>=0?'+':''}${formatNumber(diffAbs)} RFQs`;document.getElementById('kpiDiffPct').className=`diff-value ${isPosColor}`;document.getElementById('kpiDiffPct').textContent=`${diffPct>=0?'+':''}${diffPct.toFixed(1)}%`;updateStatus()}function drawYearChart(){const svg=document.getElementById('yearChart');while(svg.firstChild)svg.removeChild(svg.firstChild);const padding={top:30,right:40,bottom:40,left:60};const width=600-padding.left-padding.right;const height=350-padding.top-padding.bottom;let bars=[],labels=[],colors=[];if(!currentYear){bars=[{label:'2020',value:2340,color:'#e74c3c'},{label:'2021',value:9820,color:'#3498db'},{label:'2022',value:10979,color:'#9b59b6'},{label:'2023',value:10945,color:'#f39c12'},{label:'2024',value:3264,color:'#2ecc71'}]}else{const y=parseInt(currentYear);bars=[{label:y-1,value:yearTotals[y-1]||0,color:'#e74c3c'},{label:y,value:yearTotals[y],color:'#2ecc71'}]}const maxVal=Math.max(...bars.map(b=>b.value));const barWidth=width/bars.length;let g=document.createElementNS('http://www.w3.org/2000/svg','g');g.setAttribute('transform',`translate(${padding.left},${padding.top})`);svg.appendChild(g);bars.forEach((bar,i)=>{const x=i*barWidth+barWidth*0.1;const barHeight=(bar.value/maxVal)*height;const rect=document.createElementNS('http://www.w3.org/2000/svg','rect');rect.setAttribute('x',x);rect.setAttribute('y',height-barHeight);rect.setAttribute('width',barWidth*0.8);rect.setAttribute('height',barHeight);rect.setAttribute('fill',bar.color);g.appendChild(rect);const text=document.createElementNS('http://www.w3.org/2000/svg','text');text.setAttribute('x',x+barWidth*0.4);text.setAttribute('y',height-barHeight-5);text.setAttribute('text-anchor','middle');text.setAttribute('font-size','12');text.setAttribute('fill','#2c3e50');text.setAttribute('font-weight','bold');text.textContent=formatNumber(bar.value);g.appendChild(text);const label=document.createElementNS('http://www.w3.org/2000/svg','text');label.setAttribute('x',x+barWidth*0.4);label.setAttribute('y',height+20);label.setAttribute('text-anchor','middle');label.setAttribute('font-size','12');label.textContent=bar.label;g.appendChild(label)});const yAxisSteps=[0,3000,6000,9000,12000];yAxisSteps.forEach(step=>{const y=height-((step/maxVal)*height);const line=document.createElementNS('http://www.w3.org/2000/svg','line');line.setAttribute('x1',0);line.setAttribute('y1',y);line.setAttribute('x2',width);line.setAttribute('y2',y);line.setAttribute('stroke','#ddd');line.setAttribute('stroke-dasharray','5,5');g.appendChild(line);const text=document.createElementNS('http://www.w3.org/2000/svg','text');text.setAttribute('x',-10);text.setAttribute('y',y+4);text.setAttribute('text-anchor','end');text.setAttribute('font-size','11');text.setAttribute('fill','#999');text.textContent=`${(step/1000).toFixed(0)}K`;g.appendChild(text)})}function drawPieChart(){const svg=document.getElementById('pieChart');while(svg.firstChild)svg.removeChild(svg.firstChild);const radius=80;const cx=120,cy=140;let slices=[];if(!currentYear){const total=37348;slices=[{label:'2020',value:2340,color:'#e74c3c'},{label:'2021',value:9820,color:'#3498db'},{label:'2022',value:10979,color:'#9b59b6'},{label:'2023',value:10945,color:'#f39c12'},{label:'2024',value:3264,color:'#2ecc71'}]}else{const y=parseInt(currentYear);slices=[{label:`${y-1}`,value:yearTotals[y-1]||0,color:'#e74c3c'},{label:`${y}`,value:yearTotals[y],color:'#2ecc71'}]}let startAngle=0;slices.forEach(slice=>{const sliceAngle=(slice.value/37348)*360;const endAngle=startAngle+sliceAngle;const startRad=(startAngle*Math.PI)/180;const endRad=(endAngle*Math.PI)/180;const x1=cx+radius*Math.cos(startRad);const y1=cy+radius*Math.sin(startRad);const x2=cx+radius*Math.cos(endRad);const y2=cy+radius*Math.sin(endRad);const largeArc=sliceAngle>180?1:0;const pathData=`M ${cx} ${cy} L ${x1} ${y1} A ${radius} ${radius} 0 ${largeArc} 1 ${x2} ${y2} Z`;const path=document.createElementNS('http://www.w3.org/2000/svg','path');path.setAttribute('d',pathData);path.setAttribute('fill',slice.color);path.setAttribute('stroke','white');path.setAttribute('stroke-width','2');svg.appendChild(path);const percent=((slice.value/37348)*100).toFixed(1);const labelRad=(startRad+endRad)/2;const labelX=cx+radius*0.65*Math.cos(labelRad);const labelY=cy+radius*0.65*Math.sin(labelRad);const text=document.createElementNS('http://www.w3.org/2000/svg','text');text.setAttribute('x',labelX);text.setAttribute('y',labelY);text.setAttribute('text-anchor','middle');text.setAttribute('dy','0.35em');text.setAttribute('font-size','11');text.setAttribute('font-weight','bold');text.setAttribute('fill','white');text.textContent=`${percent}%`;svg.appendChild(text);startAngle=endAngle});let legendY=20;slices.forEach(slice=>{const rect=document.createElementNS('http://www.w3.org/2000/svg','rect');rect.setAttribute('x',250);rect.setAttribute('y',legendY);rect.setAttribute('width',12);rect.setAttribute('height',12);rect.setAttribute('fill',slice.color);svg.appendChild(rect);const text=document.createElementNS('http://www.w3.org/2000/svg','text');text.setAttribute('x',270);text.setAttribute('y',legendY+10);text.setAttribute('font-size','11');text.textContent=`${slice.label}`;svg.appendChild(text);legendY+=25})}function drawMonthChart(){const svg=document.getElementById('monthChart');while(svg.firstChild)svg.removeChild(svg.firstChild);if(!currentYear){const placeholder=document.createElementNS('http://www.w3.org/2000/svg','text');placeholder.setAttribute('x','500');placeholder.setAttribute('y','175');placeholder.setAttribute('text-anchor','middle');placeholder.setAttribute('dy','0.35em');placeholder.setAttribute('font-size','16');placeholder.setAttribute('fill','#999');placeholder.textContent='WÃ¤hlen Sie ein Jahr';svg.appendChild(placeholder);return}const y=parseInt(currentYear);const currData=data[y];const prevData=data[y-1]||[0,0,0,0,0,0,0,0,0,0,0,0];const padding={top:30,right:40,bottom:40,left:60};const width=1000-padding.left-padding.right;const height=350-padding.top-padding.bottom;const maxVal=Math.max(...currData.slice(1),15);const barWidth=width/12;let g=document.createElementNS('http://www.w3.org/2000/svg','g');g.setAttribute('transform',`translate(${padding.left},${padding.top})`);svg.appendChild(g);for(let m=1;m<=12;m++){const x=((m-1)*width)/12;const barHeight=(currData[m]/maxVal)*height;const rect=document.createElementNS('http://www.w3.org/2000/svg','rect');rect.setAttribute('x',x+barWidth*0.15);rect.setAttribute('y',height-barHeight);rect.setAttribute('width',barWidth*0.7);rect.setAttribute('height',barHeight);rect.setAttribute('fill','#2ecc71');g.appendChild(rect);const text=document.createElementNS('http://www.w3.org/2000/svg','text');text.setAttribute('x',x+barWidth*0.5);text.setAttribute('y',height-barHeight-5);text.setAttribute('text-anchor','middle');text.setAttribute('font-size','10');text.setAttribute('fill','#2c3e50');text.setAttribute('font-weight','bold');text.textContent=currData[m];g.appendChild(text)}const points=[];for(let m=1;m<=12;m++){const x=((m-0.5)*width)/12;const y=height-(prevData[m]/maxVal)*height;points.push(`${x},${y}`)}const polyline=document.createElementNS('http://www.w3.org/2000/svg','polyline');polyline.setAttribute('points',points.join(' '));polyline.setAttribute('fill','none');polyline.setAttribute('stroke','#e74c3c');polyline.setAttribute('stroke-width','2');g.appendChild(polyline);for(let m=1;m<=12;m++){const x=((m-0.5)*width)/12;const y=height-(prevData[m]/maxVal)*height;const circle=document.createElementNS('http://www.w3.org/2000/svg','circle');circle.setAttribute('cx',x);circle.setAttribute('cy',y);circle.setAttribute('r','4');circle.setAttribute('fill','#e74c3c');g.appendChild(circle);const text=document.createElementNS('http://www.w3.org/2000/svg','text');text.setAttribute('x',x);text.setAttribute('y',y-10);text.setAttribute('text-anchor','middle');text.setAttribute('font-size','9');text.setAttribute('fill','#e74c3c');text.setAttribute('font-weight','bold');text.textContent=prevData[m];g.appendChild(text)}for(let m=1;m<=12;m++){const x=((m-0.5)*width)/12;const label=monthNames[m].substring(0,3);const text=document.createElementNS('http://www.w3.org/2000/svg','text');text.setAttribute('x',x);text.setAttribute('y',height+20);text.setAttribute('text-anchor','middle');text.setAttribute('font-size','10');text.textContent=label;g.appendChild(text)}const yAxisSteps=[0,Math.round(maxVal/4),Math.round(maxVal/2),Math.round(3*maxVal/4),Math.round(maxVal)];yAxisSteps.forEach(step=>{const y=height-((step/maxVal)*height);const line=document.createElementNS('http://www.w3.org/2000/svg','line');line.setAttribute('x1',0);line.setAttribute('y1',y);line.setAttribute('x2',width);line.setAttribute('y2',y);line.setAttribute('stroke','#ddd');line.setAttribute('stroke-dasharray','5,5');g.appendChild(line);const text=document.createElementNS('http://www.w3.org/2000/svg','text');text.setAttribute('x',-10);text.setAttribute('y',y+4);text.setAttribute('text-anchor','end');text.setAttribute('font-size','9');text.setAttribute('fill','#999');text.textContent=step;g.appendChild(text)})}function updateTable(){const tbody=document.getElementById('tableBody');tbody.innerHTML='';if(!currentYear){document.getElementById('tableTitle').textContent='Monatliche Vergleichstabelle';document.getElementById('col1').textContent='2024 ðŸŸ¢';document.getElementById('col2').textContent='2023 ðŸ”´';for(let m=1;m<=12;m++){const row=tbody.insertRow();row.insertCell(0).textContent=monthNames[m];row.insertCell(1).textContent=formatNumber(data[2024][m]);row.insertCell(2).textContent=formatNumber(data[2023][m]);const diff=data[2024][m]-data[2023][m];const cell=row.insertCell(3);cell.textContent=`${diff>=0?'+':''}${formatNumber(diff)}`;cell.style.color=diff>=0?'#2ecc71':'#e74c3c';cell.style.fontWeight='bold'}}else{const y=parseInt(currentYear);const prevYear=y-1;document.getElementById('tableTitle').textContent='Monatliche Vergleichstabelle';document.getElementById('col1').textContent=`${y} ðŸŸ¢`;document.getElementById('col2').textContent=`${prevYear} ðŸ”´`;for(let m=1;m<=12;m++){const row=tbody.insertRow();row.insertCell(0).textContent=monthNames[m];row.insertCell(1).textContent=formatNumber(data[y][m]||0);row.insertCell(2).textContent=formatNumber(data[prevYear]?.[m]||0);const diff=(data[y][m]||0)-(data[prevYear]?.[m]||0);const cell=row.insertCell(3);cell.textContent=`${diff>=0?'+':''}${formatNumber(diff)}`;cell.style.color=diff>=0?'#2ecc71':'#e74c3c';cell.style.fontWeight='bold'}}}function updateAll(){updateKPIs();drawYearChart();drawPieChart();drawMonthChart();updateTable()}document.getElementById('yearFilter').addEventListener('change',e=>{currentYear=e.target.value;const monthFilter=document.getElementById('monthFilter');monthFilter.disabled=!currentYear;if(!currentYear)currentMonth='';updateAll()});document.getElementById('monthFilter').addEventListener('change',e=>{currentMonth=e.target.value;updateAll()});document.getElementById('resetBtn').addEventListener('click',()=>{currentYear='';currentMonth='';document.getElementById('yearFilter').value='';document.getElementById('monthFilter').value='';document.getElementById('monthFilter').disabled=true;updateAll()});updateAll();</script></body></html>