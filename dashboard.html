<!DOCTYPE html><html lang="de"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>RFQ Dashboard 2020â€“2024</title><style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;background:linear-gradient(135deg,#1a1a2e 0%,#16213e 100%);min-height:100vh;color:#fff;padding:20px}.dashboard{max-width:1400px;margin:0 auto}.header{text-align:center;margin-bottom:30px}.header h1{font-size:2.2rem;background:linear-gradient(90deg,#3498db,#2ecc71);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:5px}.header p{color:#8892b0;font-size:0.95rem}.filter-section{background:rgba(255,255,255,0.05);border-radius:16px;padding:20px;margin-bottom:25px;display:flex;flex-wrap:wrap;gap:15px;align-items:center}.filter-group{display:flex;flex-direction:column;gap:5px}.filter-group label{font-size:0.85rem;color:#8892b0}.filter-group select{background:#1a1a2e;border:1px solid rgba(255,255,255,0.1);border-radius:8px;padding:10px 15px;color:#fff;font-size:0.95rem;min-width:150px;cursor:pointer}.filter-group select:disabled{opacity:0.5;cursor:not-allowed}.filter-buttons{display:flex;gap:10px;margin-left:auto}.btn{padding:10px 25px;border:none;border-radius:8px;font-size:0.95rem;font-weight:600;cursor:pointer;transition:all 0.3s}.btn-primary{background:#3498db;color:#fff}.btn-primary:hover{background:#2980b9;transform:translateY(-2px)}.btn-danger{background:#e74c3c;color:#fff}.btn-danger:hover{background:#c0392b;transform:translateY(-2px)}.status-bar{background:rgba(52,152,219,0.15);border:1px solid rgba(52,152,219,0.3);border-radius:10px;padding:12px 20px;margin-bottom:25px;text-align:center;font-size:0.95rem}.status-bar span{color:#3498db;font-weight:600}.kpi-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px;margin-bottom:25px}.kpi-card{background:rgba(255,255,255,0.05);border-radius:16px;padding:25px;position:relative;overflow:hidden}.kpi-card::before{content:'';position:absolute;top:0;left:0;width:4px;height:100%}.kpi-card.blue::before{background:#3498db}.kpi-card.green::before{background:#2ecc71}.kpi-card.red::before{background:#e74c3c}.kpi-card.orange::before{background:#f39c12}.kpi-label{font-size:0.85rem;color:#8892b0;margin-bottom:8px;text-transform:uppercase;letter-spacing:1px}.kpi-value{font-size:2.5rem;font-weight:700}.kpi-card.blue .kpi-value{color:#3498db}.kpi-card.green .kpi-value{color:#2ecc71}.kpi-card.red .kpi-value{color:#e74c3c}.kpi-card.orange .kpi-value{color:#f39c12}.kpi-sub{font-size:0.9rem;color:#8892b0;margin-top:5px}.kpi-change{display:inline-block;padding:4px 10px;border-radius:20px;font-size:0.85rem;font-weight:600;margin-top:10px}.kpi-change.positive{background:rgba(46,204,113,0.2);color:#2ecc71}.kpi-change.negative{background:rgba(231,76,60,0.2);color:#e74c3c}.charts-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(400px,1fr));gap:20px;margin-bottom:25px}.chart-card{background:rgba(255,255,255,0.05);border-radius:16px;padding:25px}.chart-title{font-size:1.1rem;font-weight:600;margin-bottom:20px;color:#fff}.chart-container{width:100%;min-height:280px;display:flex;justify-content:center;align-items:center}.chart-hint{color:#8892b0;font-size:0.9rem;text-align:center;padding:40px}.table-section{background:rgba(255,255,255,0.05);border-radius:16px;padding:25px;margin-bottom:25px}.table-title{font-size:1.1rem;font-weight:600;margin-bottom:20px}.data-table{width:100%;border-collapse:collapse}.data-table th,.data-table td{padding:12px 15px;text-align:left;border-bottom:1px solid rgba(255,255,255,0.05)}.data-table th{background:rgba(52,152,219,0.1);color:#3498db;font-weight:600;font-size:0.85rem;text-transform:uppercase}.data-table tr:hover{background:rgba(255,255,255,0.03)}.data-table tr.highlight{background:rgba(52,152,219,0.15)}.diff-positive{color:#2ecc71;font-weight:600}.diff-negative{color:#e74c3c;font-weight:600}.legend{display:flex;justify-content:center;gap:25px;margin-top:15px;flex-wrap:wrap}.legend-item{display:flex;align-items:center;gap:8px;font-size:0.85rem;color:#8892b0}.legend-color{width:14px;height:14px;border-radius:3px}@media(max-width:768px){.filter-section{flex-direction:column;align-items:stretch}.filter-buttons{margin-left:0;justify-content:center}.charts-grid{grid-template-columns:1fr}.kpi-grid{grid-template-columns:1fr}}</style></head><body><div class="dashboard"><div class="header"><h1>ðŸ“Š RFQ Dashboard</h1><p>Request for Quotation Analyse â€¢ 2020â€“2024</p></div><div class="filter-section"><div class="filter-group"><label>Jahr</label><select id="yearFilter"><option value="">Alle Jahre</option><option value="2020">2020</option><option value="2021">2021</option><option value="2022">2022</option><option value="2023">2023</option><option value="2024">2024</option></select></div><div class="filter-group"><label>Monat</label><select id="monthFilter" disabled><option value="">Alle Monate</option><option value="1">Januar</option><option value="2">Februar</option><option value="3">MÃ¤rz</option><option value="4">April</option><option value="5">Mai</option><option value="6">Juni</option><option value="7">Juli</option><option value="8">August</option><option value="9">September</option><option value="10">Oktober</option><option value="11">November</option><option value="12">Dezember</option></select></div><div class="filter-buttons"><button class="btn btn-primary" id="applyBtn">AusfÃ¼hren</button><button class="btn btn-danger" id="resetBtn">ZurÃ¼cksetzen</button></div></div><div class="status-bar" id="statusBar">Gesamt: <span>37.348 RFQs</span> (2020â€“2024)</div><div class="kpi-grid"><div class="kpi-card blue"><div class="kpi-label">Gesamt RFQs</div><div class="kpi-value" id="kpiTotal">37.348</div><div class="kpi-sub" id="kpiTotalSub">Zeitraum 2020â€“2024</div></div><div class="kpi-card" id="kpiCompareCard"><div class="kpi-label">Vergleich zum Vorjahr</div><div class="kpi-value" id="kpiCompare">â€“</div><div class="kpi-sub" id="kpiCompareSub">Kein Vergleichszeitraum</div><div class="kpi-change" id="kpiChangeTag" style="display:none"></div></div><div class="kpi-card orange"><div class="kpi-label">Lieferanten</div><div class="kpi-value">2.221</div><div class="kpi-sub">Aktive Lieferanten gesamt</div></div></div><div class="charts-grid"><div class="chart-card"><div class="chart-title">ðŸ“Š RFQ Verteilung</div><div class="chart-container" id="barChart"></div><div class="legend" id="barLegend"></div></div><div class="chart-card"><div class="chart-title">ðŸ¥§ Anteile</div><div class="chart-container" id="pieChart"></div><div class="legend" id="pieLegend"></div></div></div><div class="chart-card"><div class="chart-title">ðŸ“ˆ Monatlicher Verlauf</div><div class="chart-container" id="comboChart"></div><div class="legend" id="comboLegend"></div></div><div class="table-section"><div class="table-title">ðŸ“‹ MonatsÃ¼bersicht</div><table class="data-table"><thead><tr><th>Monat</th><th>Aktuell</th><th>Vorjahr</th><th>Differenz</th></tr></thead><tbody id="tableBody"></tbody></table></div></div><script>const DATA={yearly:{2020:2340,2021:9820,2022:10979,2023:10945,2024:3264},monthly:{2020:{2:17,3:34,4:16,5:37,6:199,7:306,8:224,9:284,10:358,11:430,12:435},2021:{1:599,2:758,3:909,4:878,5:817,6:824,7:977,8:639,9:896,10:911,11:871,12:741},2022:{1:743,2:1115,3:1166,4:798,5:947,6:991,7:1074,8:629,9:894,10:951,11:897,12:774},2023:{1:799,2:817,3:1020,4:816,5:1027,6:1030,7:1072,8:694,9:947,10:962,11:1014,12:747},2024:{1:958,2:1068,3:1050,4:188}},total:37348};const MONTHS=['','Januar','Februar','MÃ¤rz','April','Mai','Juni','Juli','August','September','Oktober','November','Dezember'];const COLORS={blue:'#3498db',green:'#2ecc71',red:'#e74c3c',orange:'#f39c12',purple:'#9b59b6',teal:'#1abc9c'};const YEAR_COLORS={2020:'#e74c3c',2021:'#f39c12',2022:'#2ecc71',2023:'#3498db',2024:'#9b59b6'};let currentYear='';let currentMonth='';function formatNum(n){return n.toLocaleString('de-DE')}function init(){document.getElementById('yearFilter').addEventListener('change',e=>{currentYear=e.target.value;const monthSel=document.getElementById('monthFilter');if(currentYear){monthSel.disabled=false}else{monthSel.disabled=true;monthSel.value='';currentMonth=''}});document.getElementById('monthFilter').addEventListener('change',e=>{currentMonth=e.target.value});document.getElementById('applyBtn').addEventListener('click',updateDashboard);document.getElementById('resetBtn').addEventListener('click',()=>{document.getElementById('yearFilter').value='';document.getElementById('monthFilter').value='';document.getElementById('monthFilter').disabled=true;currentYear='';currentMonth='';updateDashboard()});updateDashboard()}function updateDashboard(){updateStatus();updateKPIs();updateBarChart();updatePieChart();updateComboChart();updateTable()}function updateStatus(){let text='';let count=0;if(!currentYear){text='Gesamt: <span>'+formatNum(DATA.total)+' RFQs</span> (2020â€“2024)';count=DATA.total}else if(!currentMonth){count=DATA.yearly[currentYear]||0;text='Jahr '+currentYear+': <span>'+formatNum(count)+' RFQs</span>'}else{count=DATA.monthly[currentYear]?.[currentMonth]||0;text=MONTHS[currentMonth]+' '+currentYear+': <span>'+formatNum(count)+' RFQs</span>'}document.getElementById('statusBar').innerHTML=text}function updateKPIs(){let total=0,sub='',compare=null,prevVal=0,currVal=0;if(!currentYear){total=DATA.total;sub='Zeitraum 2020â€“2024'}else if(!currentMonth){total=DATA.yearly[currentYear]||0;sub='Jahr '+currentYear;const prevYear=parseInt(currentYear)-1;if(DATA.yearly[prevYear]){prevVal=DATA.yearly[prevYear];currVal=total;compare=currVal-prevVal}}else{total=DATA.monthly[currentYear]?.[currentMonth]||0;sub=MONTHS[currentMonth]+' '+currentYear;const prevYear=parseInt(currentYear)-1;if(DATA.monthly[prevYear]?.[currentMonth]){prevVal=DATA.monthly[prevYear][currentMonth];currVal=total;compare=currVal-prevVal}}document.getElementById('kpiTotal').textContent=formatNum(total);document.getElementById('kpiTotalSub').textContent=sub;const card=document.getElementById('kpiCompareCard');const val=document.getElementById('kpiCompare');const compSub=document.getElementById('kpiCompareSub');const tag=document.getElementById('kpiChangeTag');if(compare!==null){const pct=prevVal>0?((compare/prevVal)*100).toFixed(1):0;const sign=compare>=0?'+':'';val.textContent=sign+formatNum(compare);if(compare>=0){card.className='kpi-card green';compSub.textContent='Mehr als Vorjahr ('+formatNum(prevVal)+')';tag.textContent=sign+pct+'%';tag.className='kpi-change positive'}else{card.className='kpi-card red';compSub.textContent='Weniger als Vorjahr ('+formatNum(prevVal)+')';tag.textContent=pct+'%';tag.className='kpi-change negative'}tag.style.display='inline-block'}else{card.className='kpi-card';card.style.setProperty('--before-bg','#8892b0');val.textContent='â€“';compSub.textContent='Kein Vergleichszeitraum';tag.style.display='none'}}function updateBarChart(){const container=document.getElementById('barChart');const legend=document.getElementById('barLegend');let data=[],labels=[],colors=[];if(!currentYear){for(let y=2020;y<=2024;y++){data.push(DATA.yearly[y]||0);labels.push(y.toString());colors.push(YEAR_COLORS[y])}}else if(!currentMonth){const curr=DATA.yearly[currentYear]||0;const prevYear=parseInt(currentYear)-1;const prev=DATA.yearly[prevYear]||0;data=[prev,curr];labels=[prevYear.toString(),currentYear];colors=[COLORS.red,COLORS.blue]}else{const curr=DATA.monthly[currentYear]?.[currentMonth]||0;const prevYear=parseInt(currentYear)-1;const prev=DATA.monthly[prevYear]?.[currentMonth]||0;data=[prev,curr];labels=[MONTHS[currentMonth]+' '+prevYear,MONTHS[currentMonth]+' '+currentYear];colors=[COLORS.red,COLORS.blue]}const max=Math.max(...data)*1.1;const w=Math.min(container.clientWidth-40,500);const h=250;const barW=Math.min(60,w/data.length-20);const gap=(w-barW*data.length)/(data.length+1);let svg=`<svg width="${w}" height="${h}" viewBox="0 0 ${w} ${h}">`;data.forEach((v,i)=>{const barH=(v/max)*(h-50);const x=gap+(barW+gap)*i;const y=h-30-barH;svg+=`<rect x="${x}" y="${y}" width="${barW}" height="${barH}" fill="${colors[i]}" rx="4"/>`;svg+=`<text x="${x+barW/2}" y="${y-8}" fill="#fff" font-size="12" text-anchor="middle" font-weight="600">${formatNum(v)}</text>`;svg+=`<text x="${x+barW/2}" y="${h-10}" fill="#8892b0" font-size="11" text-anchor="middle">${labels[i]}</text>`});svg+=`</svg>`;container.innerHTML=svg;legend.innerHTML=labels.map((l,i)=>`<div class="legend-item"><div class="legend-color" style="background:${colors[i]}"></div>${l}</div>`).join('')}function updatePieChart(){const container=document.getElementById('pieChart');const legend=document.getElementById('pieLegend');let data=[],labels=[],colors=[];if(!currentYear){for(let y=2020;y<=2024;y++){data.push(DATA.yearly[y]||0);labels.push(y.toString());colors.push(YEAR_COLORS[y])}}else if(!currentMonth){const curr=DATA.yearly[currentYear]||0;const prevYear=parseInt(currentYear)-1;const prev=DATA.yearly[prevYear]||0;if(prev>0||curr>0){data=[prev,curr];labels=[prevYear.toString(),currentYear];colors=[COLORS.red,COLORS.blue]}}else{const curr=DATA.monthly[currentYear]?.[currentMonth]||0;const prevYear=parseInt(currentYear)-1;const prev=DATA.monthly[prevYear]?.[currentMonth]||0;if(prev>0||curr>0){data=[prev,curr];labels=[MONTHS[currentMonth]+' '+prevYear,MONTHS[currentMonth]+' '+currentYear];colors=[COLORS.red,COLORS.blue]}}if(data.length===0||data.every(d=>d===0)){container.innerHTML='<div class="chart-hint">Keine Daten verfÃ¼gbar</div>';legend.innerHTML='';return}const total=data.reduce((a,b)=>a+b,0);const cx=120,cy=120,r=90;let angle=-Math.PI/2;let svg=`<svg width="240" height="240" viewBox="0 0 240 240">`;data.forEach((v,i)=>{if(v===0)return;const pct=v/total;const a=pct*Math.PI*2;const x1=cx+r*Math.cos(angle);const y1=cy+r*Math.sin(angle);angle+=a;const x2=cx+r*Math.cos(angle);const y2=cy+r*Math.sin(angle);const large=a>Math.PI?1:0;svg+=`<path d="M${cx},${cy} L${x1},${y1} A${r},${r} 0 ${large} 1 ${x2},${y2} Z" fill="${colors[i]}"/>`});svg+=`<circle cx="${cx}" cy="${cy}" r="45" fill="#1a1a2e"/>`;svg+=`<text x="${cx}" y="${cy+5}" fill="#fff" font-size="14" text-anchor="middle" font-weight="600">${formatNum(total)}</text>`;svg+=`</svg>`;container.innerHTML=svg;legend.innerHTML=data.map((v,i)=>{const pct=((v/total)*100).toFixed(1);return`<div class="legend-item"><div class="legend-color" style="background:${colors[i]}"></div>${labels[i]}: ${pct}%</div>`}).join('')}function updateComboChart(){const container=document.getElementById('comboChart');const legend=document.getElementById('comboLegend');if(!currentYear){container.innerHTML='<div class="chart-hint">Bitte wÃ¤hlen Sie ein Jahr aus, um den Monatsverlauf anzuzeigen</div>';legend.innerHTML='';return}const w=Math.min(container.clientWidth-40,800);const h=280;const padding={top:30,right:30,bottom:40,left:50};const chartW=w-padding.left-padding.right;const chartH=h-padding.top-padding.bottom;const currData=DATA.monthly[currentYear]||{};const prevYear=parseInt(currentYear)-1;const prevData=DATA.monthly[prevYear]||{};let allVals=[];for(let m=1;m<=12;m++){allVals.push(currData[m]||0);allVals.push(prevData[m]||0)}const max=Math.max(...allVals)*1.15||100;const barW=chartW/12*0.4;let svg=`<svg width="${w}" height="${h}" viewBox="0 0 ${w} ${h}">`;for(let i=0;i<=4;i++){const y=padding.top+(chartH/4)*i;const val=Math.round(max-(max/4)*i);svg+=`<line x1="${padding.left}" y1="${y}" x2="${w-padding.right}" y2="${y}" stroke="rgba(255,255,255,0.1)" stroke-dasharray="4"/>`;svg+=`<text x="${padding.left-10}" y="${y+4}" fill="#8892b0" font-size="10" text-anchor="end">${formatNum(val)}</text>`}let linePath='';for(let m=1;m<=12;m++){const x=padding.left+((m-0.5)/12)*chartW;const curr=currData[m]||0;const prev=prevData[m]||0;const barH=(curr/max)*chartH;const barY=padding.top+chartH-barH;svg+=`<rect x="${x-barW/2}" y="${barY}" width="${barW}" height="${barH}" fill="${COLORS.blue}" rx="3" opacity="0.9"/>`;if(curr>0){svg+=`<text x="${x}" y="${barY-5}" fill="#fff" font-size="9" text-anchor="middle">${formatNum(curr)}</text>`}if(prev>0){const ly=padding.top+chartH-(prev/max)*chartH;linePath+=(m===1?'M':'L')+`${x},${ly} `}svg+=`<text x="${x}" y="${h-10}" fill="#8892b0" font-size="10" text-anchor="middle">${MONTHS[m].substring(0,3)}</text>`}if(linePath){svg+=`<path d="${linePath}" fill="none" stroke="${COLORS.red}" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>`;const pts=linePath.replace('M','').split('L').map(p=>p.trim().split(',').map(Number));pts.forEach(([px,py])=>{svg+=`<circle cx="${px}" cy="${py}" r="5" fill="${COLORS.red}"/>`})}svg+=`</svg>`;container.innerHTML=svg;legend.innerHTML=`<div class="legend-item"><div class="legend-color" style="background:${COLORS.blue}"></div>${currentYear} (Balken)</div><div class="legend-item"><div class="legend-color" style="background:${COLORS.red}"></div>${prevYear} (Linie)</div>`}function updateTable(){const tbody=document.getElementById('tableBody');let rows='';const year=currentYear||'2024';const prevYear=(parseInt(year)-1).toString();for(let m=1;m<=12;m++){const curr=DATA.monthly[year]?.[m]||0;const prev=DATA.monthly[prevYear]?.[m]||0;const diff=curr-prev;const diffClass=diff>=0?'diff-positive':'diff-negative';const diffSign=diff>=0?'+':'';const highlight=currentMonth==m?'highlight':'';rows+=`<tr class="${highlight}"><td>${MONTHS[m]}</td><td>${formatNum(curr)}</td><td>${formatNum(prev)}</td><td class="${diffClass}">${diffSign}${formatNum(diff)}</td></tr>`}tbody.innerHTML=rows}init();</script></body></html>