<!DOCTYPE html><html><head><meta charset='UTF-8'><meta name='viewport' content='width=device-width,initial-scale=1'><title>RFQ Dashboard</title><style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:'Segoe UI',Arial,sans-serif;background:#f5f5f5;padding:20px}h1{color:#333;margin-bottom:30px;text-align:center}.container{max-width:1400px;margin:0 auto}.filters{background:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 4px rgba(0,0,0,0.1);margin-bottom:20px;display:flex;gap:15px;align-items:center;flex-wrap:wrap}.filter-group{display:flex;flex-direction:column;gap:5px}label{font-weight:600;color:#333;font-size:14px}select{padding:8px 12px;border:1px solid #ddd;border-radius:4px;background:#fff;cursor:pointer;font-size:14px}button{padding:8px 16px;background:#3498db;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:14px;font-weight:600;transition:.2s}button:hover{background:#2980b9}button.reset{background:#e74c3c}button.reset:hover{background:#c0392b}.kpi-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin-bottom:20px}.kpi-card{background:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 4px rgba(0,0,0,0.1)}.kpi-header{font-size:12px;color:#666;font-weight:600;text-transform:uppercase;margin-bottom:10px}.kpi-value{font-size:36px;font-weight:700;margin:10px 0}.kpi-comparison{font-size:14px;margin-top:10px}.positive{color:#2ecc71}.negative{color:#e74c3c}.status-box{background:#ecf0f1;padding:12px;border-radius:4px;font-size:12px;color:#555;line-height:1.6}.chart-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(500px,1fr));gap:20px;margin-bottom:20px}.chart-container{background:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 4px rgba(0,0,0,0.1)}.chart-title{font-size:16px;font-weight:600;color:#333;margin-bottom:15px}table{width:100%;border-collapse:collapse;margin-top:10px}thead{background:#f9f9f9}th{text-align:left;padding:12px;font-weight:600;border-bottom:2px solid #ddd;color:#333}td{padding:10px 12px;border-bottom:1px solid #eee;color:#555}tr:hover{background:#f9f9f9}.no-data{text-align:center;color:#999;padding:40px;font-size:14px}</style></head><body><div class='container'><h1>ðŸ“Š RFQ Dashboard (2020-2024)</h1><div class='filters'><div class='filter-group'><label for='yearSelect'>Year</label><select id='yearSelect'><option value=''>All Years</option><option value='2024'>2024</option><option value='2023'>2023</option><option value='2022'>2022</option><option value='2021'>2021</option><option value='2020'>2020</option></select></div><div class='filter-group'><label for='monthSelect'>Month</label><select id='monthSelect' disabled><option value=''>All Months</option><option value='1'>January</option><option value='2'>February</option><option value='3'>March</option><option value='4'>April</option><option value='5'>May</option><option value='6'>June</option><option value='7'>July</option><option value='8'>August</option><option value='9'>September</option><option value='10'>October</option><option value='11'>November</option><option value='12'>December</option></select></div><button onclick='applyFilters()'>Apply Filter</button><button class='reset' onclick='resetFilters()'>Reset</button></div><div id='statusBox' class='kpi-card status-box' style='margin-bottom:20px'><strong>Status:</strong> <span id='statusText'>No filters applied</span></div><div class='kpi-grid'><div class='kpi-card' style='border-left:4px solid #3498db'><div class='kpi-header'>Total RFQs</div><div id='kpiTotal' class='kpi-value'>-</div><div class='status-box'>Dynamic count based on filter</div></div><div class='kpi-card' style='border-left:4px solid #2ecc71'><div class='kpi-header'>Current Period</div><div id='kpiCurrent' class='kpi-value'>-</div><div class='kpi-comparison'><span id='comparisonDiff'>-</span></div></div><div class='kpi-card' style='border-left:4px solid #e74c3c'><div class='kpi-header'>Previous Year</div><div id='kpiPrevious' class='kpi-value'>-</div><div class='kpi-comparison'><span id='comparisonPct'>-</span></div></div><div class='kpi-card' style='border-left:4px solid #f39c12'><div class='kpi-header'>Active Suppliers (24M)</div><div class='kpi-value' style='color:#f39c12'>944</div><div class='status-box'>Static: Unique suppliers in last 730 days</div></div></div><div class='chart-grid'><div class='chart-container'><div class='chart-title'>ðŸ“ˆ Annual Trend</div><svg id='barChart' width='100%' height='300' style='min-height:300px'></svg></div><div class='chart-container'><div class='chart-title'>ðŸ¥§ Distribution by Year</div><svg id='pieChart' width='100%' height='300' style='min-height:300px'></svg></div></div><div class='chart-container'><div class='chart-title'>ðŸ“Š Monthly Comparison (Current vs Previous Year)</div><svg id='comboChart' width='100%' height='350'></svg></div><div class='chart-container'><div class='chart-title'>ðŸ“‹ Monthly Details</div><table id='dataTable'><thead><tr><th>Month</th><th>Current</th><th>Previous</th><th>Difference</th><th>% Change</th></tr></thead><tbody id='tableBody'><tr><td colspan='5' class='no-data'>No data selected</td></tr></tbody></table></div></div><script>const rfqData={2020:[0,0,17,34,16,37,199,306,224,284,358,430,435],2021:[0,599,758,909,878,817,824,977,639,896,911,871,741],2022:[0,743,1115,1166,798,947,991,1074,629,894,951,897,774],2023:[0,799,817,1020,816,1027,1030,1072,694,947,962,1014,747],2024:[0,958,1068,1050,188,0,0,0,0,0,0,0,0]};const monthNames=['','Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];let filteredData={};function applyFilters(){const year=document.getElementById('yearSelect').value;const month=document.getElementById('monthSelect').value;filteredData={year:year||null,month:month||null};updateDashboard()}function resetFilters(){document.getElementById('yearSelect').value='';document.getElementById('monthSelect').value='';document.getElementById('monthSelect').disabled=true;filteredData={year:null,month:null};updateDashboard()}document.getElementById('yearSelect').addEventListener('change',function(){const monthSelect=document.getElementById('monthSelect');if(this.value){monthSelect.disabled=false}else{monthSelect.disabled=true;monthSelect.value=''}});function updateDashboard(){updateKPIs();updateStatusBox();updateBarChart();updatePieChart();updateComboChart();updateTable()}function getFilteredValues(){let total=0,current=0,previous=0;if(!filteredData.year){Object.values(rfqData).forEach(yearData=>{total+=yearData.slice(1).reduce((a,b)=>a+b,0)});return{total,current,previous}}if(filteredData.year&&!filteredData.month){const year=parseInt(filteredData.year);total=rfqData[year].slice(1).reduce((a,b)=>a+b,0);current=total;const prevYear=year-1;previous=rfqData[prevYear]?rfqData[prevYear].slice(1).reduce((a,b)=>a+b,0):0;return{total,current,previous}}if(filteredData.year&&filteredData.month){const year=parseInt(filteredData.year);const month=parseInt(filteredData.month);current=rfqData[year][month]||0;const prevYear=year-1;previous=rfqData[prevYear]?rfqData[prevYear][month]||0:0;total=current;return{total,current,previous}}}function updateKPIs(){const{total,current,previous}=getFilteredValues();document.getElementById('kpiTotal').textContent=total.toLocaleString();document.getElementById('kpiCurrent').textContent=current.toLocaleString();document.getElementById('kpiPrevious').textContent=previous.toLocaleString();const diff=current-previous;const diffText=diff>=0?`+${diff}`:diff;const pctChange=previous>0?((diff/previous)*100).toFixed(1):'-';const diffEl=document.getElementById('comparisonDiff');const pctEl=document.getElementById('comparisonPct');diffEl.textContent=diffText;diffEl.className=diff>=0?'positive':'negative';pctEl.textContent=pctChange==='--'?'-':pctChange+'% vs PY';pctEl.className=parseFloat(pctChange)>=0?'positive':'negative'}function updateStatusBox(){let text='No filters applied â€¢ Showing all data';if(filteredData.year&&filteredData.month){text=`Showing: ${monthNames[parseInt(filteredData.month)]} ${filteredData.year} â€¢ Compare with ${parseInt(filteredData.year)-1}`}else if(filteredData.year){text=`Showing: Year ${filteredData.year} â€¢ Compare with ${parseInt(filteredData.year)-1}`}document.getElementById('statusText').textContent=text}function updateBarChart(){const svg=document.getElementById('barChart');svg.innerHTML='';const width=svg.clientWidth||500;const height=svg.clientHeight||300;const padding={top:30,right:20,bottom:40,left:50};const chartW=width-padding.left-padding.right;const chartH=height-padding.top-padding.bottom;let years=[],values=[];if(!filteredData.year){years=Object.keys(rfqData);values=years.map(y=>rfqData[y].slice(1).reduce((a,b)=>a+b,0))}else{const year=parseInt(filteredData.year);const data=rfqData[year];const prevYear=year-1;const prevData=rfqData[prevYear]||[];for(let m=1;m<=12;m++){const val=data[m]||0;const pVal=prevData[m]||0;if(val>0||pVal>0){years.push(monthNames[m]+' '+year);values.push(val)}}}if(values.length===0){svg.appendChild(createText(svg,'No data',width/2,height/2,'#999'));return}const maxVal=Math.max(...values)*1.2;const scale=chartH/maxVal;const barW=chartW/(values.length*1.5);let x=padding.left;values.forEach((val,i)=>{const barH=val*scale;const y=height-padding.bottom-barH;const rect=document.createElementNS('http://www.w3.org/2000/svg','rect');rect.setAttribute('x',x+barW*0.25);rect.setAttribute('y',y);rect.setAttribute('width',barW*0.5);rect.setAttribute('height',barH);rect.setAttribute('fill','#3498db');svg.appendChild(rect);const txt=document.createElementNS('http://www.w3.org/2000/svg','text');txt.setAttribute('x',x+barW*0.75);txt.setAttribute('y',y-5);txt.setAttribute('text-anchor','middle');txt.setAttribute('font-size','12');txt.setAttribute('fill','#333');txt.setAttribute('font-weight','600');txt.textContent=val.toLocaleString();svg.appendChild(txt);const label=createText(svg,years[i],x+barW*0.75,height-padding.bottom+20,'#666',12);label.setAttribute('text-anchor','middle');svg.appendChild(label);x+=barW*1.5});drawGridLines(svg,padding,chartW,chartH,maxVal)}function updatePieChart(){const svg=document.getElementById('pieChart');svg.innerHTML='';const width=svg.clientWidth||500;const height=svg.clientHeight||300;const cx=width/2;const cy=height/2;const radius=Math.min(width,height)/3;let years=[],values=[];if(!filteredData.year){years=Object.keys(rfqData);values=years.map(y=>rfqData[y].slice(1).reduce((a,b)=>a+b,0))}else{return}const colors=['#3498db','#2ecc71','#e74c3c','#f39c12','#9b59b6'];const total=values.reduce((a,b)=>a+b,0);let currentAngle=0;values.forEach((val,i)=>{const sliceAngle=val/total*2*Math.PI;const startAngle=currentAngle;const endAngle=currentAngle+sliceAngle;const x1=cx+radius*Math.cos(startAngle);const y1=cy+radius*Math.sin(startAngle);const x2=cx+radius*Math.cos(endAngle);const y2=cy+radius*Math.sin(endAngle);const largeArc=sliceAngle>Math.PI?1:0;const path=`M ${cx} ${cy} L ${x1} ${y1} A ${radius} ${radius} 0 ${largeArc} 1 ${x2} ${y2} Z`;const pathEl=document.createElementNS('http://www.w3.org/2000/svg','path');pathEl.setAttribute('d',path);pathEl.setAttribute('fill',colors[i%5]);pathEl.setAttribute('stroke','#fff');pathEl.setAttribute('stroke-width','2');svg.appendChild(pathEl);const midAngle=startAngle+sliceAngle/2;const labelR=radius*0.65;const lx=cx+labelR*Math.cos(midAngle);const ly=cy+labelR*Math.sin(midAngle);const pct=((val/total)*100).toFixed(1);const label=createText(svg,pct+'%',lx,ly,'#fff',14);label.setAttribute('text-anchor','middle');label.setAttribute('font-weight','700');svg.appendChild(label);const legendX=width-120;const legendY=30+i*25;const dot=document.createElementNS('http://www.w3.org/2000/svg','rect');dot.setAttribute('x',legendX);dot.setAttribute('y',legendY);dot.setAttribute('width','12');dot.setAttribute('height','12');dot.setAttribute('fill',colors[i%5]);svg.appendChild(dot);const legLabel=createText(svg,years[i]+': '+val.toLocaleString(),legendX+18,legendY+10,'#333',12);svg.appendChild(legLabel);currentAngle=endAngle})}function updateComboChart(){const svg=document.getElementById('comboChart');svg.innerHTML='';const width=svg.clientWidth||800;const height=svg.clientHeight||350;const padding={top:30,right:20,bottom:40,left:50};const chartW=width-padding.left-padding.right;const chartH=height-padding.top-padding.bottom;let year=parseInt(filteredData.year);if(!year)year=2024;const months=rfqData[year];const prevMonths=rfqData[year-1]||[];let maxVal=0;for(let m=1;m<=12;m++){maxVal=Math.max(maxVal,months[m]||0,prevMonths[m]||0)}maxVal=maxVal*1.2;const scale=chartH/maxVal;const barW=chartW/13;let x=padding.left;const barColor='#2ecc71';const lineColor='#e74c3c';const points=[];for(let m=1;m<=12;m++){const barH=(months[m]||0)*scale;const y=height-padding.bottom-barH;const bx=x+barW*0.4;const by=y;const rect=document.createElementNS('http://www.w3.org/2000/svg','rect');rect.setAttribute('x',bx);rect.setAttribute('y',by);rect.setAttribute('width',barW*0.2);rect.setAttribute('height',barH);rect.setAttribute('fill',barColor);svg.appendChild(rect);const val=months[m]||0;const txt=createText(svg,val.toLocaleString(),bx+barW*0.1,by-5,'#333',11);txt.setAttribute('text-anchor','middle');txt.setAttribute('font-weight','600');svg.appendChild(txt);const px=x+barW*0.5;const py=height-padding.bottom-(prevMonths[m]||0)*scale;points.push({x:px,y:py,val:prevMonths[m]||0});const label=createText(svg,monthNames[m],x+barW*0.5,height-padding.bottom+20,'#666',12);label.setAttribute('text-anchor','middle');svg.appendChild(label);x+=barW}if(points.length>0){let pathD=`M ${points[0].x} ${points[0].y}`;for(let i=1;i<points.length;i++){pathD+=` L ${points[i].x} ${points[i].y}`}const line=document.createElementNS('http://www.w3.org/2000/svg','path');line.setAttribute('d',pathD);line.setAttribute('stroke',lineColor);line.setAttribute('stroke-width','2');line.setAttribute('fill','none');svg.appendChild(line);points.forEach(p=>{const circle=document.createElementNS('http://www.w3.org/2000/svg','circle');circle.setAttribute('cx',p.x);circle.setAttribute('cy',p.y);circle.setAttribute('r','4');circle.setAttribute('fill',lineColor);svg.appendChild(circle);const txt=createText(svg,p.val.toLocaleString(),p.x,p.y-12,'#e74c3c',10);txt.setAttribute('text-anchor','middle');txt.setAttribute('font-weight','600');svg.appendChild(txt)})}drawGridLines(svg,padding,chartW,chartH,maxVal);const legendY=20;createText(svg,'â–  Current ('+year+')',padding.left,legendY,'#333',12).setAttribute('fill',barColor);createText(svg,'â€” Previous ('+(year-1)+')',padding.left+150,legendY,'#333',12).setAttribute('stroke',lineColor)}function updateTable(){const tbody=document.getElementById('tableBody');tbody.innerHTML='';let year=parseInt(filteredData.year);if(!year)return void(tbody.innerHTML='<tr><td colspan="5" class="no-data">Select a year to view monthly details</td></tr>');const months=rfqData[year];const prevMonths=rfqData[year-1]||[];for(let m=1;m<=12;m++){const curr=months[m]||0;const prev=prevMonths[m]||0;const diff=curr-prev;const pct=prev>0?((diff/prev)*100).toFixed(1):'-';const row=tbody.insertRow();row.innerHTML=`<td>${monthNames[m]}</td><td style='font-weight:600;color:#3498db'>${curr.toLocaleString()}</td><td style='color:#999'>${prev.toLocaleString()}</td><td style='font-weight:600;${diff>=0?'color:#2ecc71':'color:#e74c3c'}'>${diff>=0?'+':''} ${diff.toLocaleString()}</td><td style='font-weight:600;${pct!=='-'&&parseFloat(pct)>=0?'color:#2ecc71':'color:#e74c3c'}'>${pct==='--'?'-':pct+'%'}</td>`}}function drawGridLines(svg,padding,w,h,max){const lines=4;for(let i=1;i<=lines;i++){const y=padding.top+h*(1-i/lines);const line=document.createElementNS('http://www.w3.org/2000/svg','line');line.setAttribute('x1',padding.left);line.setAttribute('x2',padding.left+w);line.setAttribute('y1',y);line.setAttribute('y2',y);line.setAttribute('stroke','#eee');line.setAttribute('stroke-dasharray','3,3');svg.appendChild(line);const val=Math.round(max*i/lines);const kVal=Math.round(val/1000);const label=createText(svg,kVal+'K',padding.left-10,y+4,'#999',11);label.setAttribute('text-anchor','end');svg.appendChild(label)}}function createText(svg,text,x,y,fill,size=14){const txt=document.createElementNS('http://www.w3.org/2000/svg','text');txt.setAttribute('x',x);txt.setAttribute('y',y);txt.setAttribute('font-size',size);txt.setAttribute('fill',fill);txt.setAttribute('font-family','Arial,sans-serif');txt.textContent=text;return txt}updateDashboard()</script></body></html>