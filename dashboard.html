<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RFQ Dashboard 2020-2024</title>
<style>
*{box-sizing:border-box;margin:0;padding:0}
body{font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;background:#f5f7fa;color:#333;line-height:1.6}
.container{max-width:1400px;margin:0 auto;padding:20px}
h1{text-align:center;color:#2c3e50;margin-bottom:20px;font-size:28px}
.filter-section{background:#fff;border-radius:10px;padding:20px;margin-bottom:20px;box-shadow:0 2px 10px rgba(0,0,0,0.1);display:flex;flex-wrap:wrap;gap:15px;align-items:center}
.filter-group{display:flex;flex-direction:column;gap:5px}
.filter-group label{font-weight:600;color:#555;font-size:14px}
.filter-group select{padding:10px 15px;border:2px solid #e0e0e0;border-radius:6px;font-size:14px;min-width:150px;cursor:pointer;transition:border-color 0.3s}
.filter-group select:focus{outline:none;border-color:#3498db}
.filter-group select:disabled{background:#f0f0f0;cursor:not-allowed}
.btn{padding:10px 25px;border:none;border-radius:6px;font-size:14px;font-weight:600;cursor:pointer;transition:all 0.3s}
.btn-primary{background:#3498db;color:#fff}
.btn-primary:hover{background:#2980b9}
.btn-danger{background:#e74c3c;color:#fff}
.btn-danger:hover{background:#c0392b}
.status-bar{background:linear-gradient(135deg,#3498db,#2980b9);color:#fff;padding:15px 20px;border-radius:8px;margin-bottom:20px;font-size:16px;font-weight:500}
.kpi-section{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px;margin-bottom:25px}
.kpi-card{background:#fff;border-radius:10px;padding:25px;box-shadow:0 2px 10px rgba(0,0,0,0.1);position:relative;overflow:hidden}
.kpi-card::before{content:'';position:absolute;top:0;left:0;width:5px;height:100%}
.kpi-card.blue::before{background:#3498db}
.kpi-card.green::before{background:#2ecc71}
.kpi-card.orange::before{background:#f39c12}
.kpi-card.red::before{background:#e74c3c}
.kpi-title{font-size:14px;color:#777;text-transform:uppercase;margin-bottom:10px}
.kpi-value{font-size:36px;font-weight:700;color:#2c3e50}
.kpi-sub{font-size:14px;margin-top:8px;display:flex;align-items:center;gap:5px}
.kpi-sub.positive{color:#2ecc71}
.kpi-sub.negative{color:#e74c3c}
.charts-section{display:grid;grid-template-columns:repeat(auto-fit,minmax(400px,1fr));gap:20px;margin-bottom:25px}
.chart-card{background:#fff;border-radius:10px;padding:20px;box-shadow:0 2px 10px rgba(0,0,0,0.1)}
.chart-title{font-size:16px;font-weight:600;color:#2c3e50;margin-bottom:15px;padding-bottom:10px;border-bottom:2px solid #f0f0f0}
.chart-container{width:100%;min-height:300px;display:flex;justify-content:center;align-items:center}
.chart-placeholder{color:#999;font-style:italic;text-align:center;padding:40px}
.table-section{background:#fff;border-radius:10px;padding:20px;box-shadow:0 2px 10px rgba(0,0,0,0.1)}
.table-title{font-size:16px;font-weight:600;color:#2c3e50;margin-bottom:15px;padding-bottom:10px;border-bottom:2px solid #f0f0f0}
table{width:100%;border-collapse:collapse}
th{background:#f8f9fa;padding:12px;text-align:left;font-weight:600;color:#555;border-bottom:2px solid #e0e0e0}
td{padding:12px;border-bottom:1px solid #e0e0e0}
tr:hover{background:#f8f9fa}
tr.highlight{background:#fff3cd}
.positive-cell{color:#2ecc71;font-weight:600}
.negative-cell{color:#e74c3c;font-weight:600}
.legend{display:flex;gap:20px;margin-top:15px;flex-wrap:wrap}
.legend-item{display:flex;align-items:center;gap:8px;font-size:13px}
.legend-color{width:16px;height:16px;border-radius:3px}
@media(max-width:768px){.charts-section{grid-template-columns:1fr}.filter-section{flex-direction:column;align-items:stretch}}
</style>
</head>
<body>
<div class="container">
<h1>ðŸ“Š RFQ Dashboard 2020â€“2024</h1>
<div class="filter-section">
<div class="filter-group">
<label>Jahr</label>
<select id="yearFilter">
<option value="">Alle Jahre</option>
<option value="2020">2020</option>
<option value="2021">2021</option>
<option value="2022">2022</option>
<option value="2023">2023</option>
<option value="2024">2024</option>
</select>
</div>
<div class="filter-group">
<label>Monat</label>
<select id="monthFilter" disabled>
<option value="">Alle Monate</option>
<option value="1">Januar</option>
<option value="2">Februar</option>
<option value="3">MÃ¤rz</option>
<option value="4">April</option>
<option value="5">Mai</option>
<option value="6">Juni</option>
<option value="7">Juli</option>
<option value="8">August</option>
<option value="9">September</option>
<option value="10">Oktober</option>
<option value="11">November</option>
<option value="12">Dezember</option>
</select>
</div>
<button class="btn btn-primary" onclick="applyFilters()">AusfÃ¼hren</button>
<button class="btn btn-danger" onclick="resetFilters()">ZurÃ¼cksetzen</button>
</div>
<div class="status-bar" id="statusBar">Gesamt 2020â€“2024 â€“ 37.348 RFQs</div>
<div class="kpi-section">
<div class="kpi-card blue">
<div class="kpi-title">Gesamt RFQs</div>
<div class="kpi-value" id="kpiTotal">37.348</div>
<div class="kpi-sub" id="kpiTotalSub">Alle Jahre (2020-2024)</div>
</div>
<div class="kpi-card" id="kpiCompareCard">
<div class="kpi-title">Vergleich zum Vorjahr</div>
<div class="kpi-value" id="kpiCompare">â€“</div>
<div class="kpi-sub" id="kpiCompareSub">Kein Vergleich verfÃ¼gbar</div>
</div>
<div class="kpi-card orange">
<div class="kpi-title">Lieferanten</div>
<div class="kpi-value">2.221</div>
<div class="kpi-sub">Aktive Lieferanten</div>
</div>
</div>
<div class="charts-section">
<div class="chart-card">
<div class="chart-title">ðŸ“Š RFQ Vergleich (Balkendiagramm)</div>
<div class="chart-container" id="barChart"></div>
<div class="legend" id="barLegend"></div>
</div>
<div class="chart-card">
<div class="chart-title">ðŸ¥§ RFQ Verteilung (Tortendiagramm)</div>
<div class="chart-container" id="pieChart"></div>
<div class="legend" id="pieLegend"></div>
</div>
</div>
<div class="chart-card" style="margin-bottom:25px">
<div class="chart-title">ðŸ“ˆ Monatlicher Verlauf (Kombi-Chart)</div>
<div class="chart-container" id="comboChart"></div>
<div class="legend" id="comboLegend"></div>
</div>
<div class="table-section">
<div class="table-title">ðŸ“‹ Monatliche Ãœbersicht</div>
<table id="dataTable">
<thead>
<tr><th>Monat</th><th>Aktuell</th><th>Vorjahr</th><th>Differenz</th></tr>
</thead>
<tbody id="tableBody"></tbody>
</table>
</div>
</div>
<script>
const DATA={yearly:{2020:2340,2021:9820,2022:10979,2023:10945,2024:3264},monthly:{2020:{2:17,3:34,4:16,5:37,6:199,7:306,8:224,9:284,10:358,11:430,12:435},2021:{1:599,2:758,3:909,4:878,5:817,6:824,7:977,8:639,9:896,10:911,11:871,12:741},2022:{1:743,2:1115,3:1166,4:798,5:947,6:991,7:1074,8:629,9:894,10:951,11:897,12:774},2023:{1:799,2:817,3:1020,4:816,5:1027,6:1030,7:1072,8:694,9:947,10:962,11:1014,12:747},2024:{1:958,2:1068,3:1050,4:188}}};
const MONTHS=['','Januar','Februar','MÃ¤rz','April','Mai','Juni','Juli','August','September','Oktober','November','Dezember'];
const COLORS={blue:'#3498db',green:'#2ecc71',red:'#e74c3c',orange:'#f39c12',purple:'#9b59b6',teal:'#1abc9c'};
const YEAR_COLORS={2020:'#3498db',2021:'#2ecc71',2022:'#f39c12',2023:'#9b59b6',2024:'#e74c3c'};
function formatNumber(n){return n.toLocaleString('de-DE')}
function getMonthData(year){const m=DATA.monthly[year]||{};const r=[];for(let i=1;i<=12;i++)r.push(m[i]||0);return r}
function applyFilters(){const y=document.getElementById('yearFilter').value;const m=document.getElementById('monthFilter').value;updateDashboard(y,m)}
function resetFilters(){document.getElementById('yearFilter').value='';document.getElementById('monthFilter').value='';document.getElementById('monthFilter').disabled=true;updateDashboard('','')}
document.getElementById('yearFilter').addEventListener('change',function(){const mf=document.getElementById('monthFilter');if(this.value){mf.disabled=false}else{mf.disabled=true;mf.value=''}});
function updateDashboard(year,month){updateStatus(year,month);updateKPIs(year,month);updateBarChart(year,month);updatePieChart(year,month);updateComboChart(year,month);updateTable(year,month)}
function updateStatus(year,month){const sb=document.getElementById('statusBar');let txt='';let cnt=0;if(!year){txt='Gesamt 2020â€“2024';cnt=37348}else if(!month){txt='Jahr '+year;cnt=DATA.yearly[year]||0}else{txt=MONTHS[parseInt(month)]+' '+year;cnt=(DATA.monthly[year]&&DATA.monthly[year][parseInt(month)])||0}sb.textContent=txt+' â€“ '+formatNumber(cnt)+' RFQs'}
function updateKPIs(year,month){const kt=document.getElementById('kpiTotal');const kts=document.getElementById('kpiTotalSub');const kc=document.getElementById('kpiCompare');const kcs=document.getElementById('kpiCompareSub');const kcc=document.getElementById('kpiCompareCard');let cur=0,prev=0,label='';if(!year){cur=37348;label='Alle Jahre (2020-2024)';kc.textContent='â€“';kcs.textContent='Kein Vergleich verfÃ¼gbar';kcc.className='kpi-card green'}else if(!month){cur=DATA.yearly[year]||0;prev=DATA.yearly[parseInt(year)-1]||0;label='Jahr '+year;if(prev>0){const diff=cur-prev;const pct=((diff/prev)*100).toFixed(1);kc.textContent=(diff>=0?'+':'')+formatNumber(diff);kcs.textContent=pct+'% vs. '+(parseInt(year)-1);kcc.className='kpi-card '+(diff>=0?'green':'red')}else{kc.textContent='â€“';kcs.textContent='Kein Vorjahr';kcc.className='kpi-card green'}}else{const mi=parseInt(month);cur=(DATA.monthly[year]&&DATA.monthly[year][mi])||0;const py=parseInt(year)-1;prev=(DATA.monthly[py]&&DATA.monthly[py][mi])||0;label=MONTHS[mi]+' '+year;if(prev>0){const diff=cur-prev;const pct=((diff/prev)*100).toFixed(1);kc.textContent=(diff>=0?'+':'')+formatNumber(diff);kcs.textContent=pct+'% vs. '+MONTHS[mi]+' '+py;kcc.className='kpi-card '+(diff>=0?'green':'red')}else{kc.textContent='â€“';kcs.textContent='Kein Vorjahr';kcc.className='kpi-card green'}}kt.textContent=formatNumber(cur);kts.textContent=label}
function updateBarChart(year,month){const c=document.getElementById('barChart');const l=document.getElementById('barLegend');if(!year){const years=[2020,2021,2022,2023,2024];const vals=years.map(y=>DATA.yearly[y]);const max=Math.max(...vals);const w=500,h=280,p=50,bw=60,g=20;let svg=`<svg width="${w}" height="${h}" viewBox="0 0 ${w} ${h}">`;const ch=h-p-30;years.forEach((yr,i)=>{const bh=(vals[i]/max)*ch;const x=p+i*(bw+g);const y=h-p-bh;svg+=`<rect x="${x}" y="${y}" width="${bw}" height="${bh}" fill="${YEAR_COLORS[yr]}" rx="4"/>`;svg+=`<text x="${x+bw/2}" y="${h-p+20}" text-anchor="middle" font-size="12" fill="#555">${yr}</text>`;svg+=`<text x="${x+bw/2}" y="${y-8}" text-anchor="middle" font-size="11" font-weight="600" fill="#333">${formatNumber(vals[i])}</text>`});svg+=`</svg>`;c.innerHTML=svg;l.innerHTML=years.map(y=>`<div class="legend-item"><div class="legend-color" style="background:${YEAR_COLORS[y]}"></div>${y}</div>`).join('')}else if(!month){const cy=parseInt(year);const py=cy-1;const cv=DATA.yearly[cy]||0;const pv=DATA.yearly[py]||0;const max=Math.max(cv,pv);const w=400,h=280,p=80,bw=80;let svg=`<svg width="${w}" height="${h}" viewBox="0 0 ${w} ${h}">`;const ch=h-p-30;if(pv>0){const bh1=(pv/max)*ch;const y1=h-p-bh1;svg+=`<rect x="${p}" y="${y1}" width="${bw}" height="${bh1}" fill="#95a5a6" rx="4"/>`;svg+=`<text x="${p+bw/2}" y="${h-p+20}" text-anchor="middle" font-size="12" fill="#555">${py}</text>`;svg+=`<text x="${p+bw/2}" y="${y1-8}" text-anchor="middle" font-size="11" font-weight="600" fill="#333">${formatNumber(pv)}</text>`}const bh2=(cv/max)*ch;const y2=h-p-bh2;svg+=`<rect x="${p+bw+40}" y="${y2}" width="${bw}" height="${bh2}" fill="${YEAR_COLORS[cy]}" rx="4"/>`;svg+=`<text x="${p+bw+40+bw/2}" y="${h-p+20}" text-anchor="middle" font-size="12" fill="#555">${cy}</text>`;svg+=`<text x="${p+bw+40+bw/2}" y="${y2-8}" text-anchor="middle" font-size="11" font-weight="600" fill="#333">${formatNumber(cv)}</text>`;svg+=`</svg>`;c.innerHTML=svg;l.innerHTML=`<div class="legend-item"><div class="legend-color" style="background:#95a5a6"></div>${py} (Vorjahr)</div><div class="legend-item"><div class="legend-color" style="background:${YEAR_COLORS[cy]}"></div>${cy} (Aktuell)</div>`}else{const cy=parseInt(year);const py=cy-1;const mi=parseInt(month);const cv=(DATA.monthly[cy]&&DATA.monthly[cy][mi])||0;const pv=(DATA.monthly[py]&&DATA.monthly[py][mi])||0;const max=Math.max(cv,pv,1);const w=400,h=280,p=80,bw=80;let svg=`<svg width="${w}" height="${h}" viewBox="0 0 ${w} ${h}">`;const ch=h-p-30;if(pv>0){const bh1=(pv/max)*ch;const y1=h-p-bh1;svg+=`<rect x="${p}" y="${y1}" width="${bw}" height="${bh1}" fill="#95a5a6" rx="4"/>`;svg+=`<text x="${p+bw/2}" y="${h-p+20}" text-anchor="middle" font-size="11" fill="#555">${MONTHS[mi]} ${py}</text>`;svg+=`<text x="${p+bw/2}" y="${y1-8}" text-anchor="middle" font-size="11" font-weight="600" fill="#333">${formatNumber(pv)}</text>`}const bh2=cv>0?(cv/max)*ch:0;const y2=h-p-bh2;svg+=`<rect x="${p+bw+40}" y="${y2}" width="${bw}" height="${bh2}" fill="${YEAR_COLORS[cy]||COLORS.blue}" rx="4"/>`;svg+=`<text x="${p+bw+40+bw/2}" y="${h-p+20}" text-anchor="middle" font-size="11" fill="#555">${MONTHS[mi]} ${cy}</text>`;svg+=`<text x="${p+bw+40+bw/2}" y="${y2-8}" text-anchor="middle" font-size="11" font-weight="600" fill="#333">${formatNumber(cv)}</text>`;svg+=`</svg>`;c.innerHTML=svg;l.innerHTML=`<div class="legend-item"><div class="legend-color" style="background:#95a5a6"></div>${MONTHS[mi]} ${py}</div><div class="legend-item"><div class="legend-color" style="background:${YEAR_COLORS[cy]||COLORS.blue}"></div>${MONTHS[mi]} ${cy}</div>`}}
function updatePieChart(year,month){const c=document.getElementById('pieChart');const l=document.getElementById('pieLegend');let data=[],labels=[],colors=[];if(!year){const years=[2020,2021,2022,2023,2024];data=years.map(y=>DATA.yearly[y]);labels=years.map(y=>y.toString());colors=years.map(y=>YEAR_COLORS[y])}else if(!month){const cy=parseInt(year);const py=cy-1;const cv=DATA.yearly[cy]||0;const pv=DATA.yearly[py]||0;data=[pv,cv].filter(v=>v>0);labels=pv>0?[py+' (Vorjahr)',cy+' (Aktuell)']:[cy+' (Aktuell)'];colors=pv>0?['#95a5a6',YEAR_COLORS[cy]]:[YEAR_COLORS[cy]]}else{const cy=parseInt(year);const py=cy-1;const mi=parseInt(month);const cv=(DATA.monthly[cy]&&DATA.monthly[cy][mi])||0;const pv=(DATA.monthly[py]&&DATA.monthly[py][mi])||0;data=[pv,cv].filter(v=>v>0);labels=pv>0?[MONTHS[mi]+' '+py,MONTHS[mi]+' '+cy]:[MONTHS[mi]+' '+cy];colors=pv>0?['#95a5a6',YEAR_COLORS[cy]||COLORS.blue]:[YEAR_COLORS[cy]||COLORS.blue]}const total=data.reduce((a,b)=>a+b,0);const cx=150,cy=130,r=100;let svg=`<svg width="300" height="280" viewBox="0 0 300 280">`;let angle=0;data.forEach((v,i)=>{const pct=v/total;const a1=angle;const a2=angle+pct*2*Math.PI;const la=pct>0.5?1:0;const x1=cx+r*Math.cos(a1);const y1=cy+r*Math.sin(a1);const x2=cx+r*Math.cos(a2);const y2=cy+r*Math.sin(a2);svg+=`<path d="M${cx},${cy} L${x1},${y1} A${r},${r} 0 ${la} 1 ${x2},${y2} Z" fill="${colors[i]}"/>`;const ma=a1+(a2-a1)/2;const tx=cx+(r*0.6)*Math.cos(ma);const ty=cy+(r*0.6)*Math.sin(ma);if(pct>0.05)svg+=`<text x="${tx}" y="${ty}" text-anchor="middle" font-size="11" fill="#fff" font-weight="600">${(pct*100).toFixed(1)}%</text>`;angle=a2});svg+=`</svg>`;c.innerHTML=svg;l.innerHTML=labels.map((lb,i)=>`<div class="legend-item"><div class="legend-color" style="background:${colors[i]}"></div>${lb}: ${formatNumber(data[i])}</div>`).join('')}
function updateComboChart(year,month){const c=document.getElementById('comboChart');const l=document.getElementById('comboLegend');if(!year){c.innerHTML='<div class="chart-placeholder">Bitte wÃ¤hlen Sie ein Jahr aus, um den monatlichen Verlauf anzuzeigen.</div>';l.innerHTML='';return}const cy=parseInt(year);const py=cy-1;const cd=getMonthData(cy);const pd=getMonthData(py);const allVals=[...cd,...pd].filter(v=>v>0);const max=allVals.length>0?Math.max(...allVals):1;const w=650,h=300,pl=50,pr=20,pt=20,pb=50;const cw=w-pl-pr;const ch=h-pt-pb;const sw=cw/12;let svg=`<svg width="${w}" height="${h}" viewBox="0 0 ${w} ${h}">`;for(let i=0;i<=4;i++){const y=pt+i*(ch/4);const v=Math.round(max*(1-i/4));svg+=`<line x1="${pl}" y1="${y}" x2="${w-pr}" y2="${y}" stroke="#e0e0e0" stroke-width="1"/>`;svg+=`<text x="${pl-5}" y="${y+4}" text-anchor="end" font-size="10" fill="#999">${formatNumber(v)}</text>`}cd.forEach((v,i)=>{const bh=(v/max)*ch;const x=pl+i*sw+sw*0.15;const y=h-pb-bh;const bw=sw*0.7;svg+=`<rect x="${x}" y="${y}" width="${bw}" height="${bh}" fill="${YEAR_COLORS[cy]||COLORS.blue}" rx="3" opacity="0.8"/>`});let pts=[];pd.forEach((v,i)=>{if(v>0){const x=pl+i*sw+sw/2;const y=h-pb-(v/max)*ch;pts.push(`${x},${y}`)}});if(pts.length>1){svg+=`<polyline points="${pts.join(' ')}" fill="none" stroke="#95a5a6" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>`;pts.forEach(p=>{const[x,y]=p.split(',');svg+=`<circle cx="${x}" cy="${y}" r="5" fill="#95a5a6" stroke="#fff" stroke-width="2"/>`})}['J','F','M','A','M','J','J','A','S','O','N','D'].forEach((m,i)=>{const x=pl+i*sw+sw/2;svg+=`<text x="${x}" y="${h-pb+25}" text-anchor="middle" font-size="11" fill="#555">${m}</text>`});svg+=`</svg>`;c.innerHTML=svg;l.innerHTML=`<div class="legend-item"><div class="legend-color" style="background:${YEAR_COLORS[cy]||COLORS.blue}"></div>${cy} (Balken)</div><div class="legend-item"><div class="legend-color" style="background:#95a5a6"></div>${py} (Linie)</div>`}
function updateTable(year,month){const tb=document.getElementById('tableBody');const cy=year?parseInt(year):2024;const py=cy-1;const cd=getMonthData(cy);const pd=getMonthData(py);const mi=month?parseInt(month):null;let html='';for(let i=1;i<=12;i++){const cv=cd[i-1]||0;const pv=pd[i-1]||0;const diff=cv-pv;const diffClass=diff>=0?'positive-cell':'negative-cell';const hl=mi===i?'highlight':'';html+=`<tr class="${hl}"><td>${MONTHS[i]}</td><td>${formatNumber(cv)}</td><td>${formatNumber(pv)}</td><td class="${diffClass}">${diff>=0?'+':''}${formatNumber(diff)}</td></tr>`}tb.innerHTML=html}
updateDashboard('','');
</script>
</body>
</html>